!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sceyt=t():e.sceyt=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(14),t),o(n(15),t),o(n(16),t),o(n(17),t),o(n(18),t),o(n(19),t),o(n(36),t),o(n(37),t),o(n(38),t),o(n(39),t),o(n(40),t),o(n(41),t),o(n(42),t),o(n(43),t),o(n(62),t),o(n(64),t),o(n(65),t),o(n(66),t),o(n(67),t),o(n(68),t),o(n(69),t),o(n(70),t),o(n(71),t),o(n(72),t),o(n(73),t),o(n(74),t),o(n(75),t),o(n(76),t),o(n(77),t),o(n(78),t),o(n(79),t),o(n(80),t),o(n(81),t),o(n(82),t),o(n(83),t),o(n(84),t),o(n(85),t),o(n(86),t),o(n(87),t)},function(e,t,n){"use strict";var r=n(5),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";(function(e){var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(23),r.base64=n(24),r.EventEmitter=n(25),r.float=n(26),r.inquire=n(27),r.utf8=n(28),r.pool=n(29),r.LongBits=n(30),r.global="undefined"!=typeof window&&window||void 0!==e&&e||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(22))},function(e,t,n){"use strict";e.exports=p;var r,o=n(2),i=o.LongBits,s=o.base64,a=o.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function p(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(p.create=function(){return new r})()}:function(){return new p}};function f(e,t,n){t[n]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}p.create=d(),p.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(p.alloc=o.pool(p.alloc,o.Array.prototype.subarray)),p.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},p.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},p.prototype.int32=function(e){return e<0?this._push(y,10,i.fromNumber(e)):this.uint32(e)},p.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},p.prototype.uint64=function(e){var t=i.from(e);return this._push(y,t.length(),t)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(y,t.length(),t)},p.prototype.bool=function(e){return this._push(f,1,e?1:0)},p.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},p.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var b=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};p.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(o.isString(e)){var n=p.alloc(t=s.length(e));s.decode(e,n,0),e=n}return this.uint32(t)._push(b,t,e)},p.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},p.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},p.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},p.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},p._configure=function(e){r=e,p.create=d(),r._configure()}},function(e,t,n){"use strict";e.exports=c;var r,o=n(2),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},p=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l};function d(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=p(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=p(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(1);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(1),o=n(51),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(a=n(9)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(i)})),e.exports=c}).call(this,n(50))},function(e,t,n){"use strict";var r=n(1),o=n(52),i=n(54),s=n(6),a=n(55),c=n(58),u=n(59),l=n(10);e.exports=function(e){return new Promise((function(t,n){var p=e.data,d=e.headers;r.isFormData(p)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(h+":"+y)}var g=a(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),s(g,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};o(t,n,i),f=null}},f.onabort=function(){f&&(n(l("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||u(g))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in f&&r.forEach(d,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),p||(p=null),f.send(p)}))}},function(e,t,n){"use strict";var r=n(53);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(i,u),r.forEach(s,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(void 0,t[o])})),r.forEach(a,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=o.concat(i).concat(s).concat(a),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(p,u),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=r.Sceyt},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeString=t.escapeString=t.timeout=t.sleep=t.concatTypedArrays=void 0,t.concatTypedArrays=function(e,t){var n=new e.constructor(e.length+t.length);return n.set(e,0),n.set(t,e.length),n},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.timeout=function(e,t){return new Promise((function(n,o){setTimeout((function(){o(r(r({},new Error("timeout")),{connectionTimeout:!0}))}),e),t.then(n,o)}))},t.escapeString=function(e){return e.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},t.unescapeString=function(e){return e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t._fetch=void 0;var i=n(0);t._fetch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){return o(this,(function(t){return 1e4,[2,i.timeout(1e4,fetch.apply(void 0,e))]}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentMessageType=t.MessageStatus=t.PresenceStatus=t.ChannelInteractionEvents=t.ChannelType=t.MemberType=t.ChannelQueryType=t.AuthState=t.BMP=t.CLIENT_STATE=void 0,function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.FAILED=3]="FAILED",e[e.RECONNECTING=4]="RECONNECTING"}(t.CLIENT_STATE||(t.CLIENT_STATE={})),function(e){e[e.Error=0]="Error",e[e.Auth=1]="Auth",e[e.AuthResult=2]="AuthResult",e[e.Message=3]="Message",e[e.MessageStatus=4]="MessageStatus",e[e.Presence=5]="Presence",e[e.ChannelQuery=6]="ChannelQuery",e[e.ChannelAction=7]="ChannelAction",e[e.TokenQuery=8]="TokenQuery",e[e.MessageQuery=9]="MessageQuery",e[e.ChannelSearchQuery=10]="ChannelSearchQuery",e[e.UserQuery=11]="UserQuery",e[e.MessageAction=12]="MessageAction",e[e.SystemMessage=13]="SystemMessage",e[e.Pong=127]="Pong"}(t.BMP||(t.BMP={})),function(e){e[e.NOT_AUTHENTICATED=0]="NOT_AUTHENTICATED",e[e.HTTP_AUTH_FAILED=1]="HTTP_AUTH_FAILED",e[e.SOCKET_AUTH_FAILED=2]="SOCKET_AUTH_FAILED",e[e.HTTP_AUTHENTICATING=3]="HTTP_AUTHENTICATING",e[e.SOCKET_AUTHENTICATING=4]="SOCKET_AUTHENTICATING",e[e.HTTP_AUTHENTICATED=5]="HTTP_AUTHENTICATED",e[e.SOCKET_AUTHENTICATED=6]="SOCKET_AUTHENTICATED",e[e.AUTHENTICATED=7]="AUTHENTICATED",e[e.CONNECTION_TIMEOUT=8]="CONNECTION_TIMEOUT"}(t.AuthState||(t.AuthState={})),function(e){e[e.NONE=0]="NONE",e[e.CREATE=1]="CREATE",e[e.DELETE=2]="DELETE",e[e.LEAVE=3]="LEAVE",e[e.JOIN=4]="JOIN",e[e.UPDATE=5]="UPDATE",e[e.GET=6]="GET",e[e.GET_LIST=7]="GET_LIST",e[e.ADD_MEMBER=8]="ADD_MEMBER",e[e.KICK_MEMBER=9]="KICK_MEMBER"}(t.ChannelQueryType||(t.ChannelQueryType={})),function(e){e[e.NONE=0]="NONE",e[e.OWNER=1]="OWNER",e[e.MEMBER=2]="MEMBER"}(t.MemberType||(t.MemberType={})),function(e){e[e.NONE=0]="NONE",e[e.PRIVATE=1]="PRIVATE",e[e.PUBLIC=2]="PUBLIC",e[e.DIRECT=3]="DIRECT"}(t.ChannelType||(t.ChannelType={})),function(e){e[e.DELETE=0]="DELETE",e[e.ADD_MEMBER=1]="ADD_MEMBER",e[e.KICK_MEMBER=2]="KICK_MEMBER"}(t.ChannelInteractionEvents||(t.ChannelInteractionEvents={})),function(e){e[e.Offline=0]="Offline",e[e.Online=1]="Online",e[e.Away=2]="Away",e[e.Dnd=3]="Dnd",e[e.Invisible=4]="Invisible"}(t.PresenceStatus||(t.PresenceStatus={})),function(e){e[e.Normal=0]="Normal",e[e.Edit=1]="Edit",e[e.Delete=2]="Delete",e[e.Composing=3]="Composing",e[e.Paused=4]="Paused"}(t.MessageStatus||(t.MessageStatus={})),function(e){e[e.Files=1]="Files",e[e.Url=2]="Url"}(t.AttachmentMessageType||(t.AttachmentMessageType={}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.customAlphabet=t.MESSAGE_TYPES=t.EPOCH=t.RECONNECTION_TIMEOUT=t.PING_MESSAGE=t.CONNECTION_EVENT_TYPES=t.clientErrors=t.serverErrors=t.api=void 0;var o=n(0);t.api={connect:"connect",attachments:"attachments",files:"files"},t.serverErrors={TOO_LARGE_MESSAGE:40002,TOO_MANY_ATTEMPTS:40004,INVALID_TOKEN:40101,EXPIRED_TOKEN:40102,TOKEN_NOT_ACTIVE:40103,UNAUTHORIZED:40104,INTERNAL_ERROR:50001},t.clientErrors=((r={})[o.CLIENT_STATE.CONNECTING]={code:100007,message:"ErrorConnecting"},r[o.CLIENT_STATE.CONNECTED]={code:100006,message:"ErrorAlreadyConnected"},r.CONNECTION_TIMEOUT={code:100005,message:"ErrorConnectionTimeout"},r),t.CONNECTION_EVENT_TYPES={onReconnectStarted:"onReconnectStarted",onReconnectSucceeded:"onReconnectSucceeded",onReconnectFailed:"onReconnectFailed"},t.PING_MESSAGE=126,t.RECONNECTION_TIMEOUT=5e3,t.EPOCH=1584611944111,t.MESSAGE_TYPES={KICK_MEMBER:"@kickMember@",ADD_MEMBER:"@addMember@",UPDATE:"@update@",CREATE:"@create@",DELETE:"@delete@",LEAVE:"@leave@",JOIN:"@join@",MESSAGE:"@message@"},t.customAlphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*()_+=-{}|][<>?.,;:~"},function(e,t,n){"use strict";var r,o=n(20),i=o.Reader,s=o.Writer,a=o.util,c=o.roots.default||(o.roots.default={});c.bin_proto=((r={}).Auth=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.username="",e.prototype.jwt="",e.prototype.domain="",e.prototype.resource="",e.prototype.presence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.jwt&&Object.hasOwnProperty.call(e,"jwt")&&t.uint32(18).string(e.jwt),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(26).string(e.domain),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(34).string(e.resource),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&t.uint32(40).int32(e.presence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Auth;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.username=e.string();break;case 2:r.jwt=e.string();break;case 3:r.domain=e.string();break;case 4:r.resource=e.string();break;case 5:r.presence=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.username&&e.hasOwnProperty("username")&&!a.isString(e.username)?"username: string expected":null!=e.jwt&&e.hasOwnProperty("jwt")&&!a.isString(e.jwt)?"jwt: string expected":null!=e.domain&&e.hasOwnProperty("domain")&&!a.isString(e.domain)?"domain: string expected":null!=e.resource&&e.hasOwnProperty("resource")&&!a.isString(e.resource)?"resource: string expected":null!=e.presence&&e.hasOwnProperty("presence")&&!a.isInteger(e.presence)?"presence: integer expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Auth)return e;var t=new c.bin_proto.Auth;return null!=e.username&&(t.username=String(e.username)),null!=e.jwt&&(t.jwt=String(e.jwt)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.resource&&(t.resource=String(e.resource)),null!=e.presence&&(t.presence=0|e.presence),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.username="",n.jwt="",n.domain="",n.resource="",n.presence=0),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.jwt&&e.hasOwnProperty("jwt")&&(n.jwt=e.jwt),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.resource&&e.hasOwnProperty("resource")&&(n.resource=e.resource),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=e.presence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.AuthResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.msg="",e.prototype.user=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&c.bin_proto.User.encode(e.user,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.AuthResult;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;case 3:r.user=c.bin_proto.User.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!a.isInteger(e.code))return"code: integer expected";if(null!=e.msg&&e.hasOwnProperty("msg")&&!a.isString(e.msg))return"msg: string expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=c.bin_proto.User.verify(e.user);if(t)return"user."+t}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.AuthResult)return e;var t=new c.bin_proto.AuthResult;if(null!=e.code&&(t.code=0|e.code),null!=e.msg&&(t.msg=String(e.msg)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.AuthResult.user: object expected");t.user=c.bin_proto.User.fromObject(e.user)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0,n.msg="",n.user=null),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=e.msg),null!=e.user&&e.hasOwnProperty("user")&&(n.user=c.bin_proto.User.toObject(e.user,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.UserProfile=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.firstName="",e.prototype.lastName="",e.prototype.avatar="",e.prototype.metadata="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.firstName&&Object.hasOwnProperty.call(e,"firstName")&&t.uint32(10).string(e.firstName),null!=e.lastName&&Object.hasOwnProperty.call(e,"lastName")&&t.uint32(18).string(e.lastName),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(26).string(e.avatar),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(34).string(e.metadata),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.UserProfile;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.firstName=e.string();break;case 2:r.lastName=e.string();break;case 3:r.avatar=e.string();break;case 4:r.metadata=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.firstName&&e.hasOwnProperty("firstName")&&!a.isString(e.firstName)?"firstName: string expected":null!=e.lastName&&e.hasOwnProperty("lastName")&&!a.isString(e.lastName)?"lastName: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!a.isString(e.avatar)?"avatar: string expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!a.isString(e.metadata)?"metadata: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.UserProfile)return e;var t=new c.bin_proto.UserProfile;return null!=e.firstName&&(t.firstName=String(e.firstName)),null!=e.lastName&&(t.lastName=String(e.lastName)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.metadata&&(t.metadata=String(e.metadata)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.firstName="",n.lastName="",n.avatar="",n.metadata=""),null!=e.firstName&&e.hasOwnProperty("firstName")&&(n.firstName=e.firstName),null!=e.lastName&&e.hasOwnProperty("lastName")&&(n.lastName=e.lastName),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.User=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.id="",e.prototype.profile=null,e.prototype.status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.profile&&Object.hasOwnProperty.call(e,"profile")&&c.bin_proto.UserProfile.encode(e.profile,t.uint32(18).fork()).ldelim(),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(24).int32(e.status),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.User;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.profile=c.bin_proto.UserProfile.decode(e,e.uint32());break;case 3:r.status=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.profile&&e.hasOwnProperty("profile")){var t=c.bin_proto.UserProfile.verify(e.profile);if(t)return"profile."+t}if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.User)return e;var t=new c.bin_proto.User;if(null!=e.id&&(t.id=String(e.id)),null!=e.profile){if("object"!=typeof e.profile)throw TypeError(".bin_proto.User.profile: object expected");t.profile=c.bin_proto.UserProfile.fromObject(e.profile)}switch(e.status){case"OFFLINE":case 0:t.status=0;break;case"ACTIVE":case 1:t.status=1;break;case"AWAY":case 2:t.status=2;break;case"DND":case 3:t.status=3;break;case"INVISIBLE":case 4:t.status=4}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.profile=null,n.status=t.enums===String?"OFFLINE":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.profile&&e.hasOwnProperty("profile")&&(n.profile=c.bin_proto.UserProfile.toObject(e.profile,t)),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?c.bin_proto.User.Status[e.status]:e.status),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Status=(t={},(n=Object.create(t))[t[0]="OFFLINE"]=0,n[t[1]="ACTIVE"]=1,n[t[2]="AWAY"]=2,n[t[3]="DND"]=3,n[t[4]="INVISIBLE"]=4,n),e}(),r.UserAction=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.action=0,e.prototype.users=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)c.bin_proto.User.encode(e.users[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.UserAction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.action=e.int32();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(c.bin_proto.User.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(var t=0;t<e.users.length;++t){var n=c.bin_proto.User.verify(e.users[t]);if(n)return"users."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.UserAction)return e;var t=new c.bin_proto.UserAction;switch(e.action){case"BLOCK":case 0:t.action=0;break;case"UNBLOCK":case 1:t.action=1;break;case"GET_BLOCK_LIST":case 2:t.action=2}if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.UserAction.users: array expected");t.users=[];for(var n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.UserAction.users: object expected");t.users[n]=c.bin_proto.User.fromObject(e.users[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.users=[]),t.defaults&&(n.action=t.enums===String?"BLOCK":0),null!=e.action&&e.hasOwnProperty("action")&&(n.action=t.enums===String?c.bin_proto.UserAction.Action[e.action]:e.action),e.users&&e.users.length){n.users=[];for(var r=0;r<e.users.length;++r)n.users[r]=c.bin_proto.User.toObject(e.users[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Action=(t={},(n=Object.create(t))[t[0]="BLOCK"]=0,n[t[1]="UNBLOCK"]=1,n[t[2]="GET_BLOCK_LIST"]=2,n),e}(),r.UsersList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.users=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)c.bin_proto.User.encode(e.users[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.UsersList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.users&&r.users.length||(r.users=[]),r.users.push(c.bin_proto.User.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(var t=0;t<e.users.length;++t){var n=c.bin_proto.User.verify(e.users[t]);if(n)return"users."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.UsersList)return e;var t=new c.bin_proto.UsersList;if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.UsersList.users: array expected");t.users=[];for(var n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.UsersList.users: object expected");t.users[n]=c.bin_proto.User.fromObject(e.users[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.users=[]),e.users&&e.users.length){n.users=[];for(var r=0;r<e.users.length;++r)n.users[r]=c.bin_proto.User.toObject(e.users[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Presence=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.type=0,e.prototype.stamp="",e.prototype.from="",e.prototype.show=0,e.prototype.status="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.stamp&&Object.hasOwnProperty.call(e,"stamp")&&t.uint32(18).string(e.stamp),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(26).string(e.from),null!=e.show&&Object.hasOwnProperty.call(e,"show")&&t.uint32(32).int32(e.show),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(42).string(e.status),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Presence;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.stamp=e.string();break;case 3:r.from=e.string();break;case 4:r.show=e.int32();break;case 5:r.status=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}if(null!=e.stamp&&e.hasOwnProperty("stamp")&&!a.isString(e.stamp))return"stamp: string expected";if(null!=e.from&&e.hasOwnProperty("from")&&!a.isString(e.from))return"from: string expected";if(null!=e.show&&e.hasOwnProperty("show"))switch(e.show){default:return"show: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.status&&e.hasOwnProperty("status")&&!a.isString(e.status)?"status: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Presence)return e;var t=new c.bin_proto.Presence;switch(e.type){case"NONE":case 0:t.type=0;break;case"ERROR":case 1:t.type=1;break;case"PROBE":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBED":case 4:t.type=4;break;case"AVAILABLE":case 5:t.type=5;break;case"UNAVAILABLE":case 6:t.type=6;break;case"UNSUBSCRIBE":case 7:t.type=7;break;case"UNSUBSCRIBED":case 8:t.type=8}switch(null!=e.stamp&&(t.stamp=String(e.stamp)),null!=e.from&&(t.from=String(e.from)),e.show){case"UNDEFINED":case 0:t.show=0;break;case"AWAY":case 1:t.show=1;break;case"CHAT":case 2:t.show=2;break;case"DND":case 3:t.show=3;break;case"XA":case 4:t.show=4}return null!=e.status&&(t.status=String(e.status)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"NONE":0,n.stamp="",n.from="",n.show=t.enums===String?"UNDEFINED":0,n.status=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.bin_proto.Presence.Type[e.type]:e.type),null!=e.stamp&&e.hasOwnProperty("stamp")&&(n.stamp=e.stamp),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.show&&e.hasOwnProperty("show")&&(n.show=t.enums===String?c.bin_proto.Presence.Show[e.show]:e.show),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=(t={},(n=Object.create(t))[t[0]="NONE"]=0,n[t[1]="ERROR"]=1,n[t[2]="PROBE"]=2,n[t[3]="SUBSCRIBE"]=3,n[t[4]="SUBSCRIBED"]=4,n[t[5]="AVAILABLE"]=5,n[t[6]="UNAVAILABLE"]=6,n[t[7]="UNSUBSCRIBE"]=7,n[t[8]="UNSUBSCRIBED"]=8,n),e.Show=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="AWAY"]=1,t[e[2]="CHAT"]=2,t[e[3]="DND"]=3,t[e[4]="XA"]=4,t}(),e}(),r.UserSearch=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.limit=0,e.prototype.offset=0,e.prototype.order=0,e.prototype.prefix="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(8).int32(e.limit),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).int32(e.offset),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(24).int32(e.order),null!=e.prefix&&Object.hasOwnProperty.call(e,"prefix")&&t.uint32(34).string(e.prefix),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.UserSearch;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.limit=e.int32();break;case 2:r.offset=e.int32();break;case 3:r.order=e.int32();break;case 4:r.prefix=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.limit&&e.hasOwnProperty("limit")&&!a.isInteger(e.limit))return"limit: integer expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!a.isInteger(e.offset))return"offset: integer expected";if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:}return null!=e.prefix&&e.hasOwnProperty("prefix")&&!a.isString(e.prefix)?"prefix: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.UserSearch)return e;var t=new c.bin_proto.UserSearch;switch(null!=e.limit&&(t.limit=0|e.limit),null!=e.offset&&(t.offset=0|e.offset),e.order){case"FIRST_NAME":case 0:t.order=0;break;case"LAST_NAME":case 1:t.order=1}return null!=e.prefix&&(t.prefix=String(e.prefix)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.limit=0,n.offset=0,n.order=t.enums===String?"FIRST_NAME":0,n.prefix=""),null!=e.limit&&e.hasOwnProperty("limit")&&(n.limit=e.limit),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?c.bin_proto.UserSearch.Order[e.order]:e.order),null!=e.prefix&&e.hasOwnProperty("prefix")&&(n.prefix=e.prefix),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Order=(t={},(n=Object.create(t))[t[0]="FIRST_NAME"]=0,n[t[1]="LAST_NAME"]=1,n),e}(),r.UserQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id="",e.prototype.to="",e.prototype.user=null,e.prototype.userAction=null,e.prototype.blockedUserList=null,e.prototype.usersStatus=null,e.prototype.usersList=null,e.prototype.userSearch=null,Object.defineProperty(e.prototype,"update",{get:a.oneOfGetter(t=["user","userAction","blockedUserList","usersStatus","usersList","userSearch"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(18).string(e.to),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&c.bin_proto.User.encode(e.user,t.uint32(26).fork()).ldelim(),null!=e.userAction&&Object.hasOwnProperty.call(e,"userAction")&&c.bin_proto.UserAction.encode(e.userAction,t.uint32(34).fork()).ldelim(),null!=e.blockedUserList&&Object.hasOwnProperty.call(e,"blockedUserList")&&c.bin_proto.UsersList.encode(e.blockedUserList,t.uint32(42).fork()).ldelim(),null!=e.usersStatus&&Object.hasOwnProperty.call(e,"usersStatus")&&c.bin_proto.UsersList.encode(e.usersStatus,t.uint32(50).fork()).ldelim(),null!=e.usersList&&Object.hasOwnProperty.call(e,"usersList")&&c.bin_proto.UsersList.encode(e.usersList,t.uint32(58).fork()).ldelim(),null!=e.userSearch&&Object.hasOwnProperty.call(e,"userSearch")&&c.bin_proto.UserSearch.encode(e.userSearch,t.uint32(66).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.UserQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.to=e.string();break;case 3:r.user=c.bin_proto.User.decode(e,e.uint32());break;case 4:r.userAction=c.bin_proto.UserAction.decode(e,e.uint32());break;case 5:r.blockedUserList=c.bin_proto.UsersList.decode(e,e.uint32());break;case 6:r.usersStatus=c.bin_proto.UsersList.decode(e,e.uint32());break;case 7:r.usersList=c.bin_proto.UsersList.decode(e,e.uint32());break;case 8:r.userSearch=c.bin_proto.UserSearch.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!a.isString(e.to))return"to: string expected";if(null!=e.user&&e.hasOwnProperty("user")&&(t.update=1,n=c.bin_proto.User.verify(e.user)))return"user."+n;if(null!=e.userAction&&e.hasOwnProperty("userAction")){if(1===t.update)return"update: multiple values";if(t.update=1,n=c.bin_proto.UserAction.verify(e.userAction))return"userAction."+n}if(null!=e.blockedUserList&&e.hasOwnProperty("blockedUserList")){if(1===t.update)return"update: multiple values";if(t.update=1,n=c.bin_proto.UsersList.verify(e.blockedUserList))return"blockedUserList."+n}if(null!=e.usersStatus&&e.hasOwnProperty("usersStatus")){if(1===t.update)return"update: multiple values";if(t.update=1,n=c.bin_proto.UsersList.verify(e.usersStatus))return"usersStatus."+n}if(null!=e.usersList&&e.hasOwnProperty("usersList")){if(1===t.update)return"update: multiple values";if(t.update=1,n=c.bin_proto.UsersList.verify(e.usersList))return"usersList."+n}if(null!=e.userSearch&&e.hasOwnProperty("userSearch")){if(1===t.update)return"update: multiple values";var n;if(t.update=1,n=c.bin_proto.UserSearch.verify(e.userSearch))return"userSearch."+n}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.UserQuery)return e;var t=new c.bin_proto.UserQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.to&&(t.to=String(e.to)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.UserQuery.user: object expected");t.user=c.bin_proto.User.fromObject(e.user)}if(null!=e.userAction){if("object"!=typeof e.userAction)throw TypeError(".bin_proto.UserQuery.userAction: object expected");t.userAction=c.bin_proto.UserAction.fromObject(e.userAction)}if(null!=e.blockedUserList){if("object"!=typeof e.blockedUserList)throw TypeError(".bin_proto.UserQuery.blockedUserList: object expected");t.blockedUserList=c.bin_proto.UsersList.fromObject(e.blockedUserList)}if(null!=e.usersStatus){if("object"!=typeof e.usersStatus)throw TypeError(".bin_proto.UserQuery.usersStatus: object expected");t.usersStatus=c.bin_proto.UsersList.fromObject(e.usersStatus)}if(null!=e.usersList){if("object"!=typeof e.usersList)throw TypeError(".bin_proto.UserQuery.usersList: object expected");t.usersList=c.bin_proto.UsersList.fromObject(e.usersList)}if(null!=e.userSearch){if("object"!=typeof e.userSearch)throw TypeError(".bin_proto.UserQuery.userSearch: object expected");t.userSearch=c.bin_proto.UserSearch.fromObject(e.userSearch)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.to=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.user&&e.hasOwnProperty("user")&&(n.user=c.bin_proto.User.toObject(e.user,t),t.oneofs&&(n.update="user")),null!=e.userAction&&e.hasOwnProperty("userAction")&&(n.userAction=c.bin_proto.UserAction.toObject(e.userAction,t),t.oneofs&&(n.update="userAction")),null!=e.blockedUserList&&e.hasOwnProperty("blockedUserList")&&(n.blockedUserList=c.bin_proto.UsersList.toObject(e.blockedUserList,t),t.oneofs&&(n.update="blockedUserList")),null!=e.usersStatus&&e.hasOwnProperty("usersStatus")&&(n.usersStatus=c.bin_proto.UsersList.toObject(e.usersStatus,t),t.oneofs&&(n.update="usersStatus")),null!=e.usersList&&e.hasOwnProperty("usersList")&&(n.usersList=c.bin_proto.UsersList.toObject(e.usersList,t),t.oneofs&&(n.update="usersList")),null!=e.userSearch&&e.hasOwnProperty("userSearch")&&(n.userSearch=c.bin_proto.UserSearch.toObject(e.userSearch,t),t.oneofs&&(n.update="userSearch")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Member=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.user=null,e.prototype.role="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&c.bin_proto.User.encode(e.user,t.uint32(10).fork()).ldelim(),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(18).string(e.role),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Member;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.user=c.bin_proto.User.decode(e,e.uint32());break;case 2:r.role=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=c.bin_proto.User.verify(e.user);if(t)return"user."+t}return null!=e.role&&e.hasOwnProperty("role")&&!a.isString(e.role)?"role: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Member)return e;var t=new c.bin_proto.Member;if(null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.Member.user: object expected");t.user=c.bin_proto.User.fromObject(e.user)}return null!=e.role&&(t.role=String(e.role)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.user=null,n.role=""),null!=e.user&&e.hasOwnProperty("user")&&(n.user=c.bin_proto.User.toObject(e.user,t)),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Permission=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Permission;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int64();break;case 2:r.name=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(a.isInteger(e.id)||e.id&&a.isInteger(e.id.low)&&a.isInteger(e.id.high))?"id: integer|Long expected":null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Permission)return e;var t=new c.bin_proto.Permission;return null!=e.id&&(a.Long?(t.id=a.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.name=""}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?a.Long.prototype.toString.call(e.id):t.longs===Number?new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Role=function(){function e(e){if(this.permission=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.description="",e.prototype.priority=0,e.prototype.access=0,e.prototype.permission=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.priority&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).int32(e.priority),null!=e.access&&Object.hasOwnProperty.call(e,"access")&&t.uint32(40).int32(e.access),null!=e.permission&&e.permission.length)for(var n=0;n<e.permission.length;++n)c.bin_proto.Permission.encode(e.permission[n],t.uint32(50).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Role;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int64();break;case 2:r.name=e.string();break;case 3:r.description=e.string();break;case 4:r.priority=e.int32();break;case 5:r.access=e.int32();break;case 6:r.permission&&r.permission.length||(r.permission=[]),r.permission.push(c.bin_proto.Permission.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(a.isInteger(e.id)||e.id&&a.isInteger(e.id.low)&&a.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!a.isString(e.description))return"description: string expected";if(null!=e.priority&&e.hasOwnProperty("priority")&&!a.isInteger(e.priority))return"priority: integer expected";if(null!=e.access&&e.hasOwnProperty("access")&&!a.isInteger(e.access))return"access: integer expected";if(null!=e.permission&&e.hasOwnProperty("permission")){if(!Array.isArray(e.permission))return"permission: array expected";for(var t=0;t<e.permission.length;++t){var n=c.bin_proto.Permission.verify(e.permission[t]);if(n)return"permission."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.Role)return e;var t=new c.bin_proto.Role;if(null!=e.id&&(a.Long?(t.id=a.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.priority&&(t.priority=0|e.priority),null!=e.access&&(t.access=0|e.access),e.permission){if(!Array.isArray(e.permission))throw TypeError(".bin_proto.Role.permission: array expected");t.permission=[];for(var n=0;n<e.permission.length;++n){if("object"!=typeof e.permission[n])throw TypeError(".bin_proto.Role.permission: object expected");t.permission[n]=c.bin_proto.Permission.fromObject(e.permission[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permission=[]),t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.name="",n.description="",n.priority=0,n.access=0}if(null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?a.Long.prototype.toString.call(e.id):t.longs===Number?new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.priority&&e.hasOwnProperty("priority")&&(n.priority=e.priority),null!=e.access&&e.hasOwnProperty("access")&&(n.access=e.access),e.permission&&e.permission.length){n.permission=[];for(var o=0;o<e.permission.length;++o)n.permission[o]=c.bin_proto.Permission.toObject(e.permission[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Roles=function(){function e(e){if(this.roles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roles=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.roles&&e.roles.length)for(var n=0;n<e.roles.length;++n)c.bin_proto.Role.encode(e.roles[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Roles;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.roles&&r.roles.length||(r.roles=[]),r.roles.push(c.bin_proto.Role.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.roles&&e.hasOwnProperty("roles")){if(!Array.isArray(e.roles))return"roles: array expected";for(var t=0;t<e.roles.length;++t){var n=c.bin_proto.Role.verify(e.roles[t]);if(n)return"roles."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.Roles)return e;var t=new c.bin_proto.Roles;if(e.roles){if(!Array.isArray(e.roles))throw TypeError(".bin_proto.Roles.roles: array expected");t.roles=[];for(var n=0;n<e.roles.length;++n){if("object"!=typeof e.roles[n])throw TypeError(".bin_proto.Roles.roles: object expected");t.roles[n]=c.bin_proto.Role.fromObject(e.roles[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.roles=[]),e.roles&&e.roles.length){n.roles=[];for(var r=0;r<e.roles.length;++r)n.roles[r]=c.bin_proto.Role.toObject(e.roles[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Conversation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.unread=0,e.prototype.msg=null,e.prototype.act=null,e.prototype.localRcvd=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.localDspld=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.remoteRcvd=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.remoteDspld=a.Long?a.Long.fromBits(0,0,!1):0,Object.defineProperty(e.prototype,"LastMessage",{get:a.oneOfGetter(t=["msg","act"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.unread&&Object.hasOwnProperty.call(e,"unread")&&t.uint32(8).int32(e.unread),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&c.bin_proto.Message.encode(e.msg,t.uint32(18).fork()).ldelim(),null!=e.act&&Object.hasOwnProperty.call(e,"act")&&c.bin_proto.ChannelAction.encode(e.act,t.uint32(26).fork()).ldelim(),null!=e.localRcvd&&Object.hasOwnProperty.call(e,"localRcvd")&&t.uint32(32).int64(e.localRcvd),null!=e.localDspld&&Object.hasOwnProperty.call(e,"localDspld")&&t.uint32(40).int64(e.localDspld),null!=e.remoteRcvd&&Object.hasOwnProperty.call(e,"remoteRcvd")&&t.uint32(48).int64(e.remoteRcvd),null!=e.remoteDspld&&Object.hasOwnProperty.call(e,"remoteDspld")&&t.uint32(56).int64(e.remoteDspld),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Conversation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.unread=e.int32();break;case 2:r.msg=c.bin_proto.Message.decode(e,e.uint32());break;case 3:r.act=c.bin_proto.ChannelAction.decode(e,e.uint32());break;case 4:r.localRcvd=e.int64();break;case 5:r.localDspld=e.int64();break;case 6:r.remoteRcvd=e.int64();break;case 7:r.remoteDspld=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.unread&&e.hasOwnProperty("unread")&&!a.isInteger(e.unread))return"unread: integer expected";if(null!=e.msg&&e.hasOwnProperty("msg")&&(t.LastMessage=1,n=c.bin_proto.Message.verify(e.msg)))return"msg."+n;if(null!=e.act&&e.hasOwnProperty("act")){if(1===t.LastMessage)return"LastMessage: multiple values";var n;if(t.LastMessage=1,n=c.bin_proto.ChannelAction.verify(e.act))return"act."+n}return null!=e.localRcvd&&e.hasOwnProperty("localRcvd")&&!(a.isInteger(e.localRcvd)||e.localRcvd&&a.isInteger(e.localRcvd.low)&&a.isInteger(e.localRcvd.high))?"localRcvd: integer|Long expected":null!=e.localDspld&&e.hasOwnProperty("localDspld")&&!(a.isInteger(e.localDspld)||e.localDspld&&a.isInteger(e.localDspld.low)&&a.isInteger(e.localDspld.high))?"localDspld: integer|Long expected":null!=e.remoteRcvd&&e.hasOwnProperty("remoteRcvd")&&!(a.isInteger(e.remoteRcvd)||e.remoteRcvd&&a.isInteger(e.remoteRcvd.low)&&a.isInteger(e.remoteRcvd.high))?"remoteRcvd: integer|Long expected":null!=e.remoteDspld&&e.hasOwnProperty("remoteDspld")&&!(a.isInteger(e.remoteDspld)||e.remoteDspld&&a.isInteger(e.remoteDspld.low)&&a.isInteger(e.remoteDspld.high))?"remoteDspld: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Conversation)return e;var t=new c.bin_proto.Conversation;if(null!=e.unread&&(t.unread=0|e.unread),null!=e.msg){if("object"!=typeof e.msg)throw TypeError(".bin_proto.Conversation.msg: object expected");t.msg=c.bin_proto.Message.fromObject(e.msg)}if(null!=e.act){if("object"!=typeof e.act)throw TypeError(".bin_proto.Conversation.act: object expected");t.act=c.bin_proto.ChannelAction.fromObject(e.act)}return null!=e.localRcvd&&(a.Long?(t.localRcvd=a.Long.fromValue(e.localRcvd)).unsigned=!1:"string"==typeof e.localRcvd?t.localRcvd=parseInt(e.localRcvd,10):"number"==typeof e.localRcvd?t.localRcvd=e.localRcvd:"object"==typeof e.localRcvd&&(t.localRcvd=new a.LongBits(e.localRcvd.low>>>0,e.localRcvd.high>>>0).toNumber())),null!=e.localDspld&&(a.Long?(t.localDspld=a.Long.fromValue(e.localDspld)).unsigned=!1:"string"==typeof e.localDspld?t.localDspld=parseInt(e.localDspld,10):"number"==typeof e.localDspld?t.localDspld=e.localDspld:"object"==typeof e.localDspld&&(t.localDspld=new a.LongBits(e.localDspld.low>>>0,e.localDspld.high>>>0).toNumber())),null!=e.remoteRcvd&&(a.Long?(t.remoteRcvd=a.Long.fromValue(e.remoteRcvd)).unsigned=!1:"string"==typeof e.remoteRcvd?t.remoteRcvd=parseInt(e.remoteRcvd,10):"number"==typeof e.remoteRcvd?t.remoteRcvd=e.remoteRcvd:"object"==typeof e.remoteRcvd&&(t.remoteRcvd=new a.LongBits(e.remoteRcvd.low>>>0,e.remoteRcvd.high>>>0).toNumber())),null!=e.remoteDspld&&(a.Long?(t.remoteDspld=a.Long.fromValue(e.remoteDspld)).unsigned=!1:"string"==typeof e.remoteDspld?t.remoteDspld=parseInt(e.remoteDspld,10):"number"==typeof e.remoteDspld?t.remoteDspld=e.remoteDspld:"object"==typeof e.remoteDspld&&(t.remoteDspld=new a.LongBits(e.remoteDspld.low>>>0,e.remoteDspld.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.unread=0,a.Long){var r=new a.Long(0,0,!1);n.localRcvd=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.localRcvd=t.longs===String?"0":0;a.Long?(r=new a.Long(0,0,!1),n.localDspld=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.localDspld=t.longs===String?"0":0,a.Long?(r=new a.Long(0,0,!1),n.remoteRcvd=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.remoteRcvd=t.longs===String?"0":0,a.Long?(r=new a.Long(0,0,!1),n.remoteDspld=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.remoteDspld=t.longs===String?"0":0}return null!=e.unread&&e.hasOwnProperty("unread")&&(n.unread=e.unread),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=c.bin_proto.Message.toObject(e.msg,t),t.oneofs&&(n.LastMessage="msg")),null!=e.act&&e.hasOwnProperty("act")&&(n.act=c.bin_proto.ChannelAction.toObject(e.act,t),t.oneofs&&(n.LastMessage="act")),null!=e.localRcvd&&e.hasOwnProperty("localRcvd")&&("number"==typeof e.localRcvd?n.localRcvd=t.longs===String?String(e.localRcvd):e.localRcvd:n.localRcvd=t.longs===String?a.Long.prototype.toString.call(e.localRcvd):t.longs===Number?new a.LongBits(e.localRcvd.low>>>0,e.localRcvd.high>>>0).toNumber():e.localRcvd),null!=e.localDspld&&e.hasOwnProperty("localDspld")&&("number"==typeof e.localDspld?n.localDspld=t.longs===String?String(e.localDspld):e.localDspld:n.localDspld=t.longs===String?a.Long.prototype.toString.call(e.localDspld):t.longs===Number?new a.LongBits(e.localDspld.low>>>0,e.localDspld.high>>>0).toNumber():e.localDspld),null!=e.remoteRcvd&&e.hasOwnProperty("remoteRcvd")&&("number"==typeof e.remoteRcvd?n.remoteRcvd=t.longs===String?String(e.remoteRcvd):e.remoteRcvd:n.remoteRcvd=t.longs===String?a.Long.prototype.toString.call(e.remoteRcvd):t.longs===Number?new a.LongBits(e.remoteRcvd.low>>>0,e.remoteRcvd.high>>>0).toNumber():e.remoteRcvd),null!=e.remoteDspld&&e.hasOwnProperty("remoteDspld")&&("number"==typeof e.remoteDspld?n.remoteDspld=t.longs===String?String(e.remoteDspld):e.remoteDspld:n.remoteDspld=t.longs===String?a.Long.prototype.toString.call(e.remoteDspld):t.longs===Number?new a.LongBits(e.remoteDspld.low>>>0,e.remoteDspld.high>>>0).toNumber():e.remoteDspld),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Channel=function(){function e(e){if(this.members=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.id="",e.prototype.config=null,e.prototype.membersTotalCount=0,e.prototype.members=a.emptyArray,e.prototype.type=0,e.prototype.conv=null,e.prototype.createAt=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.updateAt=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.options=a.Long?a.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.config&&Object.hasOwnProperty.call(e,"config")&&c.bin_proto.Channel.Configuration.encode(e.config,t.uint32(18).fork()).ldelim(),null!=e.membersTotalCount&&Object.hasOwnProperty.call(e,"membersTotalCount")&&t.uint32(24).int32(e.membersTotalCount),null!=e.members&&e.members.length)for(var n=0;n<e.members.length;++n)c.bin_proto.Member.encode(e.members[n],t.uint32(34).fork()).ldelim();return null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.conv&&Object.hasOwnProperty.call(e,"conv")&&c.bin_proto.Conversation.encode(e.conv,t.uint32(50).fork()).ldelim(),null!=e.createAt&&Object.hasOwnProperty.call(e,"createAt")&&t.uint32(56).int64(e.createAt),null!=e.updateAt&&Object.hasOwnProperty.call(e,"updateAt")&&t.uint32(64).int64(e.updateAt),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&t.uint32(72).int64(e.options),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Channel;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.config=c.bin_proto.Channel.Configuration.decode(e,e.uint32());break;case 3:r.membersTotalCount=e.int32();break;case 4:r.members&&r.members.length||(r.members=[]),r.members.push(c.bin_proto.Member.decode(e,e.uint32()));break;case 5:r.type=e.int32();break;case 6:r.conv=c.bin_proto.Conversation.decode(e,e.uint32());break;case 7:r.createAt=e.int64();break;case 8:r.updateAt=e.int64();break;case 9:r.options=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.config&&e.hasOwnProperty("config")&&(n=c.bin_proto.Channel.Configuration.verify(e.config)))return"config."+n;if(null!=e.membersTotalCount&&e.hasOwnProperty("membersTotalCount")&&!a.isInteger(e.membersTotalCount))return"membersTotalCount: integer expected";if(null!=e.members&&e.hasOwnProperty("members")){if(!Array.isArray(e.members))return"members: array expected";for(var t=0;t<e.members.length;++t){var n;if(n=c.bin_proto.Member.verify(e.members[t]))return"members."+n}}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.conv&&e.hasOwnProperty("conv")&&(n=c.bin_proto.Conversation.verify(e.conv))?"conv."+n:null!=e.createAt&&e.hasOwnProperty("createAt")&&!(a.isInteger(e.createAt)||e.createAt&&a.isInteger(e.createAt.low)&&a.isInteger(e.createAt.high))?"createAt: integer|Long expected":null!=e.updateAt&&e.hasOwnProperty("updateAt")&&!(a.isInteger(e.updateAt)||e.updateAt&&a.isInteger(e.updateAt.low)&&a.isInteger(e.updateAt.high))?"updateAt: integer|Long expected":null!=e.options&&e.hasOwnProperty("options")&&!(a.isInteger(e.options)||e.options&&a.isInteger(e.options.low)&&a.isInteger(e.options.high))?"options: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Channel)return e;var t=new c.bin_proto.Channel;if(null!=e.id&&(t.id=String(e.id)),null!=e.config){if("object"!=typeof e.config)throw TypeError(".bin_proto.Channel.config: object expected");t.config=c.bin_proto.Channel.Configuration.fromObject(e.config)}if(null!=e.membersTotalCount&&(t.membersTotalCount=0|e.membersTotalCount),e.members){if(!Array.isArray(e.members))throw TypeError(".bin_proto.Channel.members: array expected");t.members=[];for(var n=0;n<e.members.length;++n){if("object"!=typeof e.members[n])throw TypeError(".bin_proto.Channel.members: object expected");t.members[n]=c.bin_proto.Member.fromObject(e.members[n])}}switch(e.type){case"NONE":case 0:t.type=0;break;case"PRIVATE":case 1:t.type=1;break;case"PUBLIC":case 2:t.type=2;break;case"DIRECT":case 3:t.type=3}if(null!=e.conv){if("object"!=typeof e.conv)throw TypeError(".bin_proto.Channel.conv: object expected");t.conv=c.bin_proto.Conversation.fromObject(e.conv)}return null!=e.createAt&&(a.Long?(t.createAt=a.Long.fromValue(e.createAt)).unsigned=!1:"string"==typeof e.createAt?t.createAt=parseInt(e.createAt,10):"number"==typeof e.createAt?t.createAt=e.createAt:"object"==typeof e.createAt&&(t.createAt=new a.LongBits(e.createAt.low>>>0,e.createAt.high>>>0).toNumber())),null!=e.updateAt&&(a.Long?(t.updateAt=a.Long.fromValue(e.updateAt)).unsigned=!1:"string"==typeof e.updateAt?t.updateAt=parseInt(e.updateAt,10):"number"==typeof e.updateAt?t.updateAt=e.updateAt:"object"==typeof e.updateAt&&(t.updateAt=new a.LongBits(e.updateAt.low>>>0,e.updateAt.high>>>0).toNumber())),null!=e.options&&(a.Long?(t.options=a.Long.fromValue(e.options)).unsigned=!1:"string"==typeof e.options?t.options=parseInt(e.options,10):"number"==typeof e.options?t.options=e.options:"object"==typeof e.options&&(t.options=new a.LongBits(e.options.low>>>0,e.options.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.members=[]),t.defaults){if(n.id="",n.config=null,n.membersTotalCount=0,n.type=t.enums===String?"NONE":0,n.conv=null,a.Long){var r=new a.Long(0,0,!1);n.createAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.createAt=t.longs===String?"0":0;a.Long?(r=new a.Long(0,0,!1),n.updateAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.updateAt=t.longs===String?"0":0,a.Long?(r=new a.Long(0,0,!1),n.options=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.options=t.longs===String?"0":0}if(null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.config&&e.hasOwnProperty("config")&&(n.config=c.bin_proto.Channel.Configuration.toObject(e.config,t)),null!=e.membersTotalCount&&e.hasOwnProperty("membersTotalCount")&&(n.membersTotalCount=e.membersTotalCount),e.members&&e.members.length){n.members=[];for(var o=0;o<e.members.length;++o)n.members[o]=c.bin_proto.Member.toObject(e.members[o],t)}return null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.bin_proto.Channel.Type[e.type]:e.type),null!=e.conv&&e.hasOwnProperty("conv")&&(n.conv=c.bin_proto.Conversation.toObject(e.conv,t)),null!=e.createAt&&e.hasOwnProperty("createAt")&&("number"==typeof e.createAt?n.createAt=t.longs===String?String(e.createAt):e.createAt:n.createAt=t.longs===String?a.Long.prototype.toString.call(e.createAt):t.longs===Number?new a.LongBits(e.createAt.low>>>0,e.createAt.high>>>0).toNumber():e.createAt),null!=e.updateAt&&e.hasOwnProperty("updateAt")&&("number"==typeof e.updateAt?n.updateAt=t.longs===String?String(e.updateAt):e.updateAt:n.updateAt=t.longs===String?a.Long.prototype.toString.call(e.updateAt):t.longs===Number?new a.LongBits(e.updateAt.low>>>0,e.updateAt.high>>>0).toNumber():e.updateAt),null!=e.options&&e.hasOwnProperty("options")&&("number"==typeof e.options?n.options=t.longs===String?String(e.options):e.options:n.options=t.longs===String?a.Long.prototype.toString.call(e.options):t.longs===Number?new a.LongBits(e.options.low>>>0,e.options.high>>>0).toNumber():e.options),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Configuration=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uri="",e.prototype.subject="",e.prototype.metadata="",e.prototype.avatar="",e.prototype.label="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(10).string(e.uri),null!=e.subject&&Object.hasOwnProperty.call(e,"subject")&&t.uint32(18).string(e.subject),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(26).string(e.metadata),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(34).string(e.avatar),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(42).string(e.label),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Channel.Configuration;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.uri=e.string();break;case 2:r.subject=e.string();break;case 3:r.metadata=e.string();break;case 4:r.avatar=e.string();break;case 5:r.label=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uri&&e.hasOwnProperty("uri")&&!a.isString(e.uri)?"uri: string expected":null!=e.subject&&e.hasOwnProperty("subject")&&!a.isString(e.subject)?"subject: string expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!a.isString(e.metadata)?"metadata: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!a.isString(e.avatar)?"avatar: string expected":null!=e.label&&e.hasOwnProperty("label")&&!a.isString(e.label)?"label: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Channel.Configuration)return e;var t=new c.bin_proto.Channel.Configuration;return null!=e.uri&&(t.uri=String(e.uri)),null!=e.subject&&(t.subject=String(e.subject)),null!=e.metadata&&(t.metadata=String(e.metadata)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.label&&(t.label=String(e.label)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uri="",n.subject="",n.metadata="",n.avatar="",n.label=""),null!=e.uri&&e.hasOwnProperty("uri")&&(n.uri=e.uri),null!=e.subject&&e.hasOwnProperty("subject")&&(n.subject=e.subject),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.label&&e.hasOwnProperty("label")&&(n.label=e.label),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Type=(t={},(n=Object.create(t))[t[0]="NONE"]=0,n[t[1]="PRIVATE"]=1,n[t[2]="PUBLIC"]=2,n[t[3]="DIRECT"]=3,n),e}(),r.ChannelQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n,r;return e.prototype.id="",e.prototype.type=0,e.prototype.index=0,e.prototype.count=0,e.prototype.to="",e.prototype.members=null,e.prototype.channels=null,e.prototype.roles=null,e.prototype.totalUnread=0,Object.defineProperty(e.prototype,"Data",{get:a.oneOfGetter(t=["members","channels","roles"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(24).int32(e.index),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(32).int32(e.count),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(42).string(e.to),null!=e.members&&Object.hasOwnProperty.call(e,"members")&&c.bin_proto.Members.encode(e.members,t.uint32(50).fork()).ldelim(),null!=e.channels&&Object.hasOwnProperty.call(e,"channels")&&c.bin_proto.Channels.encode(e.channels,t.uint32(58).fork()).ldelim(),null!=e.totalUnread&&Object.hasOwnProperty.call(e,"totalUnread")&&t.uint32(64).int32(e.totalUnread),null!=e.roles&&Object.hasOwnProperty.call(e,"roles")&&c.bin_proto.Roles.encode(e.roles,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.ChannelQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.type=e.int32();break;case 3:r.index=e.int32();break;case 4:r.count=e.int32();break;case 5:r.to=e.string();break;case 6:r.members=c.bin_proto.Members.decode(e,e.uint32());break;case 7:r.channels=c.bin_proto.Channels.decode(e,e.uint32());break;case 9:r.roles=c.bin_proto.Roles.decode(e,e.uint32());break;case 8:r.totalUnread=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:}if(null!=e.index&&e.hasOwnProperty("index")&&!a.isInteger(e.index))return"index: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!a.isInteger(e.count))return"count: integer expected";if(null!=e.to&&e.hasOwnProperty("to")&&!a.isString(e.to))return"to: string expected";if(null!=e.members&&e.hasOwnProperty("members")&&(t.Data=1,n=c.bin_proto.Members.verify(e.members)))return"members."+n;if(null!=e.channels&&e.hasOwnProperty("channels")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,n=c.bin_proto.Channels.verify(e.channels))return"channels."+n}if(null!=e.roles&&e.hasOwnProperty("roles")){if(1===t.Data)return"Data: multiple values";var n;if(t.Data=1,n=c.bin_proto.Roles.verify(e.roles))return"roles."+n}return null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&!a.isInteger(e.totalUnread)?"totalUnread: integer expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.ChannelQuery)return e;var t=new c.bin_proto.ChannelQuery;switch(null!=e.id&&(t.id=String(e.id)),e.type){case"NONE":case 0:t.type=0;break;case"CREATE":case 1:t.type=1;break;case"DELETE":case 2:t.type=2;break;case"LEAVE":case 3:t.type=3;break;case"JOIN":case 4:t.type=4;break;case"UPDATE":case 5:t.type=5;break;case"GET":case 6:t.type=6;break;case"GET_LIST":case 7:t.type=7;break;case"ADD_MEMBER":case 8:t.type=8;break;case"KICK_MEMBER":case 9:t.type=9;break;case"MEMBERS":case 10:t.type=10;break;case"BLOCK":case 11:t.type=11;break;case"UNBLOCK":case 12:t.type=12;break;case"GET_BLOCK_LIST":case 13:t.type=13;break;case"BLOCK_MEMBER":case 14:t.type=14;break;case"UNBLOCK_MEMBER":case 15:t.type=15;break;case"GET_BLOCKED_MEMBER_LIST":case 16:t.type=16;break;case"CHANGE_OWNER":case 17:t.type=17;break;case"CHANGE_ROLE":case 18:t.type=18;break;case"GET_ROLES":case 19:t.type=19;break;case"CLEAR_MESSAGES":case 20:t.type=20;break;case"HIDE_CHANNELS":case 21:t.type=21;break;case"SHOW_CHANNELS":case 22:t.type=22;break;case"ARCHIVE_CHANNELS":case 23:t.type=23;break;case"UNARCHIVE_CHANNELS":case 24:t.type=24;break;case"GET_ARCHIVED_CHANNELS":case 25:t.type=25;break;case"GET_HIDDEN_CHANNELS":case 26:t.type=26}if(null!=e.index&&(t.index=0|e.index),null!=e.count&&(t.count=0|e.count),null!=e.to&&(t.to=String(e.to)),null!=e.members){if("object"!=typeof e.members)throw TypeError(".bin_proto.ChannelQuery.members: object expected");t.members=c.bin_proto.Members.fromObject(e.members)}if(null!=e.channels){if("object"!=typeof e.channels)throw TypeError(".bin_proto.ChannelQuery.channels: object expected");t.channels=c.bin_proto.Channels.fromObject(e.channels)}if(null!=e.roles){if("object"!=typeof e.roles)throw TypeError(".bin_proto.ChannelQuery.roles: object expected");t.roles=c.bin_proto.Roles.fromObject(e.roles)}return null!=e.totalUnread&&(t.totalUnread=0|e.totalUnread),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.type=t.enums===String?"NONE":0,n.index=0,n.count=0,n.to="",n.totalUnread=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.bin_proto.ChannelQuery.Type[e.type]:e.type),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.members&&e.hasOwnProperty("members")&&(n.members=c.bin_proto.Members.toObject(e.members,t),t.oneofs&&(n.Data="members")),null!=e.channels&&e.hasOwnProperty("channels")&&(n.channels=c.bin_proto.Channels.toObject(e.channels,t),t.oneofs&&(n.Data="channels")),null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&(n.totalUnread=e.totalUnread),null!=e.roles&&e.hasOwnProperty("roles")&&(n.roles=c.bin_proto.Roles.toObject(e.roles,t),t.oneofs&&(n.Data="roles")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=(n={},(r=Object.create(n))[n[0]="NONE"]=0,r[n[1]="CREATE"]=1,r[n[2]="DELETE"]=2,r[n[3]="LEAVE"]=3,r[n[4]="JOIN"]=4,r[n[5]="UPDATE"]=5,r[n[6]="GET"]=6,r[n[7]="GET_LIST"]=7,r[n[8]="ADD_MEMBER"]=8,r[n[9]="KICK_MEMBER"]=9,r[n[10]="MEMBERS"]=10,r[n[11]="BLOCK"]=11,r[n[12]="UNBLOCK"]=12,r[n[13]="GET_BLOCK_LIST"]=13,r[n[14]="BLOCK_MEMBER"]=14,r[n[15]="UNBLOCK_MEMBER"]=15,r[n[16]="GET_BLOCKED_MEMBER_LIST"]=16,r[n[17]="CHANGE_OWNER"]=17,r[n[18]="CHANGE_ROLE"]=18,r[n[19]="GET_ROLES"]=19,r[n[20]="CLEAR_MESSAGES"]=20,r[n[21]="HIDE_CHANNELS"]=21,r[n[22]="SHOW_CHANNELS"]=22,r[n[23]="ARCHIVE_CHANNELS"]=23,r[n[24]="UNARCHIVE_CHANNELS"]=24,r[n[25]="GET_ARCHIVED_CHANNELS"]=25,r[n[26]="GET_HIDDEN_CHANNELS"]=26,r),e}(),r.ChannelAction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.from="",e.prototype.channel=null,e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(18).string(e.from),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&c.bin_proto.Channel.encode(e.channel,t.uint32(26).fork()).ldelim(),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(32).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.ChannelAction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.from=e.string();break;case 3:r.channel=c.bin_proto.Channel.decode(e,e.uint32());break;case 4:r.type=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.from&&e.hasOwnProperty("from")&&!a.isString(e.from))return"from: string expected";if(null!=e.channel&&e.hasOwnProperty("channel")){var t=c.bin_proto.Channel.verify(e.channel);if(t)return"channel."+t}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.ChannelAction)return e;var t=new c.bin_proto.ChannelAction;if(null!=e.id&&(t.id=String(e.id)),null!=e.from&&(t.from=String(e.from)),null!=e.channel){if("object"!=typeof e.channel)throw TypeError(".bin_proto.ChannelAction.channel: object expected");t.channel=c.bin_proto.Channel.fromObject(e.channel)}switch(e.type){case"NONE":case 0:t.type=0;break;case"CREATE":case 1:t.type=1;break;case"DELETE":case 2:t.type=2;break;case"LEAVE":case 3:t.type=3;break;case"JOIN":case 4:t.type=4;break;case"UPDATE":case 5:t.type=5;break;case"GET":case 6:t.type=6;break;case"GET_LIST":case 7:t.type=7;break;case"ADD_MEMBER":case 8:t.type=8;break;case"KICK_MEMBER":case 9:t.type=9;break;case"MEMBERS":case 10:t.type=10;break;case"BLOCK":case 11:t.type=11;break;case"UNBLOCK":case 12:t.type=12;break;case"GET_BLOCK_LIST":case 13:t.type=13;break;case"BLOCK_MEMBER":case 14:t.type=14;break;case"UNBLOCK_MEMBER":case 15:t.type=15;break;case"GET_BLOCKED_MEMBER_LIST":case 16:t.type=16;break;case"CHANGE_OWNER":case 17:t.type=17;break;case"CHANGE_ROLE":case 18:t.type=18;break;case"GET_ROLES":case 19:t.type=19;break;case"CLEAR_MESSAGES":case 20:t.type=20;break;case"HIDE_CHANNELS":case 21:t.type=21;break;case"SHOW_CHANNELS":case 22:t.type=22;break;case"ARCHIVE_CHANNELS":case 23:t.type=23;break;case"UNARCHIVE_CHANNELS":case 24:t.type=24;break;case"GET_ARCHIVED_CHANNELS":case 25:t.type=25;break;case"GET_HIDDEN_CHANNELS":case 26:t.type=26}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.from="",n.channel=null,n.type=t.enums===String?"NONE":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=c.bin_proto.Channel.toObject(e.channel,t)),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.bin_proto.ChannelQuery.Type[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Members=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.channelId="",e.prototype.type=0,e.prototype.order=0,e.prototype.key=0,e.prototype.list=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(10).string(e.channelId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(24).int32(e.order),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(32).int32(e.key),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)c.bin_proto.Member.encode(e.list[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Members;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.channelId=e.string();break;case 2:r.type=e.int32();break;case 3:r.order=e.int32();break;case 4:r.key=e.int32();break;case 5:r.list&&r.list.length||(r.list=[]),r.list.push(c.bin_proto.Member.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!a.isString(e.channelId))return"channelId: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:}if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:case 2:}if(null!=e.key&&e.hasOwnProperty("key"))switch(e.key){default:return"key: enum value expected";case 0:case 1:case 2:}if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=c.bin_proto.Member.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.Members)return e;var t=new c.bin_proto.Members;switch(null!=e.channelId&&(t.channelId=String(e.channelId)),e.type){case"ALL":case 0:t.type=0;break;case"PRIVILEGED":case 1:t.type=1}switch(e.order){case"AFFILATION":case 0:t.order=0;break;case"ASC":case 1:t.order=1;break;case"DESC":case 2:t.order=2}switch(e.key){case"USERNAME":case 0:t.key=0;break;case"FIRSTNAME":case 1:t.key=1;break;case"LASTNAME":case 2:t.key=2}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Members.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Members.list: object expected");t.list[n]=c.bin_proto.Member.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults&&(n.channelId="",n.type=t.enums===String?"ALL":0,n.order=t.enums===String?"AFFILATION":0,n.key=t.enums===String?"USERNAME":0),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.bin_proto.Members.Type[e.type]:e.type),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?c.bin_proto.Members.Order[e.order]:e.order),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.enums===String?c.bin_proto.Members.OrderKey[e.key]:e.key),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=c.bin_proto.Member.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=(t={},(n=Object.create(t))[t[0]="ALL"]=0,n[t[1]="PRIVILEGED"]=1,n),e.Order=function(){var e={},t=Object.create(e);return t[e[0]="AFFILATION"]=0,t[e[1]="ASC"]=1,t[e[2]="DESC"]=2,t}(),e.OrderKey=function(){var e={},t=Object.create(e);return t[e[0]="USERNAME"]=0,t[e[1]="FIRSTNAME"]=1,t[e[2]="LASTNAME"]=2,t}(),e}(),r.Channels=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.order=0,e.prototype.list=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(16).int32(e.order),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)c.bin_proto.Channel.encode(e.list[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Channels;e.pos<n;){var o=e.uint32();switch(o>>>3){case 2:r.order=e.int32();break;case 3:r.list&&r.list.length||(r.list=[]),r.list.push(c.bin_proto.Channel.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:}if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=c.bin_proto.Channel.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.Channels)return e;var t=new c.bin_proto.Channels;switch(e.order){case"LAST_MESSAGE":case 0:t.order=0;break;case"CREATED_AT":case 1:t.order=1}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Channels.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Channels.list: object expected");t.list[n]=c.bin_proto.Channel.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults&&(n.order=t.enums===String?"LAST_MESSAGE":0),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?c.bin_proto.Channels.Order[e.order]:e.order),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=c.bin_proto.Channel.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Order=(t={},(n=Object.create(t))[t[0]="LAST_MESSAGE"]=0,n[t[1]="CREATED_AT"]=1,n),e}(),r.Attachment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.uploadId=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.type="",e.prototype.meta="",e.prototype.data="",e.prototype.size=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.stype=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.uploadId&&Object.hasOwnProperty.call(e,"uploadId")&&t.uint32(16).int64(e.uploadId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(26).string(e.type),null!=e.meta&&Object.hasOwnProperty.call(e,"meta")&&t.uint32(34).string(e.meta),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(42).string(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(48).int64(e.size),null!=e.stype&&Object.hasOwnProperty.call(e,"stype")&&t.uint32(56).int32(e.stype),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Attachment;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.uploadId=e.int64();break;case 3:r.type=e.string();break;case 4:r.meta=e.string();break;case 5:r.data=e.string();break;case 6:r.size=e.int64();break;case 7:r.stype=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name)?"name: string expected":null!=e.uploadId&&e.hasOwnProperty("uploadId")&&!(a.isInteger(e.uploadId)||e.uploadId&&a.isInteger(e.uploadId.low)&&a.isInteger(e.uploadId.high))?"uploadId: integer|Long expected":null!=e.type&&e.hasOwnProperty("type")&&!a.isString(e.type)?"type: string expected":null!=e.meta&&e.hasOwnProperty("meta")&&!a.isString(e.meta)?"meta: string expected":null!=e.data&&e.hasOwnProperty("data")&&!a.isString(e.data)?"data: string expected":null!=e.size&&e.hasOwnProperty("size")&&!(a.isInteger(e.size)||e.size&&a.isInteger(e.size.low)&&a.isInteger(e.size.high))?"size: integer|Long expected":null!=e.stype&&e.hasOwnProperty("stype")&&!a.isInteger(e.stype)?"stype: integer expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Attachment)return e;var t=new c.bin_proto.Attachment;return null!=e.name&&(t.name=String(e.name)),null!=e.uploadId&&(a.Long?(t.uploadId=a.Long.fromValue(e.uploadId)).unsigned=!1:"string"==typeof e.uploadId?t.uploadId=parseInt(e.uploadId,10):"number"==typeof e.uploadId?t.uploadId=e.uploadId:"object"==typeof e.uploadId&&(t.uploadId=new a.LongBits(e.uploadId.low>>>0,e.uploadId.high>>>0).toNumber())),null!=e.type&&(t.type=String(e.type)),null!=e.meta&&(t.meta=String(e.meta)),null!=e.data&&(t.data=String(e.data)),null!=e.size&&(a.Long?(t.size=a.Long.fromValue(e.size)).unsigned=!1:"string"==typeof e.size?t.size=parseInt(e.size,10):"number"==typeof e.size?t.size=e.size:"object"==typeof e.size&&(t.size=new a.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber())),null!=e.stype&&(t.stype=0|e.stype),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.name="",a.Long){var r=new a.Long(0,0,!1);n.uploadId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uploadId=t.longs===String?"0":0;n.type="",n.meta="",n.data="",a.Long?(r=new a.Long(0,0,!1),n.size=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.size=t.longs===String?"0":0,n.stype=0}return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.uploadId&&e.hasOwnProperty("uploadId")&&("number"==typeof e.uploadId?n.uploadId=t.longs===String?String(e.uploadId):e.uploadId:n.uploadId=t.longs===String?a.Long.prototype.toString.call(e.uploadId):t.longs===Number?new a.LongBits(e.uploadId.low>>>0,e.uploadId.high>>>0).toNumber():e.uploadId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.meta&&e.hasOwnProperty("meta")&&(n.meta=e.meta),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.size&&e.hasOwnProperty("size")&&("number"==typeof e.size?n.size=t.longs===String?String(e.size):e.size:n.size=t.longs===String?a.Long.prototype.toString.call(e.size):t.longs===Number?new a.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber():e.size),null!=e.stype&&e.hasOwnProperty("stype")&&(n.stype=e.stype),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Message=function(){function e(e){if(this.attachments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.id=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.from=null,e.prototype.to="",e.prototype.text="",e.prototype.type="",e.prototype.date=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.tid=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.receipt=!1,e.prototype.status=0,e.prototype.chStatus=0,e.prototype.attachments=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&c.bin_proto.User.encode(e.from,t.uint32(18).fork()).ldelim(),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(26).string(e.to),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(34).string(e.text),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(42).string(e.type),null!=e.date&&Object.hasOwnProperty.call(e,"date")&&t.uint32(48).int64(e.date),null!=e.tid&&Object.hasOwnProperty.call(e,"tid")&&t.uint32(56).int64(e.tid),null!=e.receipt&&Object.hasOwnProperty.call(e,"receipt")&&t.uint32(64).bool(e.receipt),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(72).int32(e.status),null!=e.chStatus&&Object.hasOwnProperty.call(e,"chStatus")&&t.uint32(80).int32(e.chStatus),null!=e.attachments&&e.attachments.length)for(var n=0;n<e.attachments.length;++n)c.bin_proto.Attachment.encode(e.attachments[n],t.uint32(90).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Message;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int64();break;case 2:r.from=c.bin_proto.User.decode(e,e.uint32());break;case 3:r.to=e.string();break;case 4:r.text=e.string();break;case 5:r.type=e.string();break;case 6:r.date=e.int64();break;case 7:r.tid=e.int64();break;case 8:r.receipt=e.bool();break;case 9:r.status=e.int32();break;case 10:r.chStatus=e.int32();break;case 11:r.attachments&&r.attachments.length||(r.attachments=[]),r.attachments.push(c.bin_proto.Attachment.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(a.isInteger(e.id)||e.id&&a.isInteger(e.id.low)&&a.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")&&(n=c.bin_proto.User.verify(e.from)))return"from."+n;if(null!=e.to&&e.hasOwnProperty("to")&&!a.isString(e.to))return"to: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!a.isString(e.text))return"text: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!a.isString(e.type))return"type: string expected";if(null!=e.date&&e.hasOwnProperty("date")&&!(a.isInteger(e.date)||e.date&&a.isInteger(e.date.low)&&a.isInteger(e.date.high)))return"date: integer|Long expected";if(null!=e.tid&&e.hasOwnProperty("tid")&&!(a.isInteger(e.tid)||e.tid&&a.isInteger(e.tid.low)&&a.isInteger(e.tid.high)))return"tid: integer|Long expected";if(null!=e.receipt&&e.hasOwnProperty("receipt")&&"boolean"!=typeof e.receipt)return"receipt: boolean expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.chStatus&&e.hasOwnProperty("chStatus"))switch(e.chStatus){default:return"chStatus: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.attachments&&e.hasOwnProperty("attachments")){if(!Array.isArray(e.attachments))return"attachments: array expected";for(var t=0;t<e.attachments.length;++t){var n;if(n=c.bin_proto.Attachment.verify(e.attachments[t]))return"attachments."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.Message)return e;var t=new c.bin_proto.Message;if(null!=e.id&&(a.Long?(t.id=a.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.Message.from: object expected");t.from=c.bin_proto.User.fromObject(e.from)}switch(null!=e.to&&(t.to=String(e.to)),null!=e.text&&(t.text=String(e.text)),null!=e.type&&(t.type=String(e.type)),null!=e.date&&(a.Long?(t.date=a.Long.fromValue(e.date)).unsigned=!1:"string"==typeof e.date?t.date=parseInt(e.date,10):"number"==typeof e.date?t.date=e.date:"object"==typeof e.date&&(t.date=new a.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber())),null!=e.tid&&(a.Long?(t.tid=a.Long.fromValue(e.tid)).unsigned=!1:"string"==typeof e.tid?t.tid=parseInt(e.tid,10):"number"==typeof e.tid?t.tid=e.tid:"object"==typeof e.tid&&(t.tid=new a.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber())),null!=e.receipt&&(t.receipt=Boolean(e.receipt)),e.status){case"NONE":case 0:t.status=0;break;case"SERVER":case 1:t.status=1;break;case"DELIVERED":case 2:t.status=2;break;case"READ":case 3:t.status=3}switch(e.chStatus){case"NORMAL":case 0:t.chStatus=0;break;case"EDIT":case 1:t.chStatus=1;break;case"DELETE":case 2:t.chStatus=2;break;case"COMPOSING":case 3:t.chStatus=3;break;case"PAUSED":case 4:t.chStatus=4}if(e.attachments){if(!Array.isArray(e.attachments))throw TypeError(".bin_proto.Message.attachments: array expected");t.attachments=[];for(var n=0;n<e.attachments.length;++n){if("object"!=typeof e.attachments[n])throw TypeError(".bin_proto.Message.attachments: object expected");t.attachments[n]=c.bin_proto.Attachment.fromObject(e.attachments[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attachments=[]),t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.from=null,n.to="",n.text="",n.type="",a.Long?(r=new a.Long(0,0,!1),n.date=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.date=t.longs===String?"0":0,a.Long?(r=new a.Long(0,0,!1),n.tid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.tid=t.longs===String?"0":0,n.receipt=!1,n.status=t.enums===String?"NONE":0,n.chStatus=t.enums===String?"NORMAL":0}if(null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?a.Long.prototype.toString.call(e.id):t.longs===Number?new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=c.bin_proto.User.toObject(e.from,t)),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.date&&e.hasOwnProperty("date")&&("number"==typeof e.date?n.date=t.longs===String?String(e.date):e.date:n.date=t.longs===String?a.Long.prototype.toString.call(e.date):t.longs===Number?new a.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber():e.date),null!=e.tid&&e.hasOwnProperty("tid")&&("number"==typeof e.tid?n.tid=t.longs===String?String(e.tid):e.tid:n.tid=t.longs===String?a.Long.prototype.toString.call(e.tid):t.longs===Number?new a.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber():e.tid),null!=e.receipt&&e.hasOwnProperty("receipt")&&(n.receipt=e.receipt),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?c.bin_proto.Message.DeliveryStatus[e.status]:e.status),null!=e.chStatus&&e.hasOwnProperty("chStatus")&&(n.chStatus=t.enums===String?c.bin_proto.Message.UpdateStatus[e.chStatus]:e.chStatus),e.attachments&&e.attachments.length){n.attachments=[];for(var o=0;o<e.attachments.length;++o)n.attachments[o]=c.bin_proto.Attachment.toObject(e.attachments[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.DeliveryStatus=(t={},(n=Object.create(t))[t[0]="NONE"]=0,n[t[1]="SERVER"]=1,n[t[2]="DELIVERED"]=2,n[t[3]="READ"]=3,n),e.UpdateStatus=function(){var e={},t=Object.create(e);return t[e[0]="NORMAL"]=0,t[e[1]="EDIT"]=1,t[e[2]="DELETE"]=2,t[e[3]="COMPOSING"]=3,t[e[4]="PAUSED"]=4,t}(),e}(),r.SystemMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.from="",e.prototype.to="",e.prototype.text="",e.prototype.date=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.unreadCount=null,Object.defineProperty(e.prototype,"data",{get:a.oneOfGetter(t=["unreadCount"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(18).string(e.from),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(26).string(e.to),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(34).string(e.text),null!=e.date&&Object.hasOwnProperty.call(e,"date")&&t.uint32(40).int64(e.date),null!=e.unreadCount&&Object.hasOwnProperty.call(e,"unreadCount")&&c.bin_proto.UnreadCount.encode(e.unreadCount,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.SystemMessage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int64();break;case 2:r.from=e.string();break;case 3:r.to=e.string();break;case 4:r.text=e.string();break;case 5:r.date=e.int64();break;case 6:r.unreadCount=c.bin_proto.UnreadCount.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(a.isInteger(e.id)||e.id&&a.isInteger(e.id.low)&&a.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")&&!a.isString(e.from))return"from: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!a.isString(e.to))return"to: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!a.isString(e.text))return"text: string expected";if(null!=e.date&&e.hasOwnProperty("date")&&!(a.isInteger(e.date)||e.date&&a.isInteger(e.date.low)&&a.isInteger(e.date.high)))return"date: integer|Long expected";if(null!=e.unreadCount&&e.hasOwnProperty("unreadCount")){var t=c.bin_proto.UnreadCount.verify(e.unreadCount);if(t)return"unreadCount."+t}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.SystemMessage)return e;var t=new c.bin_proto.SystemMessage;if(null!=e.id&&(a.Long?(t.id=a.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.from&&(t.from=String(e.from)),null!=e.to&&(t.to=String(e.to)),null!=e.text&&(t.text=String(e.text)),null!=e.date&&(a.Long?(t.date=a.Long.fromValue(e.date)).unsigned=!1:"string"==typeof e.date?t.date=parseInt(e.date,10):"number"==typeof e.date?t.date=e.date:"object"==typeof e.date&&(t.date=new a.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber())),null!=e.unreadCount){if("object"!=typeof e.unreadCount)throw TypeError(".bin_proto.SystemMessage.unreadCount: object expected");t.unreadCount=c.bin_proto.UnreadCount.fromObject(e.unreadCount)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.from="",n.to="",n.text="",a.Long?(r=new a.Long(0,0,!1),n.date=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.date=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?a.Long.prototype.toString.call(e.id):t.longs===Number?new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),null!=e.date&&e.hasOwnProperty("date")&&("number"==typeof e.date?n.date=t.longs===String?String(e.date):e.date:n.date=t.longs===String?a.Long.prototype.toString.call(e.date):t.longs===Number?new a.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber():e.date),null!=e.unreadCount&&e.hasOwnProperty("unreadCount")&&(n.unreadCount=c.bin_proto.UnreadCount.toObject(e.unreadCount,t),t.oneofs&&(n.data="unreadCount")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.UnreadCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.totalUnread=0,e.prototype.channelUnread=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.totalUnread&&Object.hasOwnProperty.call(e,"totalUnread")&&t.uint32(8).int32(e.totalUnread),null!=e.channelUnread&&Object.hasOwnProperty.call(e,"channelUnread")&&t.uint32(16).int32(e.channelUnread),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.UnreadCount;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.totalUnread=e.int32();break;case 2:r.channelUnread=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&!a.isInteger(e.totalUnread)?"totalUnread: integer expected":null!=e.channelUnread&&e.hasOwnProperty("channelUnread")&&!a.isInteger(e.channelUnread)?"channelUnread: integer expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.UnreadCount)return e;var t=new c.bin_proto.UnreadCount;return null!=e.totalUnread&&(t.totalUnread=0|e.totalUnread),null!=e.channelUnread&&(t.channelUnread=0|e.channelUnread),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.totalUnread=0,n.channelUnread=0),null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&(n.totalUnread=e.totalUnread),null!=e.channelUnread&&e.hasOwnProperty("channelUnread")&&(n.channelUnread=e.channelUnread),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.MessageStatus=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.status=0,e.prototype.from="",e.prototype.to="",e.prototype.tid=a.Long?a.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(16).int32(e.status),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(26).string(e.from),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(34).string(e.to),null!=e.tid&&Object.hasOwnProperty.call(e,"tid")&&t.uint32(40).int64(e.tid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.MessageStatus;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int64();break;case 2:r.status=e.int32();break;case 3:r.from=e.string();break;case 4:r.to=e.string();break;case 5:r.tid=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(a.isInteger(e.id)||e.id&&a.isInteger(e.id.low)&&a.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.from&&e.hasOwnProperty("from")&&!a.isString(e.from)?"from: string expected":null!=e.to&&e.hasOwnProperty("to")&&!a.isString(e.to)?"to: string expected":null!=e.tid&&e.hasOwnProperty("tid")&&!(a.isInteger(e.tid)||e.tid&&a.isInteger(e.tid.low)&&a.isInteger(e.tid.high))?"tid: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.MessageStatus)return e;var t=new c.bin_proto.MessageStatus;switch(null!=e.id&&(a.Long?(t.id=a.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),e.status){case"NONE":case 0:t.status=0;break;case"SERVER":case 1:t.status=1;break;case"DELIVERED":case 2:t.status=2;break;case"READ":case 3:t.status=3}return null!=e.from&&(t.from=String(e.from)),null!=e.to&&(t.to=String(e.to)),null!=e.tid&&(a.Long?(t.tid=a.Long.fromValue(e.tid)).unsigned=!1:"string"==typeof e.tid?t.tid=parseInt(e.tid,10):"number"==typeof e.tid?t.tid=e.tid:"object"==typeof e.tid&&(t.tid=new a.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.status=t.enums===String?"NONE":0,n.from="",n.to="",a.Long?(r=new a.Long(0,0,!1),n.tid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.tid=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?a.Long.prototype.toString.call(e.id):t.longs===Number?new a.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?c.bin_proto.Message.DeliveryStatus[e.status]:e.status),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.tid&&e.hasOwnProperty("tid")&&("number"==typeof e.tid?n.tid=t.longs===String?String(e.tid):e.tid:n.tid=t.longs===String?a.Long.prototype.toString.call(e.tid):t.longs===Number?new a.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber():e.tid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.MessageQuery=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.id="",e.prototype.type=0,e.prototype.channelId="",e.prototype.search=null,e.prototype.messages=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(26).string(e.channelId),null!=e.search&&Object.hasOwnProperty.call(e,"search")&&c.bin_proto.MessageQuery.Search.encode(e.search,t.uint32(34).fork()).ldelim(),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)c.bin_proto.Message.encode(e.messages[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.MessageQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.type=e.int32();break;case 3:r.channelId=e.string();break;case 4:r.search=c.bin_proto.MessageQuery.Search.decode(e,e.uint32());break;case 5:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(c.bin_proto.Message.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!a.isString(e.channelId))return"channelId: string expected";if(null!=e.search&&e.hasOwnProperty("search")&&(n=c.bin_proto.MessageQuery.Search.verify(e.search)))return"search."+n;if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n;if(n=c.bin_proto.Message.verify(e.messages[t]))return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.MessageQuery)return e;var t=new c.bin_proto.MessageQuery;switch(null!=e.id&&(t.id=String(e.id)),e.type){case"SEARCH":case 0:t.type=0;break;case"UPDATE":case 1:t.type=1}if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.search){if("object"!=typeof e.search)throw TypeError(".bin_proto.MessageQuery.search: object expected");t.search=c.bin_proto.MessageQuery.Search.fromObject(e.search)}if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.MessageQuery.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.MessageQuery.messages: object expected");t.messages[n]=c.bin_proto.Message.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),t.defaults&&(n.id="",n.type=t.enums===String?"SEARCH":0,n.channelId="",n.search=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.bin_proto.MessageQuery.Type[e.type]:e.type),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.search&&e.hasOwnProperty("search")&&(n.search=c.bin_proto.MessageQuery.Search.toObject(e.search,t)),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=c.bin_proto.Message.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Direction=(t={},(n=Object.create(t))[t[0]="NONE"]=0,n[t[1]="NEXT"]=1,n[t[2]="PREVIOUS"]=2,n[t[3]="NEAR"]=3,n),e.Type=function(){var e={},t=Object.create(e);return t[e[0]="SEARCH"]=0,t[e[1]="UPDATE"]=1,t}(),e.Search=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.count=0,e.prototype.direction=0,e.prototype.complete=!1,e.prototype.msgId=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.timestamp=a.Long?a.Long.fromBits(0,0,!1):0,Object.defineProperty(e.prototype,"sortby",{get:a.oneOfGetter(t=["msgId","timestamp"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(8).int32(e.count),null!=e.direction&&Object.hasOwnProperty.call(e,"direction")&&t.uint32(16).int32(e.direction),null!=e.complete&&Object.hasOwnProperty.call(e,"complete")&&t.uint32(24).bool(e.complete),null!=e.msgId&&Object.hasOwnProperty.call(e,"msgId")&&t.uint32(32).int64(e.msgId),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(40).int64(e.timestamp),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.MessageQuery.Search;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.count=e.int32();break;case 2:r.direction=e.int32();break;case 3:r.complete=e.bool();break;case 4:r.msgId=e.int64();break;case 5:r.timestamp=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.count&&e.hasOwnProperty("count")&&!a.isInteger(e.count))return"count: integer expected";if(null!=e.direction&&e.hasOwnProperty("direction"))switch(e.direction){default:return"direction: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.complete&&e.hasOwnProperty("complete")&&"boolean"!=typeof e.complete)return"complete: boolean expected";if(null!=e.msgId&&e.hasOwnProperty("msgId")&&(t.sortby=1,!(a.isInteger(e.msgId)||e.msgId&&a.isInteger(e.msgId.low)&&a.isInteger(e.msgId.high))))return"msgId: integer|Long expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){if(1===t.sortby)return"sortby: multiple values";if(t.sortby=1,!(a.isInteger(e.timestamp)||e.timestamp&&a.isInteger(e.timestamp.low)&&a.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected"}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.MessageQuery.Search)return e;var t=new c.bin_proto.MessageQuery.Search;switch(null!=e.count&&(t.count=0|e.count),e.direction){case"NONE":case 0:t.direction=0;break;case"NEXT":case 1:t.direction=1;break;case"PREVIOUS":case 2:t.direction=2;break;case"NEAR":case 3:t.direction=3}return null!=e.complete&&(t.complete=Boolean(e.complete)),null!=e.msgId&&(a.Long?(t.msgId=a.Long.fromValue(e.msgId)).unsigned=!1:"string"==typeof e.msgId?t.msgId=parseInt(e.msgId,10):"number"==typeof e.msgId?t.msgId=e.msgId:"object"==typeof e.msgId&&(t.msgId=new a.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber())),null!=e.timestamp&&(a.Long?(t.timestamp=a.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new a.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.count=0,n.direction=t.enums===String?"NONE":0,n.complete=!1),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.direction&&e.hasOwnProperty("direction")&&(n.direction=t.enums===String?c.bin_proto.MessageQuery.Direction[e.direction]:e.direction),null!=e.complete&&e.hasOwnProperty("complete")&&(n.complete=e.complete),null!=e.msgId&&e.hasOwnProperty("msgId")&&("number"==typeof e.msgId?n.msgId=t.longs===String?String(e.msgId):e.msgId:n.msgId=t.longs===String?a.Long.prototype.toString.call(e.msgId):t.longs===Number?new a.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber():e.msgId,t.oneofs&&(n.sortby="msgId")),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?n.timestamp=t.longs===String?String(e.timestamp):e.timestamp:n.timestamp=t.longs===String?a.Long.prototype.toString.call(e.timestamp):t.longs===Number?new a.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp,t.oneofs&&(n.sortby="timestamp")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),r.MessageAction=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.to="",e.prototype.messages=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(18).string(e.to),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)c.bin_proto.Message.encode(e.messages[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.MessageAction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.to=e.string();break;case 3:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(c.bin_proto.Message.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!a.isString(e.to))return"to: string expected";if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=c.bin_proto.Message.verify(e.messages[t]);if(n)return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.MessageAction)return e;var t=new c.bin_proto.MessageAction;if(null!=e.id&&(t.id=String(e.id)),null!=e.to&&(t.to=String(e.to)),e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.MessageAction.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.MessageAction.messages: object expected");t.messages[n]=c.bin_proto.Message.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),t.defaults&&(n.id="",n.to=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=c.bin_proto.Message.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.Error=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.message="",e.prototype.id="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(26).string(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.Error;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.id=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!a.isInteger(e.code)?"code: integer expected":null!=e.message&&e.hasOwnProperty("message")&&!a.isString(e.message)?"message: string expected":null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id)?"id: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.Error)return e;var t=new c.bin_proto.Error;return null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),null!=e.id&&(t.id=String(e.id)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0,n.message="",n.id=""),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r.SearchQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.word="",e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.word&&Object.hasOwnProperty.call(e,"word")&&t.uint32(10).string(e.word),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.SearchQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.word=e.string();break;case 2:r.type=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.word&&e.hasOwnProperty("word")&&!a.isString(e.word))return"word: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.SearchQuery)return e;var t=new c.bin_proto.SearchQuery;switch(null!=e.word&&(t.word=String(e.word)),e.type){case"NONE":case 0:t.type=0;break;case"CONTAINS":case 1:t.type=1;break;case"BEGINS_WITH":case 2:t.type=2;break;case"EQUAL":case 3:t.type=3}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.word="",n.type=t.enums===String?"NONE":0),null!=e.word&&e.hasOwnProperty("word")&&(n.word=e.word),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.bin_proto.SearchQuery.Type[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=(t={},(n=Object.create(t))[t[0]="NONE"]=0,n[t[1]="CONTAINS"]=1,n[t[2]="BEGINS_WITH"]=2,n[t[3]="EQUAL"]=3,n),e}(),r.ChannelSearchQuery=function(){function e(e){if(this.fields=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.id="",e.prototype.ctype=0,e.prototype.fields=a.emptyArray,e.prototype.index=0,e.prototype.count=0,e.prototype.to="",e.prototype.sort=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(16).int32(e.ctype),null!=e.fields&&e.fields.length)for(var n=0;n<e.fields.length;++n)c.bin_proto.ChannelSearchQuery.Fields.encode(e.fields[n],t.uint32(26).fork()).ldelim();return null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(32).int32(e.index),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(40).int32(e.count),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(50).string(e.to),null!=e.sort&&Object.hasOwnProperty.call(e,"sort")&&t.uint32(56).int32(e.sort),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.ChannelSearchQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.ctype=e.int32();break;case 3:r.fields&&r.fields.length||(r.fields=[]),r.fields.push(c.bin_proto.ChannelSearchQuery.Fields.decode(e,e.uint32()));break;case 4:r.index=e.int32();break;case 5:r.count=e.int32();break;case 6:r.to=e.string();break;case 7:r.sort=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id))return"id: string expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.fields&&e.hasOwnProperty("fields")){if(!Array.isArray(e.fields))return"fields: array expected";for(var t=0;t<e.fields.length;++t){var n=c.bin_proto.ChannelSearchQuery.Fields.verify(e.fields[t]);if(n)return"fields."+n}}if(null!=e.index&&e.hasOwnProperty("index")&&!a.isInteger(e.index))return"index: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!a.isInteger(e.count))return"count: integer expected";if(null!=e.to&&e.hasOwnProperty("to")&&!a.isString(e.to))return"to: string expected";if(null!=e.sort&&e.hasOwnProperty("sort"))switch(e.sort){default:return"sort: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.ChannelSearchQuery)return e;var t=new c.bin_proto.ChannelSearchQuery;switch(null!=e.id&&(t.id=String(e.id)),e.ctype){case"NONE":case 0:t.ctype=0;break;case"PRIVATE":case 1:t.ctype=1;break;case"PUBLIC":case 2:t.ctype=2;break;case"DIRECT":case 3:t.ctype=3}if(e.fields){if(!Array.isArray(e.fields))throw TypeError(".bin_proto.ChannelSearchQuery.fields: array expected");t.fields=[];for(var n=0;n<e.fields.length;++n){if("object"!=typeof e.fields[n])throw TypeError(".bin_proto.ChannelSearchQuery.fields: object expected");t.fields[n]=c.bin_proto.ChannelSearchQuery.Fields.fromObject(e.fields[n])}}switch(null!=e.index&&(t.index=0|e.index),null!=e.count&&(t.count=0|e.count),null!=e.to&&(t.to=String(e.to)),e.sort){case"LAST_MESSAGE":case 0:t.sort=0;break;case"CREATED_AT":case 1:t.sort=1}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fields=[]),t.defaults&&(n.id="",n.ctype=t.enums===String?"NONE":0,n.index=0,n.count=0,n.to="",n.sort=t.enums===String?"LAST_MESSAGE":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.ctype&&e.hasOwnProperty("ctype")&&(n.ctype=t.enums===String?c.bin_proto.Channel.Type[e.ctype]:e.ctype),e.fields&&e.fields.length){n.fields=[];for(var r=0;r<e.fields.length;++r)n.fields[r]=c.bin_proto.ChannelSearchQuery.Fields.toObject(e.fields[r],t)}return null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.sort&&e.hasOwnProperty("sort")&&(n.sort=t.enums===String?c.bin_proto.ChannelSearchQuery.SortOption[e.sort]:e.sort),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.SearchQueryKey=(t={},(n=Object.create(t))[t[0]="SUBJECT"]=0,n[t[1]="URI"]=1,n[t[2]="LABEL"]=2,n[t[3]="USER"]=3,n),e.SortOption=function(){var e={},t=Object.create(e);return t[e[0]="LAST_MESSAGE"]=0,t[e[1]="CREATED_AT"]=1,t}(),e.Fields=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key=0,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(8).int32(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&c.bin_proto.SearchQuery.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.ChannelSearchQuery.Fields;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.int32();break;case 2:r.value=c.bin_proto.SearchQuery.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key"))switch(e.key){default:return"key: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.value&&e.hasOwnProperty("value")){var t=c.bin_proto.SearchQuery.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof c.bin_proto.ChannelSearchQuery.Fields)return e;var t=new c.bin_proto.ChannelSearchQuery.Fields;switch(e.key){case"SUBJECT":case 0:t.key=0;break;case"URI":case 1:t.key=1;break;case"LABEL":case 2:t.key=2;break;case"USER":case 3:t.key=3}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".bin_proto.ChannelSearchQuery.Fields.value: object expected");t.value=c.bin_proto.SearchQuery.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key=t.enums===String?"SUBJECT":0,n.value=null),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.enums===String?c.bin_proto.ChannelSearchQuery.SearchQueryKey[e.key]:e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=c.bin_proto.SearchQuery.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),r.TokenQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.deviceToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.deviceToken&&Object.hasOwnProperty.call(e,"deviceToken")&&t.uint32(18).string(e.deviceToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.bin_proto.TokenQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.deviceToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!a.isString(e.id)?"id: string expected":null!=e.deviceToken&&e.hasOwnProperty("deviceToken")&&!a.isString(e.deviceToken)?"deviceToken: string expected":null},e.fromObject=function(e){if(e instanceof c.bin_proto.TokenQuery)return e;var t=new c.bin_proto.TokenQuery;return null!=e.id&&(t.id=String(e.id)),null!=e.deviceToken&&(t.deviceToken=String(e.deviceToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.deviceToken=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.deviceToken&&e.hasOwnProperty("deviceToken")&&(n.deviceToken=e.deviceToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r),e.exports=c},function(e,t,n){"use strict";e.exports=n(21)},function(e,t,n){"use strict";var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(3),r.BufferWriter=n(31),r.Reader=n(4),r.BufferReader=n(32),r.util=n(2),r.rpc=n(33),r.roots=n(35),r.configure=o,o()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,o=2,i=!0;for(;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,s){n[r]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,s(e))}}))}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var o=new Array(64),i=new Array(123),s=0;s<64;)i[o[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,n){for(var r,i=null,s=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:s[a++]=o[u>>2],r=(3&u)<<4,c=1;break;case 1:s[a++]=o[r|u>>4],r=(15&u)<<2,c=2;break;case 2:s[a++]=o[r|u>>6],s[a++]=o[63&u],c=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=o[r],s[a++]=61,1===c&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};r.decode=function(e,t,n){for(var r,o=n,s=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error("invalid encoding");switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error("invalid encoding");return n-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,s=8388607&r;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=n.bind(null,s),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,o,i){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((s<<31|2146435072)>>>0,o,i+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,o,i+t),e((s<<31|a/4294967296)>>>0,o,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,o,i+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,o,i+n)}}}function n(e,t,n,r,o){var i=e(r,o+t),s=e(r,o+n),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+i;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=n.bind(null,s,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function i(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],s=0;t<n;)(r=e[t++])<128?i[s++]=r:r>191&&r<224?i[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(r>>10),i[s++]=56320+(1023&r)):i[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},r.write=function(e,t,n){for(var r,o,i=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&o),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(n){if(n<1||n>o)return e(n);s+n>r&&(i=e(r),s=0);var a=t.call(i,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},function(e,t,n){"use strict";e.exports=o;var r=n(2);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=i;var r=n(3);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(2);function i(){r.call(this)}function s(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()},function(e,t,n){"use strict";e.exports=i;var r=n(4);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(2);function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,n){"use strict";t.Service=n(34)},function(e,t,n){"use strict";e.exports=o;var r=n(2);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(e,a,t,n,o,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return a.emit("error",e,t),s(e);if(null!==n){if(!(n instanceof o))try{n=o[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",n,t),s(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var i=n(0),s=function(e){var t=this;void 0===e&&(e={id:null,firstName:"",lastName:"",avatarUrl:"",presenceStatus:"",metadata:""}),this.update=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){return[2,i.InternalUserHandler.getInstance().updateUser(e)]}))}))},this.getUsers=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){return[2,i.InternalUserHandler.getInstance().getUsers(e)]}))}))},this.id=e.id,this.firstName=e.firstName,this.lastName=e.lastName,this.avatarUrl=e.avatarUrl,this.presenceStatus=e.presenceStatus,this.metadata=e.metadata};t.User=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalUserHandler=void 0;var o=n(0),i=function(){function e(t,n,i){var s=this;this.updateUser=function(e){return new Promise((function(t,n){var i=s.messagingClient.createMessageId();e.avatarUrl&&(e.avatar=e.avatarUrl,delete e.avatarUrl);var a=o.PB.create(o.BMP.UserQuery,{id:i,to:s.authHandler.id,user:{id:s.authHandler.id,profile:r({firstName:s.user.firstName,lastName:s.user.lastName,avatar:s.user.avatarUrl,metadata:s.user.metadata},e)}});s.messagingClient.send(i,a,o.BMP.UserQuery,(function(e,r){if(e)return n(new o.SceytChatError(r.message,r.code));var i=r.user;s.updateUserProfileInstance(null==i?void 0:i.profile),t({firstName:s.user.firstName,lastName:s.user.lastName,avatarUrl:s.user.avatarUrl,metadata:s.user.metadata})}))}))},this.getUsers=function(e){return new Promise((function(t,n){var r=s.messagingClient.createMessageId();e.length||(e=[{id:"vardan"},{id:"armen2",firstName:"",lastName:"",avatarUrl:"",presenceStatus:"",metadata:""},{id:"3",firstName:"",lastName:"",avatarUrl:"",presenceStatus:"",metadata:""},{id:"4",firstName:"",lastName:"",avatarUrl:"",presenceStatus:"",metadata:""}]);var i=s.formatUsers(e),a=o.PB.create(o.BMP.UserQuery,{id:r,usersStatus:{users:i}});s.messagingClient.send(r,a,o.BMP.UserQuery,(function(e,r){if(e)return n(new o.SceytChatError(r.message,r.code));var i=r.usersStatus,a=s.createUsersList(null==i?void 0:i.users);t(a)}))}))},this.createUsersList=function(e){return e.map((function(e){return new o.User({id:o.unescapeString(e.id.replace(s.authHandler.prefix,"").replace(s.authHandler.suffix,"")),firstName:e.profile?e.profile.firstName:"",lastName:e.profile?e.profile.lastName:"",avatarUrl:e.profile?e.profile.avatar:"",metadata:e.profile?e.profile.metadata:"",presenceStatus:o.PresenceStatus[e.status]})}))},this.formatUsers=function(e){var t=s.authHandler.prefix,n=s.authHandler.suffix;return Array.isArray(e)?e.map((function(e){return{id:e.id.startsWith(t)&&e.id.endsWith(n)?e.id:t+o.escapeString(e.id)+n}})):[]},this.updateUserProfileInstance=function(e){s.user.firstName=e.firstName,s.user.lastName=e.lastName,s.user.avatarUrl=e.avatar,s.user.metadata=e.metadata},this.setUser=function(e){s.user.id=unescape(s.authHandler.u),s.user.firstName=e.firstName||"",s.user.lastName=e.lastName||"",s.user.avatarUrl=e.avatarUrl||"",s.user.presenceStatus=e.presenceStatus||"",s.user.metadata=e.metadata||""},this.handleUserAuthSuccess=function(e){var t,n,r,i,a=new o.User({id:e.id,firstName:null===(t=e.profile)||void 0===t?void 0:t.firstName,lastName:null===(n=e.profile)||void 0===n?void 0:n.lastName,avatarUrl:null===(r=e.profile)||void 0===r?void 0:r.avatar,presenceStatus:o.PresenceStatus[e.status],metadata:null===(i=e.profile)||void 0===i?void 0:i.metadata});s.setUser(a)},this.user=i,this.authHandler=t,this.messagingClient=n,this.authHandler.authSuccess.on(this.handleUserAuthSuccess),e.instance=this}return e.getInstance=function(){return e.instance},e}();t.InternalUserHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiteEvent=void 0;var r=function(){var e=this;this.handlers=[],this.on=function(t){e.handlers.push(t)},this.off=function(t){e.handlers=e.handlers.filter((function(e){return e!==t}))},this.trigger=function(t){e.handlers.slice(0).forEach((function(e){return e(t)}))},this.expose=function(){return e}};t.LiteEvent=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketClient=void 0;var r=n(0),o=function(){function e(){var e=this;this.disconnectTimeoutMs=1e4,this.pingTimeoutMs=15e3,this.close=function(){var t=e.socket;t&&t.close&&t.readyState===t.OPEN?(console.log("info","connection:disconnect() - Manually closed connection by calling client.disconnect()",{tags:["connection"]}),t.close(1e3,"Manually closed connection by calling client.disconnect()")):(console.log("info","connection:disconnect() - ws connection doesn't exist or it is already closed.",{tags:["connection"]}),t.close()),clearTimeout(e.pingTimeout),clearTimeout(e.disconnectTimeout)},this.ping=function(){e.socket.send(new Uint8Array([r.PING_MESSAGE])),e.startDisconnectTimeout()}}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host="wss://"+e},enumerable:!1,configurable:!0}),e.prototype.initSocket=function(){this.socket=new WebSocket(this.host)},e.prototype.initHandlers=function(e){this.handlers=e},e.prototype.attachHandlers=function(){this.socket.addEventListener("open",this.handlers.open),this.socket.addEventListener("close",this.handlers.close),this.socket.addEventListener("message",this.handlers.message),this.socket.addEventListener("error",this.handlers.error)},e.prototype.sendMessage=function(e){this.socket.send(e)},e.prototype.connect=function(e){this.initSocket(),this.handlers=e,this.attachHandlers()},e.prototype.reconnect=function(){this.initSocket(),this.attachHandlers()},e.prototype.keepAlive=function(){this.pingTimeout=setTimeout(this.ping,this.pingTimeoutMs)},e.prototype.startDisconnectTimeout=function(){this.disconnectTimeout=setTimeout(this.close,this.disconnectTimeoutMs)},e.prototype.stopDisconnectTimeout=function(){clearTimeout(this.disconnectTimeout),clearTimeout(this.pingTimeout),this.keepAlive()},e.prototype.handlePong=function(){this.stopDisconnectTimeout()},e.prototype.socketInitialized=function(){return!!this.socket},e}();t.SocketClient=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelListener=void 0;var r=function(){this.onMessageEdited=function(){},this.onMessageDeleted=function(){},this.onMessage=function(){},this.onLeave=function(){},this.onBlock=function(){},this.onUnBlock=function(){},this.onJoin=function(){},this.onCreate=function(){},this.onUpdate=function(){},this.onDelete=function(){},this.onMemberAdded=function(){},this.onMemberRemoved=function(){},this.onStartTyping=function(){},this.onStopTyping=function(){},this.onUpdateDeliveryReceipt=function(){},this.onUpdateReadReceipt=function(){},this.onUpdateUnreadCounts=function(){}};t.ChannelListener=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannelHandler=void 0;var a=n(0),c=function(){function e(t,n,c){var u=this;this.channelListeners={},this.channelsMap={},this.createChannel=function(e){return new Promise((function(t,n){var o=e.type,i=e.members,c=s(e,["type","members"]),l=u.formatMembers(i),p=u.messagingClient.createMessageId(),d=a.PB.create(a.BMP.ChannelQuery,{id:p,channels:{list:[{id:u.authHandler.mvh,config:r(r({},c),{createAt:c.createdAt,avatar:c.avatarUrl}),members:l,type:Number(o)}]},type:a.bin_proto.ChannelQuery.Type.CREATE});u.messagingClient.send(p,d,a.BMP.ChannelAction,(function(e,r){if(e)return n(new a.SceytChatError(r.message,r.code));var o=r.channel,i=null;o.type===a.ChannelType.PUBLIC&&(i=new a.PublicChannel(o)),o.type===a.ChannelType.PRIVATE&&(i=new a.PrivateChannel(o)),o.type===a.ChannelType.DIRECT&&(i=new a.DirectChannel(o)),u.setChannelReference(i.id,{id:o.id,instance:i}),t(i)}))}))},this.delete=function(e){var t=u.getChannelFullId(e);return new Promise((function(n,r){var o=u.messagingClient.createMessageId(),i=a.PB.create(a.BMP.ChannelQuery,{id:o,channels:{list:[{id:t}]},type:a.bin_proto.ChannelQuery.Type.DELETE});u.messagingClient.send(o,i,a.BMP.ChannelAction,(function(t,o){if(t)return r(new a.SceytChatError(o.message,o.code));u.removeChannelReference(e),n({deleted:!0})}))}))},this.clearHistory=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,to:t,type:a.bin_proto.ChannelQuery.Type.CLEAR_MESSAGES});u.messagingClient.send(r,o,a.BMP.ChannelAction,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));e({cleared:!0})}))}))},this.getRoles=function(){return new Promise((function(e,t){var n=u.messagingClient.createMessageId(),r=a.PB.create(a.BMP.ChannelQuery,{id:n,to:u.authHandler.mvh,type:a.bin_proto.ChannelQuery.Type.GET_ROLES});u.messagingClient.send(n,r,a.BMP.ChannelQuery,(function(n,r){if(n)return t(new a.SceytChatError(r.message,r.code));var o=r.roles;e(o)}))}))},this.formatMessageData=function(e){return e.channels.list=e.channels.list.map((function(e){return e.conv?(e.conv.msg.date=new Date(e.conv.msg.date),r({},e)):e})),e},this.getChannels=function(e){return new Promise((function(t,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelSearchQuery,{id:r,ctype:e.ctype,fields:e.fields,count:e.count,to:u.authHandler.mvh,index:e.index,sort:e.sort});u.messagingClient.send(r,o,a.BMP.ChannelQuery,(function(e,r){if(e)return n(new a.SceytChatError(r.message,r.code));var o=u.formatMessageData(r);t(o)}))}))},this.getMembers=function(e){var t=u.getChannelFullId(e.channelId);return new Promise((function(n,r){var o=u.messagingClient.createMessageId(),i=a.PB.create(a.BMP.ChannelQuery,{id:o,index:e.index,count:e.count,type:a.bin_proto.ChannelQuery.Type.MEMBERS,members:{channelId:t,type:e.type,order:e.order,key:e.key}});u.messagingClient.send(o,i,a.BMP.ChannelQuery,(function(e,t){if(e)return r(new a.SceytChatError(t.message,t.code));n(t)}))}))},this.getBlockedMembers=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,type:a.bin_proto.ChannelQuery.Type.GET_BLOCKED_MEMBER_LIST,to:t,count:5,index:0});u.messagingClient.send(r,o,a.BMP.ChannelQuery,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));var o=u.createMembersList(r.members.list);e(o)}))}))},this.getBlockedChannels=function(e){return new Promise((function(t,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.UserQuery,{id:r,to:u.authHandler.mvh,userAction:{action:a.bin_proto.UserAction.Action.GET_BLOCK_LIST},count:e.count,index:e.index});u.messagingClient.send(r,o,a.BMP.ChannelQuery,(function(e,r){if(e)return n(new a.SceytChatError(r.message,r.code));t(r)}))}))},this.getHiddenChannels=function(e){return new Promise((function(t,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,to:u.authHandler.mvh,type:a.bin_proto.ChannelQuery.Type.GET_HIDDEN_CHANNELS,count:e.count,index:e.index});u.messagingClient.send(r,o,a.BMP.ChannelQuery,(function(e,r){if(e)return n(new a.SceytChatError(r.message,r.code));t(r)}))}))},this.addMembers=function(e,t){void 0===t&&(t=[]);var n=u.getChannelFullId(e);return new Promise((function(r,o){var i=u.messagingClient.createMessageId(),s=u.formatMembers(t),c=a.PB.create(a.BMP.ChannelQuery,{id:i,channels:{list:[{id:n,members:s}]},type:a.bin_proto.ChannelQuery.Type.ADD_MEMBER});u.messagingClient.send(i,c,a.BMP.ChannelAction,(function(t,n){if(t)return o(new a.SceytChatError(n.message,n.code));var i=n.channel,s=i.members,c=i.updateAt,l=i.membersTotalCount,p=u.addMembersToChannelInstance(e,s,c,l),d=p.addedMembers,f=p.instance;r({members:d,updatedChannel:f})}))}))},this.kickMembers=function(e,t){void 0===t&&(t=[]);var n=u.getChannelFullId(e);return new Promise((function(r,o){var i=u.messagingClient.createMessageId(),s=u.formatMembers(t),c=a.PB.create(a.BMP.ChannelQuery,{id:i,type:a.bin_proto.ChannelQuery.Type.KICK_MEMBER,members:{channelId:n,list:s}});u.messagingClient.send(i,c,a.BMP.ChannelAction,(function(t,n){if(t)return o(new a.SceytChatError(n.message,n.code));var i=n.channel,s=i.members,c=i.updateAt,l=i.membersTotalCount,p=u.removeMembersFromChannelInstance(e,s,c,l),d=p.removedMembers,f=p.instance;r({removedMembers:d,updatedChannel:f})}))}))},this.blockMembers=function(e,t){void 0===t&&(t=[]);var n=u.getChannelFullId(e);return new Promise((function(r,o){var i=u.messagingClient.createMessageId(),s=u.formatMembers(t),c=a.PB.create(a.BMP.ChannelQuery,{id:i,type:a.bin_proto.ChannelQuery.Type.BLOCK_MEMBER,to:n,members:{list:s}});u.messagingClient.send(i,c,a.BMP.ChannelAction,(function(t,n){if(t)return o(new a.SceytChatError(n.message,n.code));var i=n.channel,s=i.members,c=i.updateAt,l=i.membersTotalCount,p=u.removeMembersFromChannelInstance(e,s,c,l),d=p.removedMembers,f=p.instance;r({removedMembers:d,updatedChannel:f})}))}))},this.unBlockMembers=function(e,t){void 0===t&&(t=[]);var n=u.getChannelFullId(e);return new Promise((function(r,o){var i=u.messagingClient.createMessageId(),s=u.formatMembers(t),c=a.PB.create(a.BMP.ChannelQuery,{id:i,type:a.bin_proto.ChannelQuery.Type.UNBLOCK_MEMBER,to:n,members:{list:s}});u.messagingClient.send(i,c,a.BMP.ChannelAction,(function(t,n){if(t)return o(new a.SceytChatError(n.message,n.code));var i=n.channel,s=i.members,c=i.updateAt,l=i.membersTotalCount,p=u.removeMembersFromChannelInstance(e,s,c,l),d=p.removedMembers,f=p.instance;r({removedMembers:d,updatedChannel:f})}))}))},this.join=function(e){var t=u.getChannelFullId(e);return new Promise((function(n,r){var o=u.messagingClient.createMessageId(),i=a.PB.create(a.BMP.ChannelQuery,{id:o,to:t,type:a.bin_proto.ChannelQuery.Type.JOIN});u.messagingClient.send(o,i,a.BMP.ChannelAction,(function(t,o){if(t)return r(new a.SceytChatError(o.message,o.code));var i=o.channel,s=i.members,c=i.updateAt,l=i.membersTotalCount,p=u.addMembersToChannelInstance(e,s,c,l),d=p.addedMembers,f=p.instance;n({members:d,updatedChannel:f})}))}))},this.changeOwner=function(e,t){var n=u.getChannelFullId(e),r=u.formatMembers([t]);return new Promise((function(e,t){var o=u.messagingClient.createMessageId(),i=a.PB.create(a.BMP.ChannelQuery,{id:o,to:n,members:{list:r},type:a.bin_proto.ChannelQuery.Type.CHANGE_OWNER});u.messagingClient.send(o,i,a.BMP.ChannelAction,(function(n,r){if(n)return t(new a.SceytChatError(r.message,r.code));var o=u.createMembersList(r.channel.members);e(o)}))}))},this.changeMemberRole=function(e,t){var n=u.getChannelFullId(e),r=u.formatMembers(t);return new Promise((function(e,t){var o=u.messagingClient.createMessageId(),i=a.PB.create(a.BMP.ChannelQuery,{id:o,to:n,members:{list:r},type:a.bin_proto.ChannelQuery.Type.CHANGE_ROLE});u.messagingClient.send(o,i,a.BMP.ChannelAction,(function(n,r){if(n)return t(new a.SceytChatError(r.message,r.code));var o=u.createMembersList(r.channel.members);e(o)}))}))},this.hide=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,to:u.authHandler.mvh,channels:{list:[{id:t}]},type:a.bin_proto.ChannelQuery.Type.HIDE_CHANNELS});u.messagingClient.send(r,o,a.BMP.ChannelAction,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));e({hidden:!0})}))}))},this.show=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,to:u.authHandler.mvh,channels:{list:[{id:t}]},type:a.bin_proto.ChannelQuery.Type.SHOW_CHANNELS});u.messagingClient.send(r,o,a.BMP.ChannelAction,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));e({showed:!0})}))}))},this.leave=function(e){var t=u.getChannelFullId(e);return new Promise((function(n,r){var o=u.messagingClient.createMessageId(),i=a.PB.create(a.BMP.ChannelQuery,{id:o,to:t,type:a.bin_proto.ChannelQuery.Type.LEAVE});u.messagingClient.send(o,i,a.BMP.ChannelAction,(function(t,o){if(t)return r(new a.SceytChatError(o.message,o.code));var i=o.channel,s=i.members,c=i.updateAt,l=i.membersTotalCount,p=u.removeMembersFromChannelInstance(e,s,c,l),d=p.removedMembers,f=p.instance;n({removedMembers:d,updatedChannel:f})}))}))},this.block=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,to:u.authHandler.mvh,channels:{list:[{id:t}]},type:a.bin_proto.ChannelQuery.Type.BLOCK});u.messagingClient.send(r,o,a.BMP.ChannelAction,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));e({blocked:!0})}))}))},this.unblock=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,to:u.authHandler.mvh,channels:{list:[{id:t}]},type:a.bin_proto.ChannelQuery.Type.UNBLOCK});u.messagingClient.send(r,o,a.BMP.ChannelAction,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));var o=r.channel.id;e(o)}))}))},this.update=function(e,t){var n=u.getChannelFullId(e),o=u.channelsMap[e].instance;return new Promise((function(i,s){var c,l=u.messagingClient.createMessageId();(o instanceof a.PrivateChannel||o instanceof a.PublicChannel)&&delete(c=r(r({},t),{avatar:t.avatarUrl})).avatarUrl,o instanceof a.DirectChannel&&(c=r({},t));var p=a.PB.create(a.BMP.ChannelQuery,{id:l,channels:{list:[{id:n,config:c,type:o.type}]},type:a.bin_proto.ChannelQuery.Type.UPDATE});u.messagingClient.send(l,p,a.BMP.ChannelAction,(function(t,n){if(t)return s(new a.SceytChatError(n.message,n.code));i(u.updateChannelProperties(e,n.channel))}))}))},this.deleteMessage=function(e,t){var n=u.getChannelFullId(e);return new Promise((function(r,o){var i=u.messagingClient.createMessageId(),s=a.PB.create(a.BMP.MessageQuery,{id:i,channelId:n,type:a.bin_proto.MessageQuery.Type.UPDATE,messages:[{id:t,chStatus:a.bin_proto.Message.UpdateStatus.DELETE}]});u.messagingClient.send(i,s,a.BMP.MessageAction,(function(t,n){if(t)return o(new a.SceytChatError(n.message,n.code));var i=n.messages[0],s={id:i.id,text:i.text,to:e};u.isChannelLastMessage(e,s.id)&&u.updateChannelLastMessage(e,s),r(s)}))}))},this.editMessage=function(e,t,n){var r=u.getChannelFullId(e);return new Promise((function(o,i){var s=u.messagingClient.createMessageId(),c=a.PB.create(a.BMP.MessageQuery,{id:s,channelId:r,type:a.bin_proto.MessageQuery.Type.UPDATE,messages:[{id:t,chStatus:a.bin_proto.Message.UpdateStatus.EDIT,text:n}]});u.messagingClient.send(s,c,a.BMP.MessageAction,(function(t,n){if(t)return i(new a.SceytChatError(n.message,n.code));var r=n.messages[0],s={id:r.id,text:r.text,to:e};u.isChannelLastMessage(e,s.id)&&u.updateChannelLastMessage(e,s),o(s)}))}))},this.isChannelLastMessage=function(e,t){var n;return(null===(n=u.channelsMap[e].instance.lastMessage)||void 0===n?void 0:n.id)===t},this.uploadAttachment=function(e,t,n){var o=0,i=r(r({},t),{attachments:[]});t.attachments.map((function(r){if(r.uploadId)return i.attachments.push(r),o++,null;var s=u.createFormData(r.data,e);u.authHandler.httpClient.uploadFile(s,u.authHandler.userCredentials.jwt,r.progress,!0).then((function(e){var s,c;o++;var u={name:null===(s=r.data)||void 0===s?void 0:s.name,uploadId:e.data.id,type:null===(c=r.data)||void 0===c?void 0:c.type,meta:r.metadata,data:e.data.url,size:r.data.size,stype:a.AttachmentMessageType.Files};i.attachments.push(u),r.completion(u,null),o===t.attachments.length&&n(i)})).catch((function(e){r.completion(r,e.response)}))}))},this.sendMessageHandler=function(e,t,n){if(t.attachments&&t.attachments.length)if("string"!=typeof t.attachments[0].data||t.attachments[0].uploadId)u.uploadAttachment(e,t,(function(t){u.sendMessage(e,t,n)}));else{var r=t;r.attachments[0].stype=a.AttachmentMessageType.Url,u.sendMessage(e,r,n)}else u.sendMessage(e,t,n)},this.sendMessage=function(e,t,n){var r=u.getChannelFullId(e);return u.resetChannelUnreadCount(e),u.setChannelLastMessage(e,t),new Promise((function(e,o){var i=a.PB.create(a.BMP.Message,{tid:t.tid,to:r,text:t.text,attachments:t.attachments,date:t.date,type:3});u.messagingClient.send(t.tid,i,a.BMP.MessageStatus,(function(r,i){if(r)return o(new a.SceytChatError(i.message,i.code));var s=u.updateMessageInstance(t,{id:i.id,status:i.status});e(n(s))}))}))},this.markMessageAsDelivered=function(e,t){var n=u.getChannelFullId(e),r=u.messagingClient.createMessageId();return new Promise((function(e,o){var i=a.PB.create(a.BMP.MessageStatus,{id:t,to:n,status:a.bin_proto.Message.DeliveryStatus.DELIVERED});u.messagingClient.send(r,i,a.BMP.MessageStatus,(function(e,t){if(e)return o(new a.SceytChatError(t.message,t.code))})),e(!0)}))},this.markMessageAsRead=function(e){var t=u.getChannelFullId(e),n=u.channelsMap[e].instance,r=u.messagingClient.createMessageId();return new Promise((function(e,o){var i,s=a.PB.create(a.BMP.MessageStatus,{id:null===(i=n.lastMessage)||void 0===i?void 0:i.id,to:t,status:a.bin_proto.Message.DeliveryStatus.READ});u.messagingClient.send(r,s,a.BMP.MessageStatus,(function(e,t){if(e)return o(new a.SceytChatError(t.message,t.code))})),e(!0)}))},this.loadMessages=function(e){var t=e.channelId,n=u.getChannelFullId(t);return new Promise((function(t,r){var o=u.messagingClient.createMessageId(),i=a.PB.create(a.BMP.MessageQuery,{id:o,channelId:n,search:e.search,type:e.type});u.messagingClient.send(o,i,a.BMP.MessageQuery,(function(e,n){if(e)return r(new a.SceytChatError(n.message,n.code));t(n)}))}))},this.startTyping=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.Message,{to:t,tid:566265,chStatus:a.bin_proto.Message.UpdateStatus.COMPOSING});u.messagingClient.send(r,o,a.BMP.Message,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));e(r)}))}))},this.stopTyping=function(e){var t=u.getChannelFullId(e);return new Promise((function(e,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.Message,{to:t,tid:560294369,chStatus:a.bin_proto.Message.UpdateStatus.PAUSED});u.messagingClient.send(r,o,a.BMP.Message,(function(t,r){if(t)return n(new a.SceytChatError(r.message,r.code));e(r)}))}))},this.resetChannelUnreadCount=function(e){return u.channelsMap[e].instance.unreadCount=0},this.incrementChannelUnreadCount=function(e){return u.channelsMap[e].instance.unreadCount+=1},this.setChannelLastMessage=function(e,t){return u.channelsMap[e].instance.lastMessage=t},this.updateChannelLastMessage=function(e,t){var n=u.channelsMap[e].instance.lastMessage;n&&(u.channelsMap[e].instance.lastMessage=r(r({},n),t))},this.createFormData=function(e,t){var n=new FormData;return n.append("files",e),n.append("channelId",t),n},this.updateMessageInstance=function(e,t){var n=r({},e);return n.id=t.id,n.status=t.status,n},this.handleChannelAction=function(e){e.isError;var t=e.decodedMessage,n=e.receivedEventType;return o(u,void 0,void 0,(function(){var e,r,o,s,c,u,l,p,d,f,h,y,g,b,m,v,w,O;return i(this,(function(i){switch(i.label){case 0:return e=(t||{channel:{config:{}}}).channel,r=e.id,o=e.members,s=e.updateAt,c=e.membersTotalCount,u=this.clearChannelId(r),l=!1,this.channelsMap[u]?[3,2]:[4,this.getAndCreateChannelById(r)];case 1:i.sent(),l=!0,i.label=2;case 2:switch(n){case a.bin_proto.ChannelQuery.Type.CREATE:p=this.createChannels([t.channel])[0],this.triggerChannelHandlerEvent("onCreate",p),console.warn("RECEIVED CREATE EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.DELETE:O=this.channelsMap[u].instance,this.removeChannelReference(u),this.triggerChannelHandlerEvent("onDelete",O),console.warn("RECEIVED DELETE EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.JOIN:d=this.addMembersToChannelInstance(u,o,s,c,l),f=d.addedMembers,O=d.instance,this.triggerChannelHandlerEvent("onJoin",{channel:O,joinedMembers:f}),console.warn("RECEIVED JOIN EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.LEAVE:h=this.removeMembersFromChannelInstance(u,o,s,c,l),g=h.removedMembers,O=h.instance,this.triggerChannelHandlerEvent("onLeave",{channel:O,leftMembers:g}),console.warn("RECEIVED LEAVE EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.BLOCK:y=this.removeMembersFromChannelInstance(u,o,s,c,l),g=y.removedMembers,O=y.instance,this.triggerChannelHandlerEvent("onBlock",{channel:O,leftMembers:g}),console.warn("RECEIVED BLOCK EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.UNBLOCK:O=this.channelsMap[u].instance,this.triggerChannelHandlerEvent("onUnBlock",{channel:O}),console.warn("RECEIVED UNBLOCK EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.ADD_MEMBER:b=this.addMembersToChannelInstance(u,t.channel.members,t.channel.updateAt,t.channel.membersTotalCount,l),m=b.addedMembers,O=b.instance,this.triggerChannelHandlerEvent("onMemberAdded",{channel:O,addedMembers:m}),console.warn("RECEIVED ADD_MEMBER EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.KICK_MEMBER:v=this.removeMembersFromChannelInstance(u,o,s,c,l),w=v.removedMembers,O=v.instance,this.triggerChannelHandlerEvent("onMemberRemoved",{channel:O,removedMembers:w}),console.warn("RECEIVED KICK_MEMBER EVENT: ",t);break;case a.bin_proto.ChannelQuery.Type.UPDATE:this.triggerChannelHandlerEvent("onUpdate",this.updateChannelProperties(u,t.channel,l)),console.warn("RECEIVED UPDATE EVENT: ",t);break;default:console.log("handleChannelAction(): Unhandled receivedEventType: ",n)}return[2]}}))}))},this.handleChannelMessage=function(e){return o(u,void 0,void 0,(function(){var t,n,r,o,s,c,u,l;return i(this,(function(i){switch(i.label){case 0:return t=this.clearUserId(this.authHandler.id),n=this.clearUserId(e.from.id),r=e.to,o=this.clearChannelId(r),s=e.chStatus===a.bin_proto.Message.UpdateStatus.COMPOSING?"onStartTyping":e.chStatus===a.bin_proto.Message.UpdateStatus.PAUSED?"onStopTyping":"onMessage",c=e.id>>22,t===n?[3,3]:this.channelsMap[o]?[3,2]:[4,this.getAndCreateChannelById(r)];case 1:i.sent(),i.label=2;case 2:u=this.channelsMap[o].instance,l={date:new Date(c+a.EPOCH),from:{id:n},id:e.id,chStatus:a.MessageStatus[e.chStatus],text:e.text,to:o,isIncoming:!0},this.incrementChannelUnreadCount(o),this.setChannelLastMessage(o,l),this.triggerChannelHandlerEvent(s,u,l),i.label=3;case 3:return[2]}}))}))},this.handleMessageStatus=function(e){return o(u,void 0,void 0,(function(){var t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return t=e.to,n=this.clearChannelId(t),r=e.status===a.bin_proto.Message.DeliveryStatus.DELIVERED?"onUpdateDeliveryReceipt":e.status===a.bin_proto.Message.DeliveryStatus.READ?"onUpdateReadReceipt":"",this.channelsMap[n]?[3,2]:[4,this.getAndCreateChannelById(t)];case 1:i.sent(),i.label=2;case 2:return o=this.channelsMap[n].instance,s={id:e.id,status:e.status,to:n},this.triggerChannelHandlerEvent(r,o,s),[2]}}))}))},this.handleMessageAction=function(e){return o(u,void 0,void 0,(function(){var t,n,r,o,s,c,u;return i(this,(function(i){switch(i.label){case 0:return t=e.messages,n=t[0],r=n.to,o=this.clearChannelId(r),s=n.chStatus===a.bin_proto.Message.UpdateStatus.EDIT?"onMessageEdited":"onMessageDeleted",this.channelsMap[o]?[3,2]:[4,this.getAndCreateChannelById(r)];case 1:i.sent(),i.label=2;case 2:return c=this.channelsMap[o].instance,u={id:n.id,text:n.text,to:o},this.isChannelLastMessage(o,u.id)&&this.updateChannelLastMessage(o,u),this.triggerChannelHandlerEvent(s,c,u),[2]}}))}))},this.handleUnreadCount=function(e){return o(u,void 0,void 0,(function(){var t,n,r,o,s,a;return i(this,(function(i){switch(i.label){case 0:return t=e.unreadCount,n=e.from,r=this.clearChannelId(n),o="onUpdateUnreadCounts",this.channelsMap[r]?[3,2]:[4,this.getAndCreateChannelById(n)];case 1:i.sent(),i.label=2;case 2:return s=this.channelsMap[r].instance,a={unreadCount:t,from:r},this.triggerChannelHandlerEvent(o,s,a),[2]}}))}))},this.setChannelReference=function(e,t){u.channelsMap[e]=t},this.removeChannelReference=function(e){delete u.channelsMap[e]},this.updateChannelDate=function(e,t){var n=u.channelsMap[e].instance;return n.updatedAt=t,n},this.addMembersToChannelInstance=function(e,t,n,r,o){void 0===o&&(o=!1);var i=u.createMembersList(t),s=u.channelsMap[e].instance;return o?{addedMembers:i,instance:s}:Array.isArray(i)&&i.length>0?((s instanceof a.PublicChannel||s instanceof a.PrivateChannel)&&(s.membersCount=r),s.updatedAt=new Date(n/1e3),{addedMembers:i,instance:s}):{addedMembers:[],instance:s}},this.removeMembersFromChannelInstance=function(e,t,n,r,o){void 0===o&&(o=!1);var i=u.createMembersList(t),s=u.channelsMap[e].instance;return o?(console.log("removeMembersFromChannelInstance notExistingChannelCreated: returning",{removedMembers:i,instance:s}),{removedMembers:i,instance:s}):Array.isArray(i)&&i.length>0?((s instanceof a.PrivateChannel||s instanceof a.PublicChannel)&&(s.membersCount=r),s.updatedAt=new Date(n/1e3),{removedMembers:i,instance:s}):{removedMembers:i,instance:s}},this.formatMembers=function(e){var t=u.authHandler.prefix,n=u.authHandler.suffix;return Array.isArray(e)?e[0].id?e.map((function(e){return{role:e.role,user:{id:e.id.startsWith(t)&&e.id.endsWith(n)?e.id:t+a.escapeString(e.id)+n}}})):e.map((function(e){return{user:{id:e.startsWith(t)&&e.endsWith(n)?e:t+a.escapeString(e)+n}}})):[]},this.createMembersList=function(e){return e.map((function(e){var t=new a.User({id:a.unescapeString(e.user.id.replace(u.authHandler.prefix,"").replace(u.authHandler.suffix,"")),firstName:e.user.profile?e.user.profile.firstName:"",lastName:e.user.profile?e.user.profile.lastName:"",avatarUrl:e.user.profile?e.user.profile.avatar:"",metadata:e.user.profile?e.user.profile.metadata:"",presenceStatus:a.PresenceStatus[e.user.status]});return new a.Member({role:e.role,user:t})}))},this.clearUserId=function(e){return a.unescapeString(e.replace(u.authHandler.prefix,"").replace(u.authHandler.suffix,""))},this.clearChannelId=function(e){return e.replace("@"+u.authHandler.mvh,"")},this.getChannelFullId=function(e){return u.channelsMap[e].id},this.updateChannelProperties=function(e,t,n){if(void 0===n&&(n=!1),n)return u.channelsMap[e];var r=u.channelsMap[e].instance;return r.label=t.config.label,r.metadata=t.config.metadata,r.updatedAt=new Date(t.updateAt/1e3),(r instanceof a.PrivateChannel||r instanceof a.PublicChannel)&&(r.avatarUrl=t.config.avatar,r.subject=t.config.subject,r instanceof a.PublicChannel&&(r.uri=t.config.uri)),r},this.getAndCreateChannelById=function(e){return new Promise((function(t,n){var r=u.messagingClient.createMessageId(),o=a.PB.create(a.BMP.ChannelQuery,{id:r,channels:{order:a.bin_proto.Channels.Order.LAST_MESSAGE,list:[{id:e}]},type:a.bin_proto.ChannelQuery.Type.GET,count:1,index:0});u.messagingClient.send(r,o,a.BMP.ChannelQuery,(function(e,r){if(e)return n(new a.SceytChatError(r.message,r.code));var o=r.channels.list[0],i=null;o.type===a.ChannelType.PUBLIC&&(i=new a.PublicChannel(o)),o.type===a.ChannelType.PRIVATE&&(i=new a.PrivateChannel(o)),o.type===a.ChannelType.DIRECT&&(i=new a.DirectChannel(o)),u.setChannelReference(i.id,{id:o.id,instance:i}),t(i)}))}))},this.triggerChannelHandlerEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.keys(u.channelListeners).map((function(n){var r;(r=u.channelListeners[n])[e].apply(r,t)}))},this.formatReceivedMessages=function(e){return e.map((function(e){var t=u.clearUserId(u.authHandler.u),n=u.clearUserId(e.from.id);return r(r({},e),{date:new Date(e.date),to:u.clearChannelId(e.to),from:r(r({},e.from),{id:n}),isIncoming:t!==n})}))},this.authHandler=t,this.messagingClient=n,this.messagingClient.messageActionReceived.on(this.handleMessageAction),this.messagingClient.messageStatusReceived.on(this.handleMessageStatus),this.messagingClient.channelActionReceived.on(this.handleChannelAction),this.messagingClient.messageUnreadCountsReceived.on(this.handleUnreadCount),this.messagingClient.messageReceived.on(this.handleChannelMessage),this.channelListeners=c,e.instance=this}return e.getInstance=function(){return e.instance},e.prototype.createChannels=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n],i=o.type,s=null;o.members.length&&o.members[0].user.id!==this.authHandler.id&&(o.members[0].role=""),i===a.ChannelType.PUBLIC&&(s=new a.PublicChannel(o)),i===a.ChannelType.PRIVATE&&(s=new a.PrivateChannel(o)),i===a.ChannelType.DIRECT&&(s=new a.DirectChannel(o)),this.setChannelReference(s.id,{id:o.id,instance:s}),t.push(s)}return t},e}();t.InternalChannelHandler=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthHandler=void 0;var s=n(0),a=function(){function e(){var t=this;this.httpClient=new s.HttpClient,this.authState=s.AuthState.NOT_AUTHENTICATED,this.setUserCredentials=function(e){t.userCredentials=e},this.setAuthState=function(e){t.authState=e},this.getAuthState=function(){return t.authState},this.authViaHttp=function(n,a){return o(t,void 0,void 0,(function(){var t,o,c,u,l,p,d;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.setAuthState(s.AuthState.HTTP_AUTHENTICATING),[4,this.httpClient.connect(n)];case 1:return t=i.sent(),o=t.message,c=t.code,u=t.credentials,200===t.statusCode?(this.setUserCredentials(r(r({},u),{jwt:n,resource:a})),this.setAuthState(s.AuthState.HTTP_AUTHENTICATED),[2,{httpError:!1}]):(this.setAuthState(s.AuthState.HTTP_AUTH_FAILED),e.onAuthFailed.trigger(new s.SceytChatError(o,c)),[2,{httpError:!0,error:{message:o,code:c}}]);case 2:return l=i.sent(),p=l.connectionTimeout,d=p?s.AuthState.CONNECTION_TIMEOUT:s.AuthState.HTTP_AUTH_FAILED,this.setAuthState(d),e.onAuthFailed.trigger(new s.SceytChatError(l.message,l.code)),[2,{httpError:!0,error:l,connectionTimeout:!!p}];case 3:return[2]}}))}))},this.createAuthMessage=function(){return s.PB.create(s.BMP.Auth,{username:t.id,jwt:t.userCredentials.jwt,domain:t.userCredentials.vh,resource:t.userCredentials.resource,presence:0})},this.setSocket=function(e){t.socketClient=e},this.authViaSocket=function(e){t.setSocket(e),t.setAuthState(s.AuthState.SOCKET_AUTHENTICATING);var n=t.createAuthMessage();e.sendMessage(n)},this.handleResponse=function(n){200===n.code?(e.onAuthSuccess.trigger(n.user),t.socketClient.keepAlive(),t.setAuthState(s.AuthState.AUTHENTICATED)):(t.setAuthState(s.AuthState.SOCKET_AUTH_FAILED),e.onAuthFailed.trigger(new s.SceytChatError(n.msg,n.code)))}}return Object.defineProperty(e.prototype,"a",{get:function(){return this.userCredentials.a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vh",{get:function(){return this.userCredentials.vh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mvh",{get:function(){return this.userCredentials.mvh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u",{get:function(){return this.userCredentials.u},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return""+this.prefix+s.escapeString(this.u)+this.suffix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authSuccess",{get:function(){return e.onAuthSuccess.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authFailed",{get:function(){return e.onAuthFailed.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){return this.userCredentials.h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefix",{get:function(){return this.a+"-"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffix",{get:function(){return"@"+this.vh},enumerable:!1,configurable:!0}),e.onAuthSuccess=new s.LiteEvent,e.onAuthFailed=new s.LiteEvent,e}();t.AuthHandler=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var s=n(0),a=i(n(44)),c=function(){var e=this;this.connect=function(t){return r(e,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,s._fetch(this.endpoint+"/"+s.api.connect,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}})];case 1:return e=o.sent(),n=e.status,[4,e.json()];case 2:return[2,{message:(r=o.sent()).message,code:r.code,credentials:r,statusCode:n}];case 3:throw o.sent();case 4:return[2]}}))}))},this.uploadFile=function(t,n,r,o){var i={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);r&&r(t)},headers:{Authorization:"Bearer "+n}};return o?a.default.post(e.endpoint+"/"+s.api.attachments,t,i):a.default.post(e.endpoint+"/"+s.api.files,t,i)},this.endpoint="http://ec2-3-125-104-48.eu-central-1.compute.amazonaws.com/user/api/v1"};t.HttpClient=c},function(e,t,n){e.exports=n(45)},function(e,t,n){"use strict";var r=n(1),o=n(5),i=n(46),s=n(11);function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=a(n(8));c.Axios=i,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n(12),c.CancelToken=n(60),c.isCancel=n(7),c.all=function(e){return Promise.all(e)},c.spread=n(61),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(1),o=n(6),i=n(47),s=n(48),a=n(11);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(1);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(1),o=n(49),i=n(7),s=n(8);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(56),o=n(57);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(12);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingClient=void 0;var o=r(n(63)),i=n(0),s=function(){function e(t){var n=this;this.messagingQueue={},this.createHashids=function(e,t){n.hashids=new o.default(e?""+e+t:""+t,16,i.customAlphabet)},this.send=function(e,t,r,o){n.messagingQueue[e]={callback:o,waitingForBmpType:r},n.socketClient.sendMessage(t)},this.handleMessage=function(t,r){var o=r.id,s=r.tid||o,a=n.messagingQueue[s]&&n.messagingQueue[s].callback,c=n.messagingQueue[s]&&n.messagingQueue[s].waitingForBmpType,u=t===i.BMP.Error;if(a&&(t===c||u))console.warn("handleMessage() received message with bmpType "+t+", decodedMessage is",r,"callback exists"),a(u,r),delete n.messagingQueue[s];else if(t===i.BMP.ChannelAction){var l=r.type;e.onChannelActionReceived.trigger({isError:u,decodedMessage:r,receivedEventType:l})}else t===i.BMP.Message?e.onMessageReceived.trigger(r):t===i.BMP.MessageAction?e.onMessageActionReceived.trigger(r):t===i.BMP.MessageStatus?e.onMessageStatusReceived.trigger(r):t===i.BMP.SystemMessage?e.onMessageUnreadCountsReceived.trigger(r):console.warn("handleMessage() unhandled received message with bmpType "+t+", decodedMessage is",r,"case of event ")},this.createMessageId=function(e){void 0===e&&(e=!1);var t=Date.now();return e?t:n.hashids?n.hashids.encode(t):"msgId"+t},this.socketClient=t}return Object.defineProperty(e.prototype,"channelActionReceived",{get:function(){return e.onChannelActionReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageActionReceived",{get:function(){return e.onMessageActionReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageStatusReceived",{get:function(){return e.onMessageStatusReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageReceived",{get:function(){return e.onMessageReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageUnreadCountsReceived",{get:function(){return e.onMessageUnreadCountsReceived.expose()},enumerable:!1,configurable:!0}),e.onMessageActionReceived=new i.LiteEvent,e.onMessageStatusReceived=new i.LiteEvent,e.onChannelActionReceived=new i.LiteEvent,e.onMessageReceived=new i.LiteEvent,e.onMessageUnreadCountsReceived=new i.LiteEvent,e}();t.MessagingClient=s},function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(r=function(e){"use strict";function t(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.__esModule=!0,e.onlyChars=e.withoutChars=e.keepUnique=e.default=void 0;var n=function(){function e(e,n,u,l){if(void 0===e&&(e=""),void 0===n&&(n=0),void 0===u&&(u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"),void 0===l&&(l="cfhistuCFHISTU"),this.minLength=n,"number"!=typeof n)throw new TypeError("Hashids: Provided 'minLength' has to be a number (is "+typeof n+")");if("string"!=typeof e)throw new TypeError("Hashids: Provided 'salt' has to be a string (is "+typeof e+")");if("string"!=typeof u)throw new TypeError("Hashids: Provided alphabet has to be a string (is "+typeof u+")");var d=Array.from(e),f=Array.from(u),h=Array.from(l);this.salt=d;var y=s(f);if(y.length<r)throw new Error("Hashids: alphabet must contain at least "+r+" unique characters, provided: "+y);this.alphabet=a(y,h);var g,v,w,O=c(h,y);this.seps=p(O,d),(0===this.seps.length||this.alphabet.length/this.seps.length>o)&&(g=Math.ceil(this.alphabet.length/o))>this.seps.length&&(v=g-this.seps.length,(w=this.seps).push.apply(w,t(this.alphabet.slice(0,v))),this.alphabet=this.alphabet.slice(v)),this.alphabet=p(this.alphabet,d);var S=Math.ceil(this.alphabet.length/i);this.alphabet.length<3?(this.guards=this.seps.slice(0,S),this.seps=this.seps.slice(S)):(this.guards=this.alphabet.slice(0,S),this.alphabet=this.alphabet.slice(S)),this.guardsRegExp=b(this.guards),this.sepsRegExp=b(this.seps),this.allowedCharsRegExp=m([].concat(t(this.alphabet),t(this.guards),t(this.seps)))}var n=e.prototype;return n.encode=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i="";return(r=Array.isArray(e)?e:[].concat(t(null!=e?[e]:[]),t(r))).length?(r.every(u)||(r=r.map((function(e){return"bigint"==typeof e||"number"==typeof e?e:y(String(e))}))),r.every(l)?this._encode(r).join(""):i):i},n.decode=function(e){return e&&"string"==typeof e&&0!==e.length?this._decode(e):[]},n.encodeHex=function(e){switch(typeof e){case"bigint":e=e.toString(16);break;case"string":if(!/^[0-9a-fA-F]+$/.test(e))return"";break;default:throw new Error("Hashids: The provided value is neither a string, nor a BigInt (got: "+typeof e+")")}var t=g(e,12,(function(e){return parseInt("1"+e,16)}));return this.encode(t)},n.decodeHex=function(e){return this.decode(e).map((function(e){return e.toString(16).slice(1)})).join("")},n._encode=function(e){var n=this,r=this.alphabet,o=e.reduce((function(e,t,n){return e+("bigint"==typeof t?Number(t%BigInt(n+100)):t%(n+100))}),0),i=[r[o%r.length]],s=i.slice(),a=this.seps,c=this.guards;if(e.forEach((function(o,c){var u,l=s.concat(n.salt,r);r=p(r,l);var f=d(o,r);if((u=i).push.apply(u,t(f)),c+1<e.length){var h=f[0].codePointAt(0)+c,y="bigint"==typeof o?Number(o%BigInt(h)):o%h;i.push(a[y%a.length])}})),i.length<this.minLength){var u=(o+i[0].codePointAt(0))%c.length;if(i.unshift(c[u]),i.length<this.minLength){var l=(o+i[2].codePointAt(0))%c.length;i.push(c[l])}}for(var f=Math.floor(r.length/2);i.length<this.minLength;){var h,y;r=p(r,r),(h=i).unshift.apply(h,t(r.slice(f))),(y=i).push.apply(y,t(r.slice(0,f)));var g=i.length-this.minLength;if(g>0){var b=g/2;i=i.slice(b,b+this.minLength)}}return i},n.isValidId=function(e){return this.allowedCharsRegExp.test(e)},n._decode=function(e){if(!this.isValidId(e))throw new Error("The provided ID ("+e+") is invalid, as it contains characters that do not exist in the alphabet ("+this.guards.join("")+this.seps.join("")+this.alphabet.join("")+")");var n=e.split(this.guardsRegExp),r=n[3===n.length||2===n.length?1:0];if(0===r.length)return[];var o=r[Symbol.iterator]().next().value,i=r.slice(o.length).split(this.sepsRegExp),s=this.alphabet,a=[],c=i,u=Array.isArray(c),l=0;for(c=u?c:c[Symbol.iterator]();;){var d;if(u){if(l>=c.length)break;d=c[l++]}else{if((l=c.next()).done)break;d=l.value}var h=d,y=p(s,[o].concat(t(this.salt),t(s)).slice(0,s.length));a.push(f(Array.from(h),y)),s=y}return this._encode(a).join("")!==e?[]:a},e}();e.default=n;var r=16,o=3.5,i=12,s=function(e){return Array.from(new Set(e))};e.keepUnique=s;var a=function(e,t){return e.filter((function(e){return!t.includes(e)}))};e.withoutChars=a;var c=function(e,t){return e.filter((function(e){return t.includes(e)}))};e.onlyChars=c;var u=function(e){return"bigint"==typeof e||!Number.isNaN(Number(e))&&Math.floor(Number(e))===e},l=function(e){return"bigint"==typeof e||e>=0&&Number.isSafeInteger(e)};function p(e,t){if(0===t.length)return e;for(var n,r=e.slice(),o=r.length-1,i=0,s=0;o>0;o--,i++){s+=n=t[i%=t.length].codePointAt(0);var a=(n+i+s)%o,c=r[o],u=r[a];r[a]=c,r[o]=u}return r}var d=function(e,t){var n=[];if("bigint"==typeof e){var r=BigInt(t.length);do{n.unshift(t[Number(e%r)]),e/=r}while(e>BigInt(0))}else do{n.unshift(t[e%t.length]),e=Math.floor(e/t.length)}while(e>0);return n},f=function(e,t){return e.reduce((function(n,r){var o=t.indexOf(r);if(-1===o)throw new Error("The provided ID ("+e.join("")+") is invalid, as it contains characters that do not exist in the alphabet ("+t.join("")+")");if("bigint"==typeof n)return n*BigInt(t.length)+BigInt(o);var i=n*t.length+o;if(Number.isSafeInteger(i))return i;if("function"==typeof BigInt)return BigInt(n)*BigInt(t.length)+BigInt(o);throw new Error("Unable to decode the provided string, due to lack of support for BigInt numbers in the current environment")}),0)},h=/^\+?[0-9]+$/,y=function(e){return h.test(e)?parseInt(e,10):NaN},g=function(e,t,n){return Array.from({length:Math.ceil(e.length/t)},(function(r,o){return n(e.slice(o*t,(o+1)*t))}))},b=function(e){return new RegExp(e.map((function(e){return v(e)})).sort((function(e,t){return t.length-e.length})).join("|"))},m=function(e){return new RegExp("^["+e.map((function(e){return v(e)})).sort((function(e,t){return t.length-e.length})).join("")+"]+$")},v=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;var i=n(0),s=function(e){var t,n,s,a,c=this;this.delete=function(){return r(c,void 0,void 0,(function(){var e;return o(this,(function(t){return e=this.id,[2,i.InternalChannelHandler.getInstance().delete(e)]}))}))},this.hide=function(){return r(c,void 0,void 0,(function(){var e;return o(this,(function(t){return e=this.id,[2,i.InternalChannelHandler.getInstance().hide(e)]}))}))},this.show=function(){return r(c,void 0,void 0,(function(){var e;return o(this,(function(t){return e=this.id,[2,i.InternalChannelHandler.getInstance().show(e)]}))}))},this.clearHistory=function(){return r(c,void 0,void 0,(function(){var e;return o(this,(function(t){return e=this.id,[2,i.InternalChannelHandler.getInstance().clearHistory(e)]}))}))},this.update=function(e){return r(c,void 0,void 0,(function(){var t;return o(this,(function(n){return t=this.id,[2,i.InternalChannelHandler.getInstance().update(t,e)]}))}))},this.sendMessage=function(e,t){return r(c,void 0,void 0,(function(){var n;return o(this,(function(r){return n=this.id,[2,i.InternalChannelHandler.getInstance().sendMessageHandler(n,e,t)]}))}))},this.createMessageBuilder=function(){var e=i.InternalChannelHandler.getInstance();return new i.MessageBuilder(e.authHandler.u,c.id)},this.createMessageQueryBuilder=function(){return new i.MessageQueryBuilder(c.id)},this.createMembersQueryBuilder=function(){return new i.MembersQueryBuilder(c.id)},this.getBlockedMembers=function(){var e=c.id;return i.InternalChannelHandler.getInstance().getBlockedMembers(e)},this.deleteMessage=function(e){var t=c.id;return i.InternalChannelHandler.getInstance().deleteMessage(t,e)},this.editMessage=function(e,t){var n=c.id;return i.InternalChannelHandler.getInstance().editMessage(n,e,t)},this.startTyping=function(){var e=c.id;return i.InternalChannelHandler.getInstance().startTyping(e)},this.stopTyping=function(){var e=c.id;return i.InternalChannelHandler.getInstance().stopTyping(e)},this.markAllMessagesAsDelivered=function(e){var t=c.id;return i.InternalChannelHandler.getInstance().markMessageAsDelivered(t,e)},this.markAllMessagesAsRead=function(){var e=c.id;return i.InternalChannelHandler.getInstance().markMessageAsRead(e)};var u=i.InternalChannelHandler.getInstance();this.id=u.clearChannelId(e.id),this.unreadCount=(null===(t=e.conv)||void 0===t?void 0:t.unread)||0,this.createdAt=new Date(e.createAt/1e3),this.updatedAt=new Date(e.updateAt/1e3),this.label=e.config.label,this.metadata=e.config.metadata,this.type=e.type,this.lastMessage=(null===(n=e.conv)||void 0===n?void 0:n.msg)?u.formatReceivedMessages([e.conv.msg])[0]:null,this.lastRead=null===(s=e.conv)||void 0===s?void 0:s.localDspld,this.lastDelivery=null===(a=e.conv)||void 0===a?void 0:a.localRcvd};t.Channel=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupChannel=void 0;var a=n(0),c=function(e){function t(t){var n=e.call(this,t)||this;return n.addParticipants=function(e){return void 0===e&&(e=[]),i(n,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().addMembers(t,e)]}))}))},n.kickMembers=function(e){return void 0===e&&(e=[]),i(n,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().kickMembers(t,e)]}))}))},n.blockMembers=function(e){return void 0===e&&(e=[]),i(n,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().blockMembers(t,e)]}))}))},n.unBlockMembers=function(e){return void 0===e&&(e=[]),i(n,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().unBlockMembers(t,e)]}))}))},n.block=function(){return i(n,void 0,void 0,(function(){var e;return s(this,(function(t){return e=this.id,[2,a.InternalChannelHandler.getInstance().block(e)]}))}))},n.changeOwner=function(e){return i(n,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().changeOwner(t,e)]}))}))},n.changeMemberRole=function(e){return i(n,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().changeMemberRole(t,e)]}))}))},n.unblock=function(){return i(n,void 0,void 0,(function(){var e;return s(this,(function(t){return e=this.id,[2,a.InternalChannelHandler.getInstance().unblock(e)]}))}))},n.membersCount=t.membersTotalCount||t.members.length,n.subject=t.config.subject,n.avatarUrl=t.config.avatar,n.myRole=t.members[0]?t.members[0].role:"",n}return o(t,e),t}(a.Channel);t.GroupChannel=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageQueryBuilder=void 0;var i=n(0),s=function(e){var t=this;this.limit=function(e){return t.search.count=e,t},this.sortByMessageId=function(e){return delete t.search.timestamp,t.search.msgId=e,t},this.sortByTimestamp=function(e){return delete t.search.msgId,t.search.timestamp=e,t},this.direction=function(e){return t.search.direction=e,t},this.update=function(){return t.type=i.bin_proto.MessageQuery.Type.UPDATE,t},this.load=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=new i.MessageQuery(this),[4,(t=i.InternalChannelHandler.getInstance()).loadMessages(e)];case 1:return n=o.sent(),r=n.messages,s=n.search,[2,{messages:t.formatReceivedMessages(r),complete:!!(null==s?void 0:s.complete)}];case 2:throw a=o.sent(),new i.SceytChatError(a.message,a.code);case 3:return[2]}}))}))},this.search={direction:i.bin_proto.MessageQuery.Direction.NONE,count:0},this.type=i.bin_proto.MessageQuery.Type.SEARCH,this.channelId=e};t.MessageQueryBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageQuery=void 0;var r=function(e){this.channelId=e.channelId,this.type=e.type,this.search=e.search};t.MessageQuery=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelQueryBuilder=void 0;var i=n(0),s=function(){var e=this;this.ctype=i.bin_proto.Channel.Type.NONE,this.fields=[],this.count=20,this.sort=i.bin_proto.ChannelSearchQuery.SortOption.LAST_MESSAGE,this.fieldsMap={},this.i=0,this.hasNext=!1,this.public=function(){return e.ctype=i.bin_proto.Channel.Type.PUBLIC,e},this.private=function(){return e.ctype=i.bin_proto.Channel.Type.PRIVATE,e},this.direct=function(){return e.ctype=i.bin_proto.Channel.Type.DIRECT,e},this.limit=function(t){return e.count=t,e},this.sortByLastMessage=function(){return e.sort=i.bin_proto.ChannelSearchQuery.SortOption.LAST_MESSAGE,e},this.sortByCreationDate=function(){return e.sort=i.bin_proto.ChannelSearchQuery.SortOption.CREATED_AT,e},this.uriBeginsWith=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.URI;return e.fieldsMap[n]={key:i.bin_proto.ChannelSearchQuery.SearchQueryKey.URI,value:{word:t,type:i.bin_proto.SearchQuery.Type.BEGINS_WITH}},e.fields=Object.values(e.fieldsMap),e},this.uriEquals=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.URI;return e.fieldsMap[n]={key:i.bin_proto.ChannelSearchQuery.SearchQueryKey.URI,value:{word:t,type:i.bin_proto.SearchQuery.Type.EQUAL}},e.fields=Object.values(e.fieldsMap),e},this.uriContains=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.URI;return e.fieldsMap[n]={key:i.bin_proto.ChannelSearchQuery.SearchQueryKey.URI,value:{word:t,type:i.bin_proto.SearchQuery.Type.CONTAINS}},e.fields=Object.values(e.fieldsMap),e},this.subjectBeginsWith=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.SUBJECT;return e.fieldsMap[n]={key:n,value:{word:t,type:i.bin_proto.SearchQuery.Type.BEGINS_WITH}},e.fields=Object.values(e.fieldsMap),e},this.subjectEquals=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.SUBJECT;return e.fieldsMap[n]={key:n,value:{word:t,type:i.bin_proto.SearchQuery.Type.EQUAL}},e.fields=Object.values(e.fieldsMap),e},this.subjectContains=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.SUBJECT;return e.fieldsMap[n]={key:n,value:{word:t,type:i.bin_proto.SearchQuery.Type.CONTAINS}},e.fields=Object.values(e.fieldsMap),e},this.userBeginsWith=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.USER;return e.fieldsMap[n]={key:n,value:{word:t,type:i.bin_proto.SearchQuery.Type.BEGINS_WITH}},e.fields=Object.values(e.fieldsMap),e},this.userEquals=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.USER;return e.fieldsMap[n]={key:n,value:{word:t,type:i.bin_proto.SearchQuery.Type.EQUAL}},e.fields=Object.values(e.fieldsMap),e},this.userContains=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.USER;return e.fieldsMap[n]={key:n,value:{word:t,type:i.bin_proto.SearchQuery.Type.CONTAINS}},e.fields=Object.values(e.fieldsMap),e},this.labelEquals=function(t){var n=i.bin_proto.ChannelSearchQuery.SearchQueryKey.LABEL;return e.fieldsMap[n]={key:i.bin_proto.ChannelSearchQuery.SearchQueryKey.LABEL,value:{word:t,type:i.bin_proto.SearchQuery.Type.EQUAL}},e.fields=Object.values(e.fieldsMap),e},this.get=function(){return r(e,void 0,void 0,(function(){var e,t,n,r,s,a,c;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=new i.ChannelQuery(this),[4,(t=i.InternalChannelHandler.getInstance()).getChannels(e)];case 1:return n=o.sent(),r=n.channels.list,s=n.count,a=n.totalUnread,this.i+=r.length,this.hasNext=s-this.i>0,[2,{channels:t.createChannels(r),totalUnread:a}];case 2:throw c=o.sent(),new i.SceytChatError(c.message,c.code);case 3:return[2]}}))}))}};t.ChannelQueryBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionListener=void 0;var r=function(){this.onReconnectStarted=function(){},this.onReconnectSucceeded=function(){},this.onReconnectFailed=function(){}};t.ConnectionListener=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelQuery=void 0;var r=n(0),o=function(e){this.ctype=r.bin_proto.Channel.Type.NONE,this.fields=[],this.count=20,this.sort=r.bin_proto.ChannelSearchQuery.SortOption.LAST_MESSAGE,this.index=0,this.ctype=e.ctype,this.fields=e.fields,this.count=e.count,this.sort=e.sort,this.index=e.i};t.ChannelQuery=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PB=void 0;var i=n(0),s=function(){function e(){}return e.create=function(e,t){var n=i.BMP[e],r=i.bin_proto[n],o=r.create(t),s=r.encode(o).finish();return i.concatTypedArrays(new Uint8Array([e]),s)},e.decode=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return[4,new Response(e).arrayBuffer()];case 1:return t=o.sent(),n=new Uint8Array(t),1===n.length?[2,{bmpType:n[0],decodedMessage:null}]:(r=n[0],s=n.slice(1),a=r===i.BMP.MessageStatus?i.BMP[i.BMP.Message]:i.BMP[r],[2,{bmpType:r,decodedMessage:i.bin_proto[a].decode(s)}])}}))}))},e}();t.PB=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var i=n(0),s=function(){function e(){var t=this;this.reconnectTimeout=i.RECONNECTION_TIMEOUT,this.channelListeners={},this.connectionListeners={},this.options={},this.setOption=function(e,n){t.options[e]=n},this.getOption=function(e){return t.options[e]},this.socketClientOnOpen=function(e){t.authHandler.authViaSocket(t.socketClient)},this.socketClientOnMessage=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=e.data,[4,i.PB.decode(t)];case 1:switch(n=o.sent(),r=n.bmpType,s=n.decodedMessage,r){case i.BMP.AuthResult:this.authHandler.handleResponse(s);break;case i.BMP.Pong:this.socketClient.handlePong();break;default:this.messagingClient.handleMessage(r,s),this.socketClient.handlePong()}return[3,3];case 2:return a=o.sent(),console.warn(a,"error in socketClientOnMessage"),[3,3];case 3:return[2]}}))}))},this.socketClientOnClose=function(e){1e3===e.code||"offline"===t.connectionStatus?console.log("webSocket was closed manually or due to lack of connection"):t._reconnect()},this.socketClientOnError=function(e){console.log(e)},this.clearReconnectInterval=function(){clearInterval(t.reconnectInterval),t.authHandler.authSuccess.off(t.handleAuthSuccess),t.authHandler.authFailed.off(t.handleAuthFailed)},this.handleAuthSuccess=function(){t.clearReconnectInterval(),t.consecutiveFailures=0,t.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onReconnectSucceeded,null)},this.handleAuthFailed=function(){t.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onReconnectFailed,null)},this.auth=function(e,n){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.authHandler.authViaHttp(e,n)];case 1:return t.sent().httpError||(this.socketClient.host=this.authHandler.host,this.socketClient.connect({open:this.socketClientOnOpen,close:this.socketClientOnClose,message:this.socketClientOnMessage,error:this.socketClientOnError}),this.messagingClient.createHashids(this.authHandler.userCredentials.resource,this.authHandler.userCredentials.u)),[2]}}))}))},this.closeSocket=function(){t.socketClient.close()},this.triggerConnectionHandlerEvent=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Object.keys(t.connectionListeners).map((function(r){var o;(o=t.connectionListeners[r])[e].apply(o,n)}))},this.uploadFile=function(e){var n=new FormData;n.append("files",e.data),t.authHandler.httpClient.uploadFile(n,t.authHandler.userCredentials.jwt,e.progress,!1).then((function(t){e.completion({name:e.data.name,type:e.data.type,url:t.data.url,size:e.data.size},null)})).catch((function(t){e.completion(e,t.response)}))},this.getRoles=function(){return t.internalChannelHandler.getRoles()},this._retryInterval=function(){var e=Math.min(500+2e3*t.consecutiveFailures,25e3),n=Math.min(Math.max(250,2e3*(t.consecutiveFailures-1)),25e3);return Math.floor(Math.random()*(e-n)+n)},this.onlineStatusChanged=function(e){"offline"===e.type?console.log("info: ","connection: Status changing to offline"):"online"===e.type&&(console.log("info: ","connection: Status changing to online."),t._reconnect(10)),t.connectionStatus=e.type},this._listenForConnectionChanges=function(){"undefined"!=typeof window&&null!=window&&null!=window.addEventListener&&(window.addEventListener("offline",t.onlineStatusChanged),window.addEventListener("online",t.onlineStatusChanged))},this.consecutiveFailures=0,this.connectionStatus="",this.user=new i.User,this.socketClient=new i.SocketClient,this.authHandler=new i.AuthHandler,this.messagingClient=new i.MessagingClient(this.socketClient),this.internalChannelHandler=new i.InternalChannelHandler(this.authHandler,this.messagingClient,this.channelListeners),this.internalUserHandler=new i.InternalUserHandler(this.authHandler,this.messagingClient,this.user),e.instance=this,this._listenForConnectionChanges()}return e.getInstance=function(){return e.instance||new e},e.prototype._reconnect=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.consecutiveFailures>=5?(console.log("consecutive Failures more than 5 rounds"),[2]):(e||(e=this._retryInterval()),[4,i.sleep(e)]);case 1:return t.sent(),this.clearReconnectInterval(),this.closeSocket(),this.authHandler.authSuccess.on(this.handleAuthSuccess),this.authHandler.authFailed.on(this.handleAuthFailed),this.socketClient.reconnect(),this.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onReconnectStarted,null),this.consecutiveFailures+=1,[2]}}))}))},Object.defineProperty(e.prototype,"PublicChannel",{get:function(){return i.PublicChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PrivateChannel",{get:function(){return i.PrivateChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DirectChannel",{get:function(){return i.DirectChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChannelQueryBuilder",{get:function(){return i.ChannelQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedQueryBuilder",{get:function(){return i.BlockedQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HiddenQueryBuilder",{get:function(){return i.HiddenQueryBuilder},enumerable:!1,configurable:!0}),e}();t.Client=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sceyt=void 0;var i=n(0),s=function(){function e(t){var n=this;void 0===t&&(t=1e4),this.addChannelListener=function(e,t){n.client.channelListeners[e]=t},this.removeChannelListener=function(e){delete n.client.channelListeners[e]},this.addConnectionListener=function(e,t){n.client.connectionListeners[e]=t},this.removeConnectionListener=function(e){delete n.client.connectionListeners[e]},this.connect=function(e,t){return r(n,void 0,void 0,(function(){var n=this;return o(this,(function(r){return[2,new Promise((function(r,o){try{var s=function(e){n.client.authHandler.authFailed.off(s),n.client.authHandler.authSuccess.off(a),o(e)},a=function(e){n.client.authHandler.authFailed.off(s),n.client.authHandler.authSuccess.off(a),r(e)};n.client.auth(e,t),n.client.authHandler.authFailed.on(s),n.client.authHandler.authSuccess.on(a)}catch(e){o(new i.SceytChatError(e.message,e.code))}}))]}))}))},this.disconnect=function(){n.client.closeSocket()},this.client=new i.Client,e.instance=this}return Object.defineProperty(e.prototype,"ConnectionListener",{get:function(){return i.ConnectionListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChannelListener",{get:function(){return i.ChannelListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.client.user},enumerable:!1,configurable:!0}),e}();t.Sceyt=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicChannel=void 0;var a=n(0),c=function(e){function t(t){var n=e.call(this,t)||this;return n.join=function(){return i(n,void 0,void 0,(function(){var e;return s(this,(function(t){return e=this.id,[2,a.InternalChannelHandler.getInstance().join(e)]}))}))},n.leave=function(){return i(n,void 0,void 0,(function(){var e;return s(this,(function(t){return e=this.id,[2,a.InternalChannelHandler.getInstance().leave(e)]}))}))},n.uri=t.config.uri,n}return o(t,e),t.create=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,a.InternalChannelHandler.getInstance().createChannel(e)]}))}))},t}(a.GroupChannel);t.PublicChannel=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateChannel=void 0;var a=n(0),c=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.create=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,a.InternalChannelHandler.getInstance().createChannel(e)]}))}))},t}(a.GroupChannel);t.PrivateChannel=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirectChannel=void 0;var a=n(0),c=function(e){function t(t){var n=e.call(this,t)||this;return n.pear=t.members[0],n}return o(t,e),t.create=function(e){return i(this,void 0,void 0,(function(){var t,n,r,o,i;return s(this,(function(s){return t=a.InternalChannelHandler.getInstance(),n=e.type,r=e.metadata,o=e.label,i=e.members,[2,t.createChannel({type:n,metadata:r,label:o,members:i})]}))}))},t}(a.Channel);t.DirectChannel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBuilder=void 0;var r=n(0),o=function(e,t){var n=this;this.setText=function(e){return n.text=e,n},this.setAttachments=function(e){return n.attachments=e,n},this.create=function(){return new r.Message(n)},this.from={id:e},this.to=t,this.text="",this.attachments=[]};t.MessageBuilder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var r=n(0),o=function(e){this.from=e.from,this.to=e.to,this.text=e.text,this.isIncoming=!1,this.date=new Date(Date.now()),this.tid=Date.now(),this.id=null,this.type=0,this.status=0,this.chStatus=r.bin_proto.Message.UpdateStatus.NORMAL,this.attachments=e.attachments};t.Message=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedQueryBuilder=void 0;var i=n(0),s=function(){var e=this;this.count=20,this.i=0,this.hasNext=!1,this.limit=function(t){return e.count=t,e},this.get=function(){return r(e,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=new i.BlockedQuery(this),[4,(t=i.InternalChannelHandler.getInstance()).getBlockedChannels(e)];case 1:return n=o.sent(),r=n.channels.list,s=n.count,this.i+=r.length,this.hasNext=s-this.i>0,[2,t.createChannels(r)];case 2:throw a=o.sent(),new i.SceytChatError(a.message,a.code);case 3:return[2]}}))}))}};t.BlockedQueryBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedQuery=void 0;var r=function(e){this.count=20,this.index=0,this.count=e.count,this.index=e.i};t.BlockedQuery=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenQueryBuilder=void 0;var i=n(0),s=function(){var e=this;this.count=20,this.i=0,this.hasNext=!1,this.limit=function(t){return e.count=t,e},this.get=function(){return r(e,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=new i.HiddenQuery(this),[4,(t=i.InternalChannelHandler.getInstance()).getHiddenChannels(e)];case 1:return n=o.sent(),r=n.channels.list,s=n.count,this.i+=r.length,this.hasNext=s-this.i>0,[2,t.createChannels(r)];case 2:throw a=o.sent(),new i.SceytChatError(a.message,a.code);case 3:return[2]}}))}))}};t.HiddenQueryBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenQuery=void 0;var r=function(e){this.count=20,this.index=0,this.count=e.count,this.index=e.i};t.HiddenQuery=r},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Member=void 0;var i=function(e){function t(t){var n=e.call(this,t.user)||this;return n.role=t.role,n}return o(t,e),t}(n(0).User);t.Member=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MembersQueryBuilder=void 0;var i=n(0),s=function(e){var t=this;this.limit=function(e){return t.count=e,t},this.privileged=function(){return t.type=i.bin_proto.Members.Type.PRIVILEGED,t},this.all=function(){return t.type=i.bin_proto.Members.Type.ALL,t},this.byAscendingOrder=function(){return t.order=i.bin_proto.Members.Order.ASC,t},this.byDescendingOrder=function(){return t.order=i.bin_proto.Members.Order.DESC,t},this.byAffilationOrder=function(){return t.order=i.bin_proto.Members.Order.AFFILATION,t},this.orderKeyByUsername=function(){return t.key=i.bin_proto.Members.OrderKey.USERNAME,t},this.orderKeyByFirstname=function(){return t.key=i.bin_proto.Members.OrderKey.FIRSTNAME,t},this.orderKeyByLastname=function(){return t.key=i.bin_proto.Members.OrderKey.LASTNAME,t},this.load=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=new i.MembersQuery(this),[4,(t=i.InternalChannelHandler.getInstance()).getMembers(e)];case 1:return n=o.sent(),r=(null===(a=null==n?void 0:n.members)||void 0===a?void 0:a.list)||[],this.i+=r.length,[2,t.createMembersList(r)];case 2:throw s=o.sent(),new i.SceytChatError(s.message,s.code);case 3:return[2]}}))}))},this.channelId=e,this.type=i.bin_proto.Members.Type.ALL,this.order=i.bin_proto.Members.Order.DESC,this.key=i.bin_proto.Members.OrderKey.FIRSTNAME,this.count=20,this.i=0};t.MembersQueryBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MembersQuery=void 0;var r=function(e){this.channelId=e.channelId,this.count=e.count,this.order=e.order,this.type=e.type,this.key=e.key,this.index=e.i};t.MembersQuery=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;var r=n(0),o=function(){function e(){}return Object.defineProperty(e.prototype,"PublicChannel",{get:function(){return r.PublicChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PrivateChannel",{get:function(){return r.PrivateChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DirectChannel",{get:function(){return r.DirectChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChannelQueryBuilder",{get:function(){return r.ChannelQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedQueryBuilder",{get:function(){return r.BlockedQueryBuilder},enumerable:!1,configurable:!0}),e}();t.Chat=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SceytChatError=void 0;var i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.code=n,r.name="SceytChatError",r}return o(t,e),t}(Error);t.SceytChatError=i}])}));