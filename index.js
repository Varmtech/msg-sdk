!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["sceyt-chat"]=t():e["sceyt-chat"]=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(44),t),s(n(45),t),s(n(9),t),s(n(46),t),s(n(47),t),s(n(48),t),s(n(49),t),s(n(50),t),s(n(51),t),s(n(52),t),s(n(53),t),s(n(54),t),s(n(55),t),s(n(85),t),s(n(91),t),s(n(92),t),s(n(93),t),s(n(94),t),s(n(95),t),s(n(96),t),s(n(97),t),s(n(98),t),s(n(99),t),s(n(3),t),s(n(25),t),s(n(100),t),s(n(101),t),s(n(102),t),s(n(103),t),s(n(104),t),s(n(105),t),s(n(106),t),s(n(107),t),s(n(108),t),s(n(109),t),s(n(110),t),s(n(111),t),s(n(26),t),s(n(112),t),s(n(113),t),s(n(114),t),s(n(115),t),s(n(116),t),s(n(117),t),s(n(118),t),s(n(27),t),s(n(119),t),s(n(120),t),s(n(121),t),s(n(122),t),s(n(123),t),s(n(124),t),s(n(125),t),s(n(126),t),s(n(127),t),s(n(128),t),s(n(129),t),s(n(130),t)},function(e,t,n){"use strict";var r=n(10),s=Object.prototype.toString;function i(e){return"[object Array]"===s.call(e)}function o(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==s.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===s.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,s=arguments.length;r<s;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,s){e[s]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";var r=t;function s(e,t,n){for(var r=Object.keys(t),s=0;s<r.length;++s)void 0!==e[r[s]]&&n||(e[r[s]]=t[r[s]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&s(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(31),r.base64=n(32),r.EventEmitter=n(33),r.float=n(34),r.inquire=n(35),r.utf8=n(36),r.pool=n(37),r.LongBits=n(38),r.global="undefined"!=typeof window&&window||"undefined"!=typeof global&&global||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=s,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryBuilder=void 0;var r=function(){this.count=10};t.QueryBuilder=r},function(e,t,n){"use strict";var r=n(1);function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(s(t)+"="+s(e))})))})),i=o.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t,n,s,i){var o=new Error(e);return r(o,t,n,s,i)}},function(e,t,n){"use strict";e.exports=n(30)},function(e,t,n){"use strict";e.exports=d;var r,s=n(2),i=s.LongBits,o=s.base64,a=s.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var h=function(){return s.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new s.Array(e)},s.Array!==Array&&(d.alloc=s.pool(d.alloc,s.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},f.prototype=Object.create(u.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(s.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(s.float.writeDoubleLE,8,e)};var y=s.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(s.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},function(e,t,n){"use strict";e.exports=u;var r,s=n(2),i=s.LongBits,o=s.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},d=function(){return s.Buffer?function(e){return(u.create=function(e){return s.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l};function h(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}u.create=d(),u.prototype._slice=s.Array.prototype.subarray||s.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=s.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=s.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=d(),r._configure();var t=s.Long?"toLong":"toNumber";s.merge(u.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MembersOrderKey=t.MembersOrder=t.MembersType=t.UserSearchFilter=t.UserSearchOrder=t.UserAction=t.MessageEventType=t.MessageQueryDirection=t.MessageDeliveryStatus=t.MessageUpdateStatus=t.UserStatus=t.PresenceStatus=t.ChannelType=t.SearchQueryType=t.ChannelSearchQueryKey=t.MarkChannel=t.ChannelOrder=t.ChannelSearchQuerySortOptions=t.ChannelQueryType=t.AuthState=t.BMP=t.CLIENT_STATE=void 0,function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.FAILED=3]="FAILED",e[e.RECONNECTING=4]="RECONNECTING"}(t.CLIENT_STATE||(t.CLIENT_STATE={})),function(e){e[e.Error=0]="Error",e[e.Auth=1]="Auth",e[e.AuthResult=2]="AuthResult",e[e.Message=3]="Message",e[e.MessageMarkerStatus=4]="MessageMarkerStatus",e[e.PresenceMessage=5]="PresenceMessage",e[e.ChannelQuery=6]="ChannelQuery",e[e.ChannelAction=7]="ChannelAction",e[e.TokenQuery=8]="TokenQuery",e[e.MessageQuery=9]="MessageQuery",e[e.ChannelSearchQuery=10]="ChannelSearchQuery",e[e.UserQuery=11]="UserQuery",e[e.MessageAction=12]="MessageAction",e[e.SystemMessage=13]="SystemMessage",e[e.ReactionQuery=14]="ReactionQuery",e[e.MessageMarkerQuery=15]="MessageMarkerQuery",e[e.MessageMarkerResult=16]="MessageMarkerResult",e[e.Pong=127]="Pong"}(t.BMP||(t.BMP={})),function(e){e[e.NOT_AUTHENTICATED=0]="NOT_AUTHENTICATED",e[e.HTTP_AUTH_FAILED=1]="HTTP_AUTH_FAILED",e[e.SOCKET_AUTH_FAILED=2]="SOCKET_AUTH_FAILED",e[e.HTTP_AUTHENTICATING=3]="HTTP_AUTHENTICATING",e[e.SOCKET_AUTHENTICATING=4]="SOCKET_AUTHENTICATING",e[e.HTTP_AUTHENTICATED=5]="HTTP_AUTHENTICATED",e[e.SOCKET_AUTHENTICATED=6]="SOCKET_AUTHENTICATED",e[e.AUTHENTICATED=7]="AUTHENTICATED",e[e.CONNECTION_TIMEOUT=8]="CONNECTION_TIMEOUT"}(t.AuthState||(t.AuthState={})),function(e){e[e.NONE=0]="NONE",e[e.CREATE=1]="CREATE",e[e.DELETE=2]="DELETE",e[e.LEAVE=3]="LEAVE",e[e.JOIN=4]="JOIN",e[e.UPDATE=5]="UPDATE",e[e.GET=6]="GET",e[e.GET_LIST=7]="GET_LIST",e[e.ADD_MEMBER=8]="ADD_MEMBER",e[e.KICK_MEMBER=9]="KICK_MEMBER",e[e.MEMBERS=10]="MEMBERS",e[e.BLOCK=11]="BLOCK",e[e.UNBLOCK=12]="UNBLOCK",e[e.GET_BLOCK_LIST=13]="GET_BLOCK_LIST",e[e.BLOCK_MEMBER=14]="BLOCK_MEMBER",e[e.UNBLOCK_MEMBER=15]="UNBLOCK_MEMBER",e[e.GET_BLOCKED_MEMBER_LIST=16]="GET_BLOCKED_MEMBER_LIST",e[e.CHANGE_OWNER=17]="CHANGE_OWNER",e[e.CHANGE_ROLE=18]="CHANGE_ROLE",e[e.GET_ROLES=19]="GET_ROLES",e[e.CLEAR_MESSAGES=20]="CLEAR_MESSAGES",e[e.HIDE_CHANNELS=21]="HIDE_CHANNELS",e[e.UNHIDE_CHANNELS=22]="UNHIDE_CHANNELS",e[e.ARCHIVE_CHANNELS=23]="ARCHIVE_CHANNELS",e[e.UNARCHIVE_CHANNELS=24]="UNARCHIVE_CHANNELS",e[e.GET_ARCHIVED_CHANNELS=25]="GET_ARCHIVED_CHANNELS",e[e.GET_HIDDEN_CHANNELS=26]="GET_HIDDEN_CHANNELS",e[e.MARK_AS_UNREAD=27]="MARK_AS_UNREAD",e[e.GET_UNREADS=28]="GET_UNREADS",e[e.MUTE_CHANNELS=29]="MUTE_CHANNELS",e[e.UNMUTE_CHANNELS=30]="UNMUTE_CHANNELS",e[e.GET_MUTED_CHANNELS=31]="GET_MUTED_CHANNELS"}(t.ChannelQueryType||(t.ChannelQueryType={})),function(e){e[e.Last_message=0]="Last_message",e[e.Created_at=1]="Created_at"}(t.ChannelSearchQuerySortOptions||(t.ChannelSearchQuerySortOptions={})),function(e){e[e.LAST_MESSAGE=0]="LAST_MESSAGE",e[e.CREATED_AT=1]="CREATED_AT"}(t.ChannelOrder||(t.ChannelOrder={})),function(e){e[e.AS_READ=0]="AS_READ",e[e.AS_UNREAD=1]="AS_UNREAD"}(t.MarkChannel||(t.MarkChannel={})),function(e){e[e.SUBJECT=0]="SUBJECT",e[e.URI=1]="URI",e[e.LABEL=2]="LABEL",e[e.USER=3]="USER"}(t.ChannelSearchQueryKey||(t.ChannelSearchQueryKey={})),function(e){e[e.NONE=0]="NONE",e[e.CONTAINS=1]="CONTAINS",e[e.BEGINS_WITH=2]="BEGINS_WITH",e[e.EQUAL=3]="EQUAL"}(t.SearchQueryType||(t.SearchQueryType={})),function(e){e[e.None=0]="None",e[e.Private=1]="Private",e[e.Public=2]="Public",e[e.Direct=3]="Direct"}(t.ChannelType||(t.ChannelType={})),function(e){e[e.Offline=0]="Offline",e[e.Online=1]="Online",e[e.Invisible=2]="Invisible",e[e.Away=3]="Away",e[e.Dnd=4]="Dnd"}(t.PresenceStatus||(t.PresenceStatus={})),function(e){e[e.Normal=0]="Normal",e[e.Inactive=1]="Inactive",e[e.Deleted=2]="Deleted"}(t.UserStatus||(t.UserStatus={})),function(e){e[e.None=0]="None",e[e.Edited=1]="Edited",e[e.Deleted=2]="Deleted",e[e.Composing=3]="Composing",e[e.Paused=4]="Paused",e[e.Reaction=5]="Reaction"}(t.MessageUpdateStatus||(t.MessageUpdateStatus={})),function(e){e[e.Pending=0]="Pending",e[e.Sent=1]="Sent",e[e.Delivered=2]="Delivered",e[e.Read=3]="Read",e[e.Failed=4]="Failed"}(t.MessageDeliveryStatus||(t.MessageDeliveryStatus={})),function(e){e[e.None=0]="None",e[e.Next=1]="Next",e[e.Previous=2]="Previous",e[e.Near=3]="Near"}(t.MessageQueryDirection||(t.MessageQueryDirection={})),function(e){e[e.Search=0]="Search",e[e.Update=1]="Update",e[e.Add_reaction=2]="Add_reaction",e[e.Delete_reaction=3]="Delete_reaction",e[e.Update_reaction=4]="Update_reaction",e[e.Attachments=5]="Attachments",e[e.Reactions=6]="Reactions",e[e.Threads=7]="Threads",e[e.Search_in_thread=8]="Search_in_thread"}(t.MessageEventType||(t.MessageEventType={})),function(e){e[e.BLOCK=0]="BLOCK",e[e.UNBLOCK=1]="UNBLOCK",e[e.GET_BLOCK_LIST=2]="GET_BLOCK_LIST"}(t.UserAction||(t.UserAction={})),function(e){e[e.FIRST_NAME=0]="FIRST_NAME",e[e.LAST_NAME=1]="LAST_NAME",e[e.USERNAME=2]="USERNAME"}(t.UserSearchOrder||(t.UserSearchOrder={})),function(e){e[e.BY_ALL=0]="BY_ALL",e[e.BY_FIRST_NAME=1]="BY_FIRST_NAME",e[e.BY_LAST_NAME=2]="BY_LAST_NAME",e[e.BY_USERNAME=3]="BY_USERNAME"}(t.UserSearchFilter||(t.UserSearchFilter={})),function(e){e[e.ALL=0]="ALL",e[e.PRIVILEGED=1]="PRIVILEGED"}(t.MembersType||(t.MembersType={})),function(e){e[e.AFFILATION=0]="AFFILATION",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC"}(t.MembersOrder||(t.MembersOrder={})),function(e){e[e.USERNAME=0]="USERNAME",e[e.FIRSTNAME=1]="FIRSTNAME",e[e.LASTNAME=2]="LASTNAME"}(t.MembersOrderKey||(t.MembersOrderKey={}))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(1),s=n(62),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n(63):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=n(69)),a),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,s){return e.config=t,n&&(e.code=n),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(65),s=n(66);e.exports=function(e,t){return e&&!r(t)?s(e,t):t}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,n){var r=n(19),s=r.URL,i=n(16),o=n(17),a=n(70).Writable,u=n(71),c=n(72),l=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(e){l[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var d=_("ERR_FR_REDIRECTION_FAILURE",""),h=_("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),p=_("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),f=_("ERR_STREAM_WRITE_AFTER_END","write after end");function g(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function m(e,t){clearTimeout(e._timeout),e._timeout=setTimeout((function(){e.emit("timeout")}),t)}function y(){clearTimeout(this._timeout)}function b(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(i){var o=i+":",a=n[o]=e[i],l=t[i]=Object.create(a);l.request=function(e,i,a){if("string"==typeof e){var l=e;try{e=w(new s(l))}catch(t){e=r.parse(l)}}else s&&e instanceof s?e=w(e):(a=i,i=e,e={protocol:o});return"function"==typeof i&&(a=i,i=null),(i=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,i)).nativeProtocols=n,u.equal(i.protocol,o,"protocol mismatch"),c("options",i),new g(i,a)},l.get=function(e,t,n){var r=l.request(e,t,n);return r.end(),r}})),t}function v(){}function w(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function O(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return n}function _(e,t){function n(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="Error ["+e+"]",n.prototype.code=e,n}g.prototype=Object.create(a.prototype),g.prototype.write=function(e,t,n){if(this._ending)throw new f;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new p),this.abort()):n&&n()},g.prototype.end=function(e,t,n){if("function"==typeof e?(n=e,e=t=null):"function"==typeof t&&(n=t,t=null),e){var r=this,s=this._currentRequest;this.write(e,t,(function(){r._ended=!0,s.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},g.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},g.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},g.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)m(this,e);else{var n=this;this._currentRequest.once("socket",(function(){m(n,e)}))}return this.once("response",y),this.once("error",y),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){g.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this._currentRequest[e]}})})),g.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},g.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.substr(0,e.length-1);this._options.agent=this._options.agents[n]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i in this._currentUrl=r.format(this._options),s._redirectable=this,l)i&&s.on(i,l[i]);if(this._isRedirect){var o=0,a=this,u=this._requestBodyBuffers;!function e(t){if(s===a._currentRequest)if(t)a.emit("error",t);else if(o<u.length){var n=u[o++];s.finished||s.write(n.data,n.encoding,e)}else a._ended&&s.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},g.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(n&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",v),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new h);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],O(/^content-/i,this._options.headers));var s=O(/^host$/i,this._options.headers)||r.parse(this._currentUrl).hostname,i=r.resolve(this._currentUrl,n);c("redirecting to",i),this._isRedirect=!0;var o=r.parse(i);if(Object.assign(this._options,o),o.hostname!==s&&O(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var u=new d("Redirected request failed: "+e.message);u.cause=e,this.emit("error",u)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=b({http:i,https:o}),e.exports.wrap=b},function(e,t){e.exports=require("url")},function(e,t,n){var r;function s(e){function n(){if(n.enabled){var e=n,s=+new Date,i=s-(r||s);e.diff=i,e.prev=r,e.curr=s,r=s;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var s=t.formatters[r];if("function"==typeof s){var i=o[u];n=s.call(e,i),o.splice(u,1),u--}return n})),t.formatArgs.call(e,o);var c=n.log||t.log||console.log.bind(console);c.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=s.debug=s.default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,s=0;s<r;s++)n[s]&&("-"===(e=n[s].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(75),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){t=t||{};var n={},s=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(n[s]=u(void 0,e[s])):n[s]=u(e[s],t[s])}r.forEach(s,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(i,c),r.forEach(o,(function(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(n[s]=u(void 0,e[s])):n[s]=u(void 0,t[s])})),r.forEach(a,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=s.concat(i).concat(o).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(d,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(89);e.exports=function(){return r.randomBytes(16)}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,s=n;return[s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var r=function(){this.count=10,this.hasNext=!0,this.loading=!1};t.Query=r},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Member=void 0;var i=n(0),o=function(e){function t(t){var n=e.call(this,t.user)||this;return n.role=new i.Role({name:t.role}),n}return s(t,e),t}(i.User);t.Member=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attachment=void 0;var r=function(e){this.uploadedFileSize=e.uploadedFileSize,this.name=e.name,this.type=e.type,this.metadata=e.metadata,this.url=e.url||"",this.upload=e.upload||!1};t.Attachment=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(29)),i=r(n(6));i.default.util.Long=s.default,i.default.configure();var o=n(0);t.default=o.SceytChat},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function s(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=s;var i={},o={};function a(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),s&&(i[e]=n),n)}function u(e,t){if(isNaN(e))return t?b:y;if(t){if(e<0)return b;if(e>=f)return E}else{if(e<=-g)return S;if(e+1>=g)return _}return e<0?u(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=u,r.fromBits=c;var l=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var s=u(l(n,8)),i=y,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),n);if(a<8){var h=u(l(n,a));i=i.mul(h).add(u(c))}else i=(i=i.mul(s)).add(u(c))}return i.unsigned=t,i}function h(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?d(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=h;var p=4294967296,f=p*p,g=f/2,m=a(1<<24),y=a(0);r.ZERO=y;var b=a(0,!0);r.UZERO=b;var v=a(1);r.ONE=v;var w=a(1,!0);r.UONE=w;var O=a(-1);r.NEG_ONE=O;var _=c(-1,2147483647,!1);r.MAX_VALUE=_;var E=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=E;var S=c(0,-2147483648,!1);r.MIN_VALUE=S;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var s=u(l(e,6),this.unsigned),i=this,o="";;){var a=i.div(s),c=(i.sub(a.mul(s)).toInt()>>>0).toString(e);if((i=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return s(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(s(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(v)},C.neg=C.negate,C.add=function(e){s(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,a=65535&e.high,u=e.low>>>16,l=0,d=0,p=0,f=0;return p+=(f+=i+(65535&e.low))>>>16,d+=(p+=r+u)>>>16,l+=(d+=n+a)>>>16,l+=t+o,c((p&=65535)<<16|(f&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},C.subtract=function(e){return s(e)||(e=h(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return y;if(s(e)||(e=h(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(S))return e.isOdd()?S:y;if(e.eq(S))return this.isOdd()?S:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,l=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,g=0,b=0,v=0;return b+=(v+=o*p)>>>16,g+=(b+=i*p)>>>16,b&=65535,g+=(b+=o*d)>>>16,f+=(g+=r*p)>>>16,g&=65535,f+=(g+=i*d)>>>16,g&=65535,f+=(g+=o*l)>>>16,f+=t*p+r*d+i*l+o*a,c((b&=65535)<<16|(v&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(s(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return w;i=b}else{if(this.eq(S))return e.eq(v)||e.eq(O)?S:e.eq(S)?v:(t=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?v:O:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(S))return this.unsigned?b:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=y}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:l(2,o-48),d=u(t),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=u(t-=a,this.unsigned)).mul(e);d.isZero()&&(d=v),i=i.add(d),r=r.sub(p)}return i},C.div=C.divide,C.modulo=function(e){return s(e)||(e=h(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(e){return s(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return s(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return s(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(s(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";var r=t;function s(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(7),r.BufferWriter=n(39),r.Reader=n(8),r.BufferReader=n(40),r.util=n(2),r.rpc=n(41),r.roots=n(43),r.configure=s,s()},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,s=2,i=!0;for(;s<arguments.length;)n[r++]=arguments[s++];return new Promise((function(s,o){n[r]=function(e){if(i)if(i=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];s.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,o(e))}}))}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var s=new Array(64),i=new Array(123),o=0;o<64;)i[s[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,n){for(var r,i=null,o=[],a=0,u=0;t<n;){var c=e[t++];switch(u){case 0:o[a++]=s[c>>2],r=(3&c)<<4,u=1;break;case 1:o[a++]=s[r|c>>4],r=(15&c)<<2,u=2;break;case 2:o[a++]=s[r|c>>6],o[a++]=s[63&c],u=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return u&&(o[a++]=s[r],o[a++]=61,1===u&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};r.decode=function(e,t,n){for(var r,s=n,o=0,a=0;a<e.length;){var u=e.charCodeAt(a++);if(61===u&&o>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(o){case 0:r=u,o=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,o=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,o=3;break;case 3:t[n++]=(3&r)<<6|u,o=0}}if(1===o)throw Error("invalid encoding");return n-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function s(e,r,s){t[0]=e,r[s]=n[0],r[s+1]=n[1],r[s+2]=n[2],r[s+3]=n[3]}function i(e,r,s){t[0]=e,r[s]=n[3],r[s+1]=n[2],r[s+2]=n[1],r[s+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?s:i,e.writeFloatBE=r?i:s,e.readFloatLE=r?o:a,e.readFloatBE=r?a:o}():function(){function t(e,t,n,r){var s=t<0?1:0;if(s&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((s<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((s<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((s<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),s=2*(r>>31)+1,i=r>>>23&255,o=8388607&r;return 255===i?o?NaN:s*(1/0):0===i?1401298464324817e-60*s*o:s*Math.pow(2,i-150)*(o+8388608)}e.writeFloatLE=t.bind(null,s),e.writeFloatBE=t.bind(null,i),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function s(e,r,s){t[0]=e,r[s]=n[0],r[s+1]=n[1],r[s+2]=n[2],r[s+3]=n[3],r[s+4]=n[4],r[s+5]=n[5],r[s+6]=n[6],r[s+7]=n[7]}function i(e,r,s){t[0]=e,r[s]=n[7],r[s+1]=n[6],r[s+2]=n[5],r[s+3]=n[4],r[s+4]=n[3],r[s+5]=n[2],r[s+6]=n[1],r[s+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?s:i,e.writeDoubleBE=r?i:s,e.readDoubleLE=r?o:a,e.readDoubleBE=r?a:o}():function(){function t(e,t,n,r,s,i){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,s,i+t),e(1/r>0?0:2147483648,s,i+n);else if(isNaN(r))e(0,s,i+t),e(2146959360,s,i+n);else if(r>17976931348623157e292)e(0,s,i+t),e((o<<31|2146435072)>>>0,s,i+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,s,i+t),e((o<<31|a/4294967296)>>>0,s,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=r*Math.pow(2,-u))>>>0,s,i+t),e((o<<31|u+1023<<20|1048576*a&1048575)>>>0,s,i+n)}}}function n(e,t,n,r,s){var i=e(r,s+t),o=e(r,s+n),a=2*(o>>31)+1,u=o>>>20&2047,c=4294967296*(1048575&o)+i;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,s,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=n.bind(null,o,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function s(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function i(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,s=null,i=[],o=0;t<n;)(r=e[t++])<128?i[o++]=r:r>191&&r<224?i[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[o++]=55296+(r>>10),i[o++]=56320+(1023&r)):i[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,i.slice(0,o))),s.join("")):String.fromCharCode.apply(String,i.slice(0,o))},r.write=function(e,t,n){for(var r,s,i=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(s=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&s),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,s=r>>>1,i=null,o=r;return function(n){if(n<1||n>s)return e(n);o+n>r&&(i=e(r),o=0);var a=t.call(i,o,o+=n);return 7&o&&(o=1+(7|o)),a}}},function(e,t,n){"use strict";e.exports=s;var r=n(2);function s(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=s.zero=new s(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=s.zeroHash="\0\0\0\0\0\0\0\0";s.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new s(n,r)},s.from=function(e){if("number"==typeof e)return s.fromNumber(e);if(r.isString(e)){if(!r.Long)return s.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new s(e.low>>>0,e.high>>>0):i},s.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},s.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;s.fromHash=function(e){return e===o?i:new s((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},s.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},s.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},s.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},s.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=i;var r=n(7);(i.prototype=Object.create(r.prototype)).constructor=i;var s=n(2);function i(){r.call(this)}function o(e,t,n){e.length<40?s.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=s._Buffer_allocUnsafe,i.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&"set"===s.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){s.isString(e)&&(e=s._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=s.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},i._configure()},function(e,t,n){"use strict";e.exports=i;var r=n(8);(i.prototype=Object.create(r.prototype)).constructor=i;var s=n(2);function i(e){r.call(this,e)}i._configure=function(){s.Buffer&&(i.prototype._slice=s.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,n){"use strict";t.Service=n(42)},function(e,t,n){"use strict";e.exports=s;var r=n(2);function s(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(s.prototype=Object.create(r.EventEmitter.prototype)).constructor=s,s.prototype.rpcCall=function e(t,n,s,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return r.asPromise(e,a,t,n,s,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof s))try{n=s[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},s.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeString=t.escapeString=t.createTid=t.timeout=t.sleep=t.concatTypedArrays=void 0,t.concatTypedArrays=function(e,t){var n=new e.constructor(e.length+t.length);return n.set(e,0),n.set(t,e.length),n},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.timeout=function(e,t){return new Promise((function(n,s){setTimeout((function(){s(r(r({},new Error("timeout")),{connectionTimeout:!0}))}),e),t.then(n,s)}))},t.createTid=function(){var e=1e15;return String(Math.floor(8223372036854777*Math.random())+e)},t.escapeString=function(e){return e.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},t.unescapeString=function(e){return e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.customAlphabet=t.REACTION_EVENT_TYPE=t.MESSAGE_TYPES=t.ATTACHMENT_TYPE_REGEX=t.MESSAGE_TYPE_REGEX=t.URI_REGEX=t.RESOURCE_REGEX=t.BIT22=t.EPOCH=t.REQUEST_TIMEOUT=t.RECONNECTION_TIMEOUT=t.PING_MESSAGE=t.CONNECTION_EVENT_TYPES=t.clientErrors=t.serverErrors=t.api=void 0;var s=n(9);t.api={connect:"connect",attachments:"attachments",files:"files",settings:"settings",reports:"reports"},t.serverErrors={BAD_REQUEST:4e4,TOO_LARGE_MESSAGE:40001,TOO_MANY_ATTEMPTS:40002,BAD_PARAM:40003,BAD_CHANNEL_TYPE:40004,BAD_USERNAME_IN_TOKEN:40005,CHANNEL_ALREADY_EXISTS:40006,MEMBER_EXISTS:40007,MEMBER_NOT_EXISTS:40008,MEMBERS_LIMIT_EXCEEDED:40009,BAD_MESSAGE_TYPE:40010,BAD_ATTACHMENT_TYPE:40011,UNDEFINED_ROLE:40012,TOO_LARGE_METADATA:40013,BLOCKED_CHANNEL:40014,USER_NOT_EXISTS:40015,INVALID_TOKEN:40101,EXPIRED_TOKEN:40102,TOKEN_NOT_ACTIVE:40103,UNAUTHORIZED:40104,NOT_ALLOWED:40105,ACCOUNT_SUSPENDED:40106,INVALID_CLIENT_ID:40107,DUPLICATE_CLIENT_ID:40108,INACTIVE_USER:40301,ITEM_NOT_FOUND:40400,CHANNEL_NOT_EXISTS:40401,TOO_MANY_REQUESTS:42900,INTERNAL_ERROR:50001,SERVICE_UNAVAILABLE:50300,SESSION_NOT_FOUND:50004},t.clientErrors=((r={})[s.CLIENT_STATE.CONNECTED]={code:10005,message:"ALREADY_CONNECTED"},r[s.CLIENT_STATE.CONNECTING]={code:10006,message:"ALREADY_CONNECTING"},r.UNKNOWN_ERROR={code:1e4,message:"UNKNOWN_ERROR"},r.INVALID_INITIALIZATION={code:10001,message:"INVALID_INITIALIZATION"},r.REQUEST_TIMEOUT={code:10002,message:"REQUEST_TIMEOUT"},r.NETWORK_CONNECTION_ERROR={code:10004,message:"NETWORK_CONNECTION_ERROR"},r.INVALID_CLIENT_ID={code:40107,message:"INVALID_CLIENT_ID"},r.SERVICE_UNAVAILABLE={code:50300,message:"SERVICE_UNAVAILABLE"},r.QUERY_IN_PROGRESS={code:10008,message:"QUERY_IN_PROGRESS"},r.BAD_PARAMS={code:40003,message:"BAD_PARAMS"},r.BAD_MESSAGE_TYPE={code:40010,message:"BAD_MESSAGE_TYPE"},r.BAD_ATTACHMENT_TYPE={code:40011,message:"BAD_ATTACHMENT_TYPE"},r),t.CONNECTION_EVENT_TYPES={onTokenWillExpire:"onTokenWillExpire",onTokenExpired:"onTokenExpired",onConnectionStatusChanged:"onConnectionStatusChanged"},t.PING_MESSAGE=126,t.RECONNECTION_TIMEOUT=5e3,t.REQUEST_TIMEOUT=1e4,t.EPOCH=1584611944111,t.BIT22=4194304,t.RESOURCE_REGEX=/^[A-Za-z0-9-_]*$/i,t.URI_REGEX=/^[a-zA-Z0-9_-]{1,128}$/i,t.MESSAGE_TYPE_REGEX=/^[a-z][A-Z0-9_-]{1,32}$/i,t.ATTACHMENT_TYPE_REGEX=/^[a-z][A-Z0-9_-]{1,32}$/i,t.MESSAGE_TYPES={KICK_MEMBER:"@kickMember@",ADD_MEMBER:"@addMember@",UPDATE:"@update@",CREATE:"@create@",DELETE:"@delete@",LEAVE:"@leave@",JOIN:"@join@",MESSAGE:"@message@"},t.REACTION_EVENT_TYPE={ADD:"add",DELETE:"delete"},t.customAlphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*()_+=-{}|][<>?.,;:~"},function(e,t,n){"use strict";var r,s,i,o=n(6),a=o.Reader,u=o.Writer,c=o.util,l=o.roots.default||(o.roots.default={});l.bin_proto=((i={}).Auth=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.username="",e.prototype.jwt="",e.prototype.domain="",e.prototype.resource="",e.prototype.presence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.jwt&&Object.hasOwnProperty.call(e,"jwt")&&t.uint32(18).string(e.jwt),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(26).string(e.domain),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(34).string(e.resource),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&t.uint32(40).int32(e.presence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Auth;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.username=e.string();break;case 2:r.jwt=e.string();break;case 3:r.domain=e.string();break;case 4:r.resource=e.string();break;case 5:r.presence=e.int32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.username&&e.hasOwnProperty("username")&&!c.isString(e.username)?"username: string expected":null!=e.jwt&&e.hasOwnProperty("jwt")&&!c.isString(e.jwt)?"jwt: string expected":null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain)?"domain: string expected":null!=e.resource&&e.hasOwnProperty("resource")&&!c.isString(e.resource)?"resource: string expected":null!=e.presence&&e.hasOwnProperty("presence")&&!c.isInteger(e.presence)?"presence: integer expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Auth)return e;var t=new l.bin_proto.Auth;return null!=e.username&&(t.username=String(e.username)),null!=e.jwt&&(t.jwt=String(e.jwt)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.resource&&(t.resource=String(e.resource)),null!=e.presence&&(t.presence=0|e.presence),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.username="",n.jwt="",n.domain="",n.resource="",n.presence=0),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.jwt&&e.hasOwnProperty("jwt")&&(n.jwt=e.jwt),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.resource&&e.hasOwnProperty("resource")&&(n.resource=e.resource),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=e.presence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.AuthResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.msg="",e.prototype.user=null,e.prototype.expireTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.serverTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.settings=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&l.bin_proto.User.encode(e.user,t.uint32(26).fork()).ldelim(),null!=e.expireTime&&Object.hasOwnProperty.call(e,"expireTime")&&t.uint32(32).int64(e.expireTime),null!=e.serverTime&&Object.hasOwnProperty.call(e,"serverTime")&&t.uint32(40).int64(e.serverTime),null!=e.settings&&Object.hasOwnProperty.call(e,"settings")&&l.bin_proto.Settings.encode(e.settings,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.AuthResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;case 3:r.user=l.bin_proto.User.decode(e,e.uint32());break;case 4:r.expireTime=e.int64();break;case 5:r.serverTime=e.int64();break;case 6:r.settings=l.bin_proto.Settings.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!c.isInteger(e.code)?"code: integer expected":null!=e.msg&&e.hasOwnProperty("msg")&&!c.isString(e.msg)?"msg: string expected":null!=e.user&&e.hasOwnProperty("user")&&(t=l.bin_proto.User.verify(e.user))?"user."+t:null!=e.expireTime&&e.hasOwnProperty("expireTime")&&!(c.isInteger(e.expireTime)||e.expireTime&&c.isInteger(e.expireTime.low)&&c.isInteger(e.expireTime.high))?"expireTime: integer|Long expected":null!=e.serverTime&&e.hasOwnProperty("serverTime")&&!(c.isInteger(e.serverTime)||e.serverTime&&c.isInteger(e.serverTime.low)&&c.isInteger(e.serverTime.high))?"serverTime: integer|Long expected":null!=e.settings&&e.hasOwnProperty("settings")&&(t=l.bin_proto.Settings.verify(e.settings))?"settings."+t:null;var t},e.fromObject=function(e){if(e instanceof l.bin_proto.AuthResult)return e;var t=new l.bin_proto.AuthResult;if(null!=e.code&&(t.code=0|e.code),null!=e.msg&&(t.msg=String(e.msg)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.AuthResult.user: object expected");t.user=l.bin_proto.User.fromObject(e.user)}if(null!=e.expireTime&&(c.Long?(t.expireTime=c.Long.fromValue(e.expireTime)).unsigned=!1:"string"==typeof e.expireTime?t.expireTime=parseInt(e.expireTime,10):"number"==typeof e.expireTime?t.expireTime=e.expireTime:"object"==typeof e.expireTime&&(t.expireTime=new c.LongBits(e.expireTime.low>>>0,e.expireTime.high>>>0).toNumber())),null!=e.serverTime&&(c.Long?(t.serverTime=c.Long.fromValue(e.serverTime)).unsigned=!1:"string"==typeof e.serverTime?t.serverTime=parseInt(e.serverTime,10):"number"==typeof e.serverTime?t.serverTime=e.serverTime:"object"==typeof e.serverTime&&(t.serverTime=new c.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber())),null!=e.settings){if("object"!=typeof e.settings)throw TypeError(".bin_proto.AuthResult.settings: object expected");t.settings=l.bin_proto.Settings.fromObject(e.settings)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.code=0,n.msg="",n.user=null,c.Long){var r=new c.Long(0,0,!1);n.expireTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.expireTime=t.longs===String?"0":0;c.Long?(r=new c.Long(0,0,!1),n.serverTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.serverTime=t.longs===String?"0":0,n.settings=null}return null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=e.msg),null!=e.user&&e.hasOwnProperty("user")&&(n.user=l.bin_proto.User.toObject(e.user,t)),null!=e.expireTime&&e.hasOwnProperty("expireTime")&&("number"==typeof e.expireTime?n.expireTime=t.longs===String?String(e.expireTime):e.expireTime:n.expireTime=t.longs===String?c.Long.prototype.toString.call(e.expireTime):t.longs===Number?new c.LongBits(e.expireTime.low>>>0,e.expireTime.high>>>0).toNumber():e.expireTime),null!=e.serverTime&&e.hasOwnProperty("serverTime")&&("number"==typeof e.serverTime?n.serverTime=t.longs===String?String(e.serverTime):e.serverTime:n.serverTime=t.longs===String?c.Long.prototype.toString.call(e.serverTime):t.longs===Number?new c.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber():e.serverTime),null!=e.settings&&e.hasOwnProperty("settings")&&(n.settings=l.bin_proto.Settings.toObject(e.settings,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Settings=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.muted=!1,e.prototype.muteTill=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),null!=e.muteTill&&Object.hasOwnProperty.call(e,"muteTill")&&t.uint32(16).int64(e.muteTill),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Settings;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.muted=e.bool();break;case 2:r.muteTill=e.int64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.muteTill&&e.hasOwnProperty("muteTill")&&!(c.isInteger(e.muteTill)||e.muteTill&&c.isInteger(e.muteTill.low)&&c.isInteger(e.muteTill.high))?"muteTill: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Settings)return e;var t=new l.bin_proto.Settings;return null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.muteTill&&(c.Long?(t.muteTill=c.Long.fromValue(e.muteTill)).unsigned=!1:"string"==typeof e.muteTill?t.muteTill=parseInt(e.muteTill,10):"number"==typeof e.muteTill?t.muteTill=e.muteTill:"object"==typeof e.muteTill&&(t.muteTill=new c.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.muted=!1,c.Long){var r=new c.Long(0,0,!1);n.muteTill=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.muteTill=t.longs===String?"0":0;return null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.muteTill&&e.hasOwnProperty("muteTill")&&("number"==typeof e.muteTill?n.muteTill=t.longs===String?String(e.muteTill):e.muteTill:n.muteTill=t.longs===String?c.Long.prototype.toString.call(e.muteTill):t.longs===Number?new c.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber():e.muteTill),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.UserProfile=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.firstName="",e.prototype.lastName="",e.prototype.avatar="",e.prototype.metadata="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.firstName&&Object.hasOwnProperty.call(e,"firstName")&&t.uint32(10).string(e.firstName),null!=e.lastName&&Object.hasOwnProperty.call(e,"lastName")&&t.uint32(18).string(e.lastName),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(26).string(e.avatar),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(34).string(e.metadata),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.UserProfile;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.firstName=e.string();break;case 2:r.lastName=e.string();break;case 3:r.avatar=e.string();break;case 4:r.metadata=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.firstName&&e.hasOwnProperty("firstName")&&!c.isString(e.firstName)?"firstName: string expected":null!=e.lastName&&e.hasOwnProperty("lastName")&&!c.isString(e.lastName)?"lastName: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!c.isString(e.avatar)?"avatar: string expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!c.isString(e.metadata)?"metadata: string expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.UserProfile)return e;var t=new l.bin_proto.UserProfile;return null!=e.firstName&&(t.firstName=String(e.firstName)),null!=e.lastName&&(t.lastName=String(e.lastName)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.metadata&&(t.metadata=String(e.metadata)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.firstName="",n.lastName="",n.avatar="",n.metadata=""),null!=e.firstName&&e.hasOwnProperty("firstName")&&(n.firstName=e.firstName),null!=e.lastName&&e.hasOwnProperty("lastName")&&(n.lastName=e.lastName),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.PresenceState=(r={},(s=Object.create(r))[r[0]="OFFLINE"]=0,s[r[1]="ONLINE"]=1,s[r[2]="INVISIBLE"]=2,s[r[3]="AWAY"]=3,s[r[4]="DND"]=4,s),i.Presence=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.state=0,e.prototype.status="",e.prototype.lastActiveAt=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(8).int32(e.state),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(18).string(e.status),null!=e.lastActiveAt&&Object.hasOwnProperty.call(e,"lastActiveAt")&&t.uint32(24).int64(e.lastActiveAt),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Presence;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.state=e.int32();break;case 2:r.status=e.string();break;case 3:r.lastActiveAt=e.int64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.state&&e.hasOwnProperty("state"))switch(e.state){default:return"state: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.status&&e.hasOwnProperty("status")&&!c.isString(e.status)?"status: string expected":null!=e.lastActiveAt&&e.hasOwnProperty("lastActiveAt")&&!(c.isInteger(e.lastActiveAt)||e.lastActiveAt&&c.isInteger(e.lastActiveAt.low)&&c.isInteger(e.lastActiveAt.high))?"lastActiveAt: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Presence)return e;var t=new l.bin_proto.Presence;switch(e.state){case"OFFLINE":case 0:t.state=0;break;case"ONLINE":case 1:t.state=1;break;case"INVISIBLE":case 2:t.state=2;break;case"AWAY":case 3:t.state=3;break;case"DND":case 4:t.state=4}return null!=e.status&&(t.status=String(e.status)),null!=e.lastActiveAt&&(c.Long?(t.lastActiveAt=c.Long.fromValue(e.lastActiveAt)).unsigned=!1:"string"==typeof e.lastActiveAt?t.lastActiveAt=parseInt(e.lastActiveAt,10):"number"==typeof e.lastActiveAt?t.lastActiveAt=e.lastActiveAt:"object"==typeof e.lastActiveAt&&(t.lastActiveAt=new c.LongBits(e.lastActiveAt.low>>>0,e.lastActiveAt.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.state=t.enums===String?"OFFLINE":0,n.status="",c.Long){var r=new c.Long(0,0,!1);n.lastActiveAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.lastActiveAt=t.longs===String?"0":0;return null!=e.state&&e.hasOwnProperty("state")&&(n.state=t.enums===String?l.bin_proto.PresenceState[e.state]:e.state),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.lastActiveAt&&e.hasOwnProperty("lastActiveAt")&&("number"==typeof e.lastActiveAt?n.lastActiveAt=t.longs===String?String(e.lastActiveAt):e.lastActiveAt:n.lastActiveAt=t.longs===String?c.Long.prototype.toString.call(e.lastActiveAt):t.longs===Number?new c.LongBits(e.lastActiveAt.low>>>0,e.lastActiveAt.high>>>0).toNumber():e.lastActiveAt),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.User=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.profile=null,e.prototype.presence=null,e.prototype.blocked=!1,e.prototype.status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.profile&&Object.hasOwnProperty.call(e,"profile")&&l.bin_proto.UserProfile.encode(e.profile,t.uint32(18).fork()).ldelim(),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&l.bin_proto.Presence.encode(e.presence,t.uint32(26).fork()).ldelim(),null!=e.blocked&&Object.hasOwnProperty.call(e,"blocked")&&t.uint32(32).bool(e.blocked),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(40).int32(e.status),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.User;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.profile=l.bin_proto.UserProfile.decode(e,e.uint32());break;case 3:r.presence=l.bin_proto.Presence.decode(e,e.uint32());break;case 4:r.blocked=e.bool();break;case 5:r.status=e.int32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";var t;if(null!=e.profile&&e.hasOwnProperty("profile")&&(t=l.bin_proto.UserProfile.verify(e.profile)))return"profile."+t;if(null!=e.presence&&e.hasOwnProperty("presence")&&(t=l.bin_proto.Presence.verify(e.presence)))return"presence."+t;if(null!=e.blocked&&e.hasOwnProperty("blocked")&&"boolean"!=typeof e.blocked)return"blocked: boolean expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.User)return e;var t=new l.bin_proto.User;if(null!=e.id&&(t.id=String(e.id)),null!=e.profile){if("object"!=typeof e.profile)throw TypeError(".bin_proto.User.profile: object expected");t.profile=l.bin_proto.UserProfile.fromObject(e.profile)}if(null!=e.presence){if("object"!=typeof e.presence)throw TypeError(".bin_proto.User.presence: object expected");t.presence=l.bin_proto.Presence.fromObject(e.presence)}switch(null!=e.blocked&&(t.blocked=Boolean(e.blocked)),e.status){case"NORMAL":case 0:t.status=0;break;case"INACTIVE":case 1:t.status=1;break;case"DELETED":case 2:t.status=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.profile=null,n.presence=null,n.blocked=!1,n.status=t.enums===String?"NORMAL":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.profile&&e.hasOwnProperty("profile")&&(n.profile=l.bin_proto.UserProfile.toObject(e.profile,t)),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=l.bin_proto.Presence.toObject(e.presence,t)),null!=e.blocked&&e.hasOwnProperty("blocked")&&(n.blocked=e.blocked),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?l.bin_proto.User.Status[e.status]:e.status),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Status=function(){var e={},t=Object.create(e);return t[e[0]="NORMAL"]=0,t[e[1]="INACTIVE"]=1,t[e[2]="DELETED"]=2,t}(),e}(),i.UserAction=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.action=0,e.prototype.users=c.emptyArray,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)l.bin_proto.User.encode(e.users[n],t.uint32(18).fork()).ldelim();return null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(24).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.UserAction;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.action=e.int32();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(l.bin_proto.User.decode(e,e.uint32()));break;case 3:r.count=e.int32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(var t=0;t<e.users.length;++t){var n=l.bin_proto.User.verify(e.users[t]);if(n)return"users."+n}}return null!=e.count&&e.hasOwnProperty("count")&&!c.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.UserAction)return e;var t=new l.bin_proto.UserAction;switch(e.action){case"BLOCK":case 0:t.action=0;break;case"UNBLOCK":case 1:t.action=1;break;case"GET_BLOCK_LIST":case 2:t.action=2}if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.UserAction.users: array expected");t.users=[];for(var n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.UserAction.users: object expected");t.users[n]=l.bin_proto.User.fromObject(e.users[n])}}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.users=[]),t.defaults&&(n.action=t.enums===String?"BLOCK":0,n.count=0),null!=e.action&&e.hasOwnProperty("action")&&(n.action=t.enums===String?l.bin_proto.UserAction.Action[e.action]:e.action),e.users&&e.users.length){n.users=[];for(var r=0;r<e.users.length;++r)n.users[r]=l.bin_proto.User.toObject(e.users[r],t)}return null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Action=function(){var e={},t=Object.create(e);return t[e[0]="BLOCK"]=0,t[e[1]="UNBLOCK"]=1,t[e[2]="GET_BLOCK_LIST"]=2,t}(),e}(),i.UsersList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.users=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)l.bin_proto.User.encode(e.users[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.UsersList;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.users&&r.users.length||(r.users=[]),r.users.push(l.bin_proto.User.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(var t=0;t<e.users.length;++t){var n=l.bin_proto.User.verify(e.users[t]);if(n)return"users."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.UsersList)return e;var t=new l.bin_proto.UsersList;if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.UsersList.users: array expected");t.users=[];for(var n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.UsersList.users: object expected");t.users[n]=l.bin_proto.User.fromObject(e.users[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.users=[]),e.users&&e.users.length){n.users=[];for(var r=0;r<e.users.length;++r)n.users[r]=l.bin_proto.User.toObject(e.users[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.PresenceMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.type=0,e.prototype.stamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.from=null,e.prototype.presence=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.stamp&&Object.hasOwnProperty.call(e,"stamp")&&t.uint32(24).int64(e.stamp),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&l.bin_proto.User.encode(e.from,t.uint32(34).fork()).ldelim(),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&l.bin_proto.Presence.encode(e.presence,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.PresenceMessage;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.type=e.int32();break;case 3:r.stamp=e.int64();break;case 4:r.from=l.bin_proto.User.decode(e,e.uint32());break;case 5:r.presence=l.bin_proto.Presence.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}return null!=e.stamp&&e.hasOwnProperty("stamp")&&!(c.isInteger(e.stamp)||e.stamp&&c.isInteger(e.stamp.low)&&c.isInteger(e.stamp.high))?"stamp: integer|Long expected":null!=e.from&&e.hasOwnProperty("from")&&(t=l.bin_proto.User.verify(e.from))?"from."+t:null!=e.presence&&e.hasOwnProperty("presence")&&(t=l.bin_proto.Presence.verify(e.presence))?"presence."+t:null;var t},e.fromObject=function(e){if(e instanceof l.bin_proto.PresenceMessage)return e;var t=new l.bin_proto.PresenceMessage;switch(null!=e.id&&(t.id=String(e.id)),e.type){case"NONE":case 0:t.type=0;break;case"ERROR":case 1:t.type=1;break;case"PROBE":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBED":case 4:t.type=4;break;case"AVAILABLE":case 5:t.type=5;break;case"UNAVAILABLE":case 6:t.type=6;break;case"UNSUBSCRIBE":case 7:t.type=7;break;case"UNSUBSCRIBED":case 8:t.type=8}if(null!=e.stamp&&(c.Long?(t.stamp=c.Long.fromValue(e.stamp)).unsigned=!1:"string"==typeof e.stamp?t.stamp=parseInt(e.stamp,10):"number"==typeof e.stamp?t.stamp=e.stamp:"object"==typeof e.stamp&&(t.stamp=new c.LongBits(e.stamp.low>>>0,e.stamp.high>>>0).toNumber())),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.PresenceMessage.from: object expected");t.from=l.bin_proto.User.fromObject(e.from)}if(null!=e.presence){if("object"!=typeof e.presence)throw TypeError(".bin_proto.PresenceMessage.presence: object expected");t.presence=l.bin_proto.Presence.fromObject(e.presence)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.id="",n.type=t.enums===String?"NONE":0,c.Long){var r=new c.Long(0,0,!1);n.stamp=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.stamp=t.longs===String?"0":0;n.from=null,n.presence=null}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?l.bin_proto.PresenceMessage.Type[e.type]:e.type),null!=e.stamp&&e.hasOwnProperty("stamp")&&("number"==typeof e.stamp?n.stamp=t.longs===String?String(e.stamp):e.stamp:n.stamp=t.longs===String?c.Long.prototype.toString.call(e.stamp):t.longs===Number?new c.LongBits(e.stamp.low>>>0,e.stamp.high>>>0).toNumber():e.stamp),null!=e.from&&e.hasOwnProperty("from")&&(n.from=l.bin_proto.User.toObject(e.from,t)),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=l.bin_proto.Presence.toObject(e.presence,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="ERROR"]=1,t[e[2]="PROBE"]=2,t[e[3]="SUBSCRIBE"]=3,t[e[4]="SUBSCRIBED"]=4,t[e[5]="AVAILABLE"]=5,t[e[6]="UNAVAILABLE"]=6,t[e[7]="UNSUBSCRIBE"]=7,t[e[8]="UNSUBSCRIBED"]=8,t}(),e}(),i.UserSearch=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.limit=0,e.prototype.offset=0,e.prototype.order=0,e.prototype.filter=0,e.prototype.prefix="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(8).int32(e.limit),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).int32(e.offset),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(24).int32(e.order),null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&t.uint32(32).int32(e.filter),null!=e.prefix&&Object.hasOwnProperty.call(e,"prefix")&&t.uint32(42).string(e.prefix),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.UserSearch;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.limit=e.int32();break;case 2:r.offset=e.int32();break;case 3:r.order=e.int32();break;case 4:r.filter=e.int32();break;case 5:r.prefix=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.limit&&e.hasOwnProperty("limit")&&!c.isInteger(e.limit))return"limit: integer expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!c.isInteger(e.offset))return"offset: integer expected";if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:case 2:}if(null!=e.filter&&e.hasOwnProperty("filter"))switch(e.filter){default:return"filter: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.prefix&&e.hasOwnProperty("prefix")&&!c.isString(e.prefix)?"prefix: string expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.UserSearch)return e;var t=new l.bin_proto.UserSearch;switch(null!=e.limit&&(t.limit=0|e.limit),null!=e.offset&&(t.offset=0|e.offset),e.order){case"FIRST_NAME":case 0:t.order=0;break;case"LAST_NAME":case 1:t.order=1;break;case"USERNAME":case 2:t.order=2}switch(e.filter){case"BY_ALL":case 0:t.filter=0;break;case"BY_FIRST_NAME":case 1:t.filter=1;break;case"BY_LAST_NAME":case 2:t.filter=2;break;case"BY_USERNAME":case 3:t.filter=3}return null!=e.prefix&&(t.prefix=String(e.prefix)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.limit=0,n.offset=0,n.order=t.enums===String?"FIRST_NAME":0,n.filter=t.enums===String?"BY_ALL":0,n.prefix=""),null!=e.limit&&e.hasOwnProperty("limit")&&(n.limit=e.limit),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?l.bin_proto.UserSearch.Order[e.order]:e.order),null!=e.filter&&e.hasOwnProperty("filter")&&(n.filter=t.enums===String?l.bin_proto.UserSearch.Filter[e.filter]:e.filter),null!=e.prefix&&e.hasOwnProperty("prefix")&&(n.prefix=e.prefix),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Order=function(){var e={},t=Object.create(e);return t[e[0]="FIRST_NAME"]=0,t[e[1]="LAST_NAME"]=1,t[e[2]="USERNAME"]=2,t}(),e.Filter=function(){var e={},t=Object.create(e);return t[e[0]="BY_ALL"]=0,t[e[1]="BY_FIRST_NAME"]=1,t[e[2]="BY_LAST_NAME"]=2,t[e[3]="BY_USERNAME"]=3,t}(),e}(),i.UserQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id="",e.prototype.to="",e.prototype.user=null,e.prototype.userAction=null,e.prototype.blockedList=null,e.prototype.usersStatus=null,e.prototype.usersList=null,e.prototype.userSearch=null,Object.defineProperty(e.prototype,"update",{get:c.oneOfGetter(t=["user","userAction","blockedList","usersStatus","usersList","userSearch"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(18).string(e.to),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&l.bin_proto.User.encode(e.user,t.uint32(26).fork()).ldelim(),null!=e.userAction&&Object.hasOwnProperty.call(e,"userAction")&&l.bin_proto.UserAction.encode(e.userAction,t.uint32(34).fork()).ldelim(),null!=e.blockedList&&Object.hasOwnProperty.call(e,"blockedList")&&l.bin_proto.UserSearch.encode(e.blockedList,t.uint32(42).fork()).ldelim(),null!=e.usersStatus&&Object.hasOwnProperty.call(e,"usersStatus")&&l.bin_proto.UsersList.encode(e.usersStatus,t.uint32(50).fork()).ldelim(),null!=e.usersList&&Object.hasOwnProperty.call(e,"usersList")&&l.bin_proto.UsersList.encode(e.usersList,t.uint32(58).fork()).ldelim(),null!=e.userSearch&&Object.hasOwnProperty.call(e,"userSearch")&&l.bin_proto.UserSearch.encode(e.userSearch,t.uint32(66).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.UserQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.to=e.string();break;case 3:r.user=l.bin_proto.User.decode(e,e.uint32());break;case 4:r.userAction=l.bin_proto.UserAction.decode(e,e.uint32());break;case 5:r.blockedList=l.bin_proto.UserSearch.decode(e,e.uint32());break;case 6:r.usersStatus=l.bin_proto.UsersList.decode(e,e.uint32());break;case 7:r.usersList=l.bin_proto.UsersList.decode(e,e.uint32());break;case 8:r.userSearch=l.bin_proto.UserSearch.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!c.isString(e.to))return"to: string expected";if(null!=e.user&&e.hasOwnProperty("user")&&(t.update=1,n=l.bin_proto.User.verify(e.user)))return"user."+n;if(null!=e.userAction&&e.hasOwnProperty("userAction")){if(1===t.update)return"update: multiple values";if(t.update=1,n=l.bin_proto.UserAction.verify(e.userAction))return"userAction."+n}if(null!=e.blockedList&&e.hasOwnProperty("blockedList")){if(1===t.update)return"update: multiple values";if(t.update=1,n=l.bin_proto.UserSearch.verify(e.blockedList))return"blockedList."+n}if(null!=e.usersStatus&&e.hasOwnProperty("usersStatus")){if(1===t.update)return"update: multiple values";if(t.update=1,n=l.bin_proto.UsersList.verify(e.usersStatus))return"usersStatus."+n}if(null!=e.usersList&&e.hasOwnProperty("usersList")){if(1===t.update)return"update: multiple values";if(t.update=1,n=l.bin_proto.UsersList.verify(e.usersList))return"usersList."+n}if(null!=e.userSearch&&e.hasOwnProperty("userSearch")){if(1===t.update)return"update: multiple values";var n;if(t.update=1,n=l.bin_proto.UserSearch.verify(e.userSearch))return"userSearch."+n}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.UserQuery)return e;var t=new l.bin_proto.UserQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.to&&(t.to=String(e.to)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.UserQuery.user: object expected");t.user=l.bin_proto.User.fromObject(e.user)}if(null!=e.userAction){if("object"!=typeof e.userAction)throw TypeError(".bin_proto.UserQuery.userAction: object expected");t.userAction=l.bin_proto.UserAction.fromObject(e.userAction)}if(null!=e.blockedList){if("object"!=typeof e.blockedList)throw TypeError(".bin_proto.UserQuery.blockedList: object expected");t.blockedList=l.bin_proto.UserSearch.fromObject(e.blockedList)}if(null!=e.usersStatus){if("object"!=typeof e.usersStatus)throw TypeError(".bin_proto.UserQuery.usersStatus: object expected");t.usersStatus=l.bin_proto.UsersList.fromObject(e.usersStatus)}if(null!=e.usersList){if("object"!=typeof e.usersList)throw TypeError(".bin_proto.UserQuery.usersList: object expected");t.usersList=l.bin_proto.UsersList.fromObject(e.usersList)}if(null!=e.userSearch){if("object"!=typeof e.userSearch)throw TypeError(".bin_proto.UserQuery.userSearch: object expected");t.userSearch=l.bin_proto.UserSearch.fromObject(e.userSearch)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.to=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.user&&e.hasOwnProperty("user")&&(n.user=l.bin_proto.User.toObject(e.user,t),t.oneofs&&(n.update="user")),null!=e.userAction&&e.hasOwnProperty("userAction")&&(n.userAction=l.bin_proto.UserAction.toObject(e.userAction,t),t.oneofs&&(n.update="userAction")),null!=e.blockedList&&e.hasOwnProperty("blockedList")&&(n.blockedList=l.bin_proto.UserSearch.toObject(e.blockedList,t),t.oneofs&&(n.update="blockedList")),null!=e.usersStatus&&e.hasOwnProperty("usersStatus")&&(n.usersStatus=l.bin_proto.UsersList.toObject(e.usersStatus,t),t.oneofs&&(n.update="usersStatus")),null!=e.usersList&&e.hasOwnProperty("usersList")&&(n.usersList=l.bin_proto.UsersList.toObject(e.usersList,t),t.oneofs&&(n.update="usersList")),null!=e.userSearch&&e.hasOwnProperty("userSearch")&&(n.userSearch=l.bin_proto.UserSearch.toObject(e.userSearch,t),t.oneofs&&(n.update="userSearch")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Member=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.user=null,e.prototype.role="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&l.bin_proto.User.encode(e.user,t.uint32(10).fork()).ldelim(),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(18).string(e.role),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Member;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.user=l.bin_proto.User.decode(e,e.uint32());break;case 2:r.role=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=l.bin_proto.User.verify(e.user);if(t)return"user."+t}return null!=e.role&&e.hasOwnProperty("role")&&!c.isString(e.role)?"role: string expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Member)return e;var t=new l.bin_proto.Member;if(null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.Member.user: object expected");t.user=l.bin_proto.User.fromObject(e.user)}return null!=e.role&&(t.role=String(e.role)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.user=null,n.role=""),null!=e.user&&e.hasOwnProperty("user")&&(n.user=l.bin_proto.User.toObject(e.user,t)),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Permission=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Permission;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.int64();break;case 2:r.name=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(c.isInteger(e.id)||e.id&&c.isInteger(e.id.low)&&c.isInteger(e.id.high))?"id: integer|Long expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Permission)return e;var t=new l.bin_proto.Permission;return null!=e.id&&(c.Long?(t.id=c.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.name=""}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?c.Long.prototype.toString.call(e.id):t.longs===Number?new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Role=function(){function e(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.description="",e.prototype.priority=0,e.prototype.access=0,e.prototype.permissions=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.priority&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).int32(e.priority),null!=e.access&&Object.hasOwnProperty.call(e,"access")&&t.uint32(40).int32(e.access),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)l.bin_proto.Permission.encode(e.permissions[n],t.uint32(50).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Role;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.int64();break;case 2:r.name=e.string();break;case 3:r.description=e.string();break;case 4:r.priority=e.int32();break;case 5:r.access=e.int32();break;case 6:r.permissions&&r.permissions.length||(r.permissions=[]),r.permissions.push(l.bin_proto.Permission.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(c.isInteger(e.id)||e.id&&c.isInteger(e.id.low)&&c.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!c.isString(e.description))return"description: string expected";if(null!=e.priority&&e.hasOwnProperty("priority")&&!c.isInteger(e.priority))return"priority: integer expected";if(null!=e.access&&e.hasOwnProperty("access")&&!c.isInteger(e.access))return"access: integer expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t){var n=l.bin_proto.Permission.verify(e.permissions[t]);if(n)return"permissions."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Role)return e;var t=new l.bin_proto.Role;if(null!=e.id&&(c.Long?(t.id=c.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.priority&&(t.priority=0|e.priority),null!=e.access&&(t.access=0|e.access),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".bin_proto.Role.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n){if("object"!=typeof e.permissions[n])throw TypeError(".bin_proto.Role.permissions: object expected");t.permissions[n]=l.bin_proto.Permission.fromObject(e.permissions[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.name="",n.description="",n.priority=0,n.access=0}if(null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?c.Long.prototype.toString.call(e.id):t.longs===Number?new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.priority&&e.hasOwnProperty("priority")&&(n.priority=e.priority),null!=e.access&&e.hasOwnProperty("access")&&(n.access=e.access),e.permissions&&e.permissions.length){n.permissions=[];for(var s=0;s<e.permissions.length;++s)n.permissions[s]=l.bin_proto.Permission.toObject(e.permissions[s],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Roles=function(){function e(e){if(this.roles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roles=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.roles&&e.roles.length)for(var n=0;n<e.roles.length;++n)l.bin_proto.Role.encode(e.roles[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Roles;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.roles&&r.roles.length||(r.roles=[]),r.roles.push(l.bin_proto.Role.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.roles&&e.hasOwnProperty("roles")){if(!Array.isArray(e.roles))return"roles: array expected";for(var t=0;t<e.roles.length;++t){var n=l.bin_proto.Role.verify(e.roles[t]);if(n)return"roles."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Roles)return e;var t=new l.bin_proto.Roles;if(e.roles){if(!Array.isArray(e.roles))throw TypeError(".bin_proto.Roles.roles: array expected");t.roles=[];for(var n=0;n<e.roles.length;++n){if("object"!=typeof e.roles[n])throw TypeError(".bin_proto.Roles.roles: object expected");t.roles[n]=l.bin_proto.Role.fromObject(e.roles[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.roles=[]),e.roles&&e.roles.length){n.roles=[];for(var r=0;r<e.roles.length;++r)n.roles[r]=l.bin_proto.Role.toObject(e.roles[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Conversation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.unread=0,e.prototype.msg=null,e.prototype.act=null,e.prototype.localRcvd=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.localDspld=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.remoteRcvd=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.remoteDspld=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.channelUnread=!1,Object.defineProperty(e.prototype,"LastMessage",{get:c.oneOfGetter(t=["msg","act"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.unread&&Object.hasOwnProperty.call(e,"unread")&&t.uint32(8).int32(e.unread),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&l.bin_proto.Message.encode(e.msg,t.uint32(18).fork()).ldelim(),null!=e.act&&Object.hasOwnProperty.call(e,"act")&&l.bin_proto.ChannelAction.encode(e.act,t.uint32(26).fork()).ldelim(),null!=e.localRcvd&&Object.hasOwnProperty.call(e,"localRcvd")&&t.uint32(32).int64(e.localRcvd),null!=e.localDspld&&Object.hasOwnProperty.call(e,"localDspld")&&t.uint32(40).int64(e.localDspld),null!=e.remoteRcvd&&Object.hasOwnProperty.call(e,"remoteRcvd")&&t.uint32(48).int64(e.remoteRcvd),null!=e.remoteDspld&&Object.hasOwnProperty.call(e,"remoteDspld")&&t.uint32(56).int64(e.remoteDspld),null!=e.channelUnread&&Object.hasOwnProperty.call(e,"channelUnread")&&t.uint32(64).bool(e.channelUnread),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Conversation;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.unread=e.int32();break;case 2:r.msg=l.bin_proto.Message.decode(e,e.uint32());break;case 3:r.act=l.bin_proto.ChannelAction.decode(e,e.uint32());break;case 4:r.localRcvd=e.int64();break;case 5:r.localDspld=e.int64();break;case 6:r.remoteRcvd=e.int64();break;case 7:r.remoteDspld=e.int64();break;case 8:r.channelUnread=e.bool();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.unread&&e.hasOwnProperty("unread")&&!c.isInteger(e.unread))return"unread: integer expected";if(null!=e.msg&&e.hasOwnProperty("msg")&&(t.LastMessage=1,n=l.bin_proto.Message.verify(e.msg)))return"msg."+n;if(null!=e.act&&e.hasOwnProperty("act")){if(1===t.LastMessage)return"LastMessage: multiple values";var n;if(t.LastMessage=1,n=l.bin_proto.ChannelAction.verify(e.act))return"act."+n}return null!=e.localRcvd&&e.hasOwnProperty("localRcvd")&&!(c.isInteger(e.localRcvd)||e.localRcvd&&c.isInteger(e.localRcvd.low)&&c.isInteger(e.localRcvd.high))?"localRcvd: integer|Long expected":null!=e.localDspld&&e.hasOwnProperty("localDspld")&&!(c.isInteger(e.localDspld)||e.localDspld&&c.isInteger(e.localDspld.low)&&c.isInteger(e.localDspld.high))?"localDspld: integer|Long expected":null!=e.remoteRcvd&&e.hasOwnProperty("remoteRcvd")&&!(c.isInteger(e.remoteRcvd)||e.remoteRcvd&&c.isInteger(e.remoteRcvd.low)&&c.isInteger(e.remoteRcvd.high))?"remoteRcvd: integer|Long expected":null!=e.remoteDspld&&e.hasOwnProperty("remoteDspld")&&!(c.isInteger(e.remoteDspld)||e.remoteDspld&&c.isInteger(e.remoteDspld.low)&&c.isInteger(e.remoteDspld.high))?"remoteDspld: integer|Long expected":null!=e.channelUnread&&e.hasOwnProperty("channelUnread")&&"boolean"!=typeof e.channelUnread?"channelUnread: boolean expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Conversation)return e;var t=new l.bin_proto.Conversation;if(null!=e.unread&&(t.unread=0|e.unread),null!=e.msg){if("object"!=typeof e.msg)throw TypeError(".bin_proto.Conversation.msg: object expected");t.msg=l.bin_proto.Message.fromObject(e.msg)}if(null!=e.act){if("object"!=typeof e.act)throw TypeError(".bin_proto.Conversation.act: object expected");t.act=l.bin_proto.ChannelAction.fromObject(e.act)}return null!=e.localRcvd&&(c.Long?(t.localRcvd=c.Long.fromValue(e.localRcvd)).unsigned=!1:"string"==typeof e.localRcvd?t.localRcvd=parseInt(e.localRcvd,10):"number"==typeof e.localRcvd?t.localRcvd=e.localRcvd:"object"==typeof e.localRcvd&&(t.localRcvd=new c.LongBits(e.localRcvd.low>>>0,e.localRcvd.high>>>0).toNumber())),null!=e.localDspld&&(c.Long?(t.localDspld=c.Long.fromValue(e.localDspld)).unsigned=!1:"string"==typeof e.localDspld?t.localDspld=parseInt(e.localDspld,10):"number"==typeof e.localDspld?t.localDspld=e.localDspld:"object"==typeof e.localDspld&&(t.localDspld=new c.LongBits(e.localDspld.low>>>0,e.localDspld.high>>>0).toNumber())),null!=e.remoteRcvd&&(c.Long?(t.remoteRcvd=c.Long.fromValue(e.remoteRcvd)).unsigned=!1:"string"==typeof e.remoteRcvd?t.remoteRcvd=parseInt(e.remoteRcvd,10):"number"==typeof e.remoteRcvd?t.remoteRcvd=e.remoteRcvd:"object"==typeof e.remoteRcvd&&(t.remoteRcvd=new c.LongBits(e.remoteRcvd.low>>>0,e.remoteRcvd.high>>>0).toNumber())),null!=e.remoteDspld&&(c.Long?(t.remoteDspld=c.Long.fromValue(e.remoteDspld)).unsigned=!1:"string"==typeof e.remoteDspld?t.remoteDspld=parseInt(e.remoteDspld,10):"number"==typeof e.remoteDspld?t.remoteDspld=e.remoteDspld:"object"==typeof e.remoteDspld&&(t.remoteDspld=new c.LongBits(e.remoteDspld.low>>>0,e.remoteDspld.high>>>0).toNumber())),null!=e.channelUnread&&(t.channelUnread=Boolean(e.channelUnread)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.unread=0,c.Long){var r=new c.Long(0,0,!1);n.localRcvd=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.localRcvd=t.longs===String?"0":0;c.Long?(r=new c.Long(0,0,!1),n.localDspld=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.localDspld=t.longs===String?"0":0,c.Long?(r=new c.Long(0,0,!1),n.remoteRcvd=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.remoteRcvd=t.longs===String?"0":0,c.Long?(r=new c.Long(0,0,!1),n.remoteDspld=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.remoteDspld=t.longs===String?"0":0,n.channelUnread=!1}return null!=e.unread&&e.hasOwnProperty("unread")&&(n.unread=e.unread),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=l.bin_proto.Message.toObject(e.msg,t),t.oneofs&&(n.LastMessage="msg")),null!=e.act&&e.hasOwnProperty("act")&&(n.act=l.bin_proto.ChannelAction.toObject(e.act,t),t.oneofs&&(n.LastMessage="act")),null!=e.localRcvd&&e.hasOwnProperty("localRcvd")&&("number"==typeof e.localRcvd?n.localRcvd=t.longs===String?String(e.localRcvd):e.localRcvd:n.localRcvd=t.longs===String?c.Long.prototype.toString.call(e.localRcvd):t.longs===Number?new c.LongBits(e.localRcvd.low>>>0,e.localRcvd.high>>>0).toNumber():e.localRcvd),null!=e.localDspld&&e.hasOwnProperty("localDspld")&&("number"==typeof e.localDspld?n.localDspld=t.longs===String?String(e.localDspld):e.localDspld:n.localDspld=t.longs===String?c.Long.prototype.toString.call(e.localDspld):t.longs===Number?new c.LongBits(e.localDspld.low>>>0,e.localDspld.high>>>0).toNumber():e.localDspld),null!=e.remoteRcvd&&e.hasOwnProperty("remoteRcvd")&&("number"==typeof e.remoteRcvd?n.remoteRcvd=t.longs===String?String(e.remoteRcvd):e.remoteRcvd:n.remoteRcvd=t.longs===String?c.Long.prototype.toString.call(e.remoteRcvd):t.longs===Number?new c.LongBits(e.remoteRcvd.low>>>0,e.remoteRcvd.high>>>0).toNumber():e.remoteRcvd),null!=e.remoteDspld&&e.hasOwnProperty("remoteDspld")&&("number"==typeof e.remoteDspld?n.remoteDspld=t.longs===String?String(e.remoteDspld):e.remoteDspld:n.remoteDspld=t.longs===String?c.Long.prototype.toString.call(e.remoteDspld):t.longs===Number?new c.LongBits(e.remoteDspld.low>>>0,e.remoteDspld.high>>>0).toNumber():e.remoteDspld),null!=e.channelUnread&&e.hasOwnProperty("channelUnread")&&(n.channelUnread=e.channelUnread),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Channel=function(){function e(e){if(this.members=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.config=null,e.prototype.membersTotalCount=0,e.prototype.members=c.emptyArray,e.prototype.type=0,e.prototype.conv=null,e.prototype.createAt=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.updateAt=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.options=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.muted=!1,e.prototype.muteTill=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.config&&Object.hasOwnProperty.call(e,"config")&&l.bin_proto.Channel.Configuration.encode(e.config,t.uint32(18).fork()).ldelim(),null!=e.membersTotalCount&&Object.hasOwnProperty.call(e,"membersTotalCount")&&t.uint32(24).int32(e.membersTotalCount),null!=e.members&&e.members.length)for(var n=0;n<e.members.length;++n)l.bin_proto.Member.encode(e.members[n],t.uint32(34).fork()).ldelim();return null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.conv&&Object.hasOwnProperty.call(e,"conv")&&l.bin_proto.Conversation.encode(e.conv,t.uint32(50).fork()).ldelim(),null!=e.createAt&&Object.hasOwnProperty.call(e,"createAt")&&t.uint32(56).int64(e.createAt),null!=e.updateAt&&Object.hasOwnProperty.call(e,"updateAt")&&t.uint32(64).int64(e.updateAt),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&t.uint32(72).int64(e.options),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(80).bool(e.muted),null!=e.muteTill&&Object.hasOwnProperty.call(e,"muteTill")&&t.uint32(88).int64(e.muteTill),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Channel;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.config=l.bin_proto.Channel.Configuration.decode(e,e.uint32());break;case 3:r.membersTotalCount=e.int32();break;case 4:r.members&&r.members.length||(r.members=[]),r.members.push(l.bin_proto.Member.decode(e,e.uint32()));break;case 5:r.type=e.int32();break;case 6:r.conv=l.bin_proto.Conversation.decode(e,e.uint32());break;case 7:r.createAt=e.int64();break;case 8:r.updateAt=e.int64();break;case 9:r.options=e.int64();break;case 10:r.muted=e.bool();break;case 11:r.muteTill=e.int64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.config&&e.hasOwnProperty("config")&&(n=l.bin_proto.Channel.Configuration.verify(e.config)))return"config."+n;if(null!=e.membersTotalCount&&e.hasOwnProperty("membersTotalCount")&&!c.isInteger(e.membersTotalCount))return"membersTotalCount: integer expected";if(null!=e.members&&e.hasOwnProperty("members")){if(!Array.isArray(e.members))return"members: array expected";for(var t=0;t<e.members.length;++t){var n;if(n=l.bin_proto.Member.verify(e.members[t]))return"members."+n}}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.conv&&e.hasOwnProperty("conv")&&(n=l.bin_proto.Conversation.verify(e.conv))?"conv."+n:null!=e.createAt&&e.hasOwnProperty("createAt")&&!(c.isInteger(e.createAt)||e.createAt&&c.isInteger(e.createAt.low)&&c.isInteger(e.createAt.high))?"createAt: integer|Long expected":null!=e.updateAt&&e.hasOwnProperty("updateAt")&&!(c.isInteger(e.updateAt)||e.updateAt&&c.isInteger(e.updateAt.low)&&c.isInteger(e.updateAt.high))?"updateAt: integer|Long expected":null!=e.options&&e.hasOwnProperty("options")&&!(c.isInteger(e.options)||e.options&&c.isInteger(e.options.low)&&c.isInteger(e.options.high))?"options: integer|Long expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.muteTill&&e.hasOwnProperty("muteTill")&&!(c.isInteger(e.muteTill)||e.muteTill&&c.isInteger(e.muteTill.low)&&c.isInteger(e.muteTill.high))?"muteTill: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Channel)return e;var t=new l.bin_proto.Channel;if(null!=e.id&&(t.id=String(e.id)),null!=e.config){if("object"!=typeof e.config)throw TypeError(".bin_proto.Channel.config: object expected");t.config=l.bin_proto.Channel.Configuration.fromObject(e.config)}if(null!=e.membersTotalCount&&(t.membersTotalCount=0|e.membersTotalCount),e.members){if(!Array.isArray(e.members))throw TypeError(".bin_proto.Channel.members: array expected");t.members=[];for(var n=0;n<e.members.length;++n){if("object"!=typeof e.members[n])throw TypeError(".bin_proto.Channel.members: object expected");t.members[n]=l.bin_proto.Member.fromObject(e.members[n])}}switch(e.type){case"NONE":case 0:t.type=0;break;case"PRIVATE":case 1:t.type=1;break;case"PUBLIC":case 2:t.type=2;break;case"DIRECT":case 3:t.type=3}if(null!=e.conv){if("object"!=typeof e.conv)throw TypeError(".bin_proto.Channel.conv: object expected");t.conv=l.bin_proto.Conversation.fromObject(e.conv)}return null!=e.createAt&&(c.Long?(t.createAt=c.Long.fromValue(e.createAt)).unsigned=!1:"string"==typeof e.createAt?t.createAt=parseInt(e.createAt,10):"number"==typeof e.createAt?t.createAt=e.createAt:"object"==typeof e.createAt&&(t.createAt=new c.LongBits(e.createAt.low>>>0,e.createAt.high>>>0).toNumber())),null!=e.updateAt&&(c.Long?(t.updateAt=c.Long.fromValue(e.updateAt)).unsigned=!1:"string"==typeof e.updateAt?t.updateAt=parseInt(e.updateAt,10):"number"==typeof e.updateAt?t.updateAt=e.updateAt:"object"==typeof e.updateAt&&(t.updateAt=new c.LongBits(e.updateAt.low>>>0,e.updateAt.high>>>0).toNumber())),null!=e.options&&(c.Long?(t.options=c.Long.fromValue(e.options)).unsigned=!1:"string"==typeof e.options?t.options=parseInt(e.options,10):"number"==typeof e.options?t.options=e.options:"object"==typeof e.options&&(t.options=new c.LongBits(e.options.low>>>0,e.options.high>>>0).toNumber())),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.muteTill&&(c.Long?(t.muteTill=c.Long.fromValue(e.muteTill)).unsigned=!1:"string"==typeof e.muteTill?t.muteTill=parseInt(e.muteTill,10):"number"==typeof e.muteTill?t.muteTill=e.muteTill:"object"==typeof e.muteTill&&(t.muteTill=new c.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.members=[]),t.defaults){if(n.id="",n.config=null,n.membersTotalCount=0,n.type=t.enums===String?"NONE":0,n.conv=null,c.Long){var r=new c.Long(0,0,!1);n.createAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.createAt=t.longs===String?"0":0;c.Long?(r=new c.Long(0,0,!1),n.updateAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.updateAt=t.longs===String?"0":0,c.Long?(r=new c.Long(0,0,!1),n.options=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.options=t.longs===String?"0":0,n.muted=!1,c.Long?(r=new c.Long(0,0,!1),n.muteTill=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.muteTill=t.longs===String?"0":0}if(null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.config&&e.hasOwnProperty("config")&&(n.config=l.bin_proto.Channel.Configuration.toObject(e.config,t)),null!=e.membersTotalCount&&e.hasOwnProperty("membersTotalCount")&&(n.membersTotalCount=e.membersTotalCount),e.members&&e.members.length){n.members=[];for(var s=0;s<e.members.length;++s)n.members[s]=l.bin_proto.Member.toObject(e.members[s],t)}return null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?l.bin_proto.Channel.Type[e.type]:e.type),null!=e.conv&&e.hasOwnProperty("conv")&&(n.conv=l.bin_proto.Conversation.toObject(e.conv,t)),null!=e.createAt&&e.hasOwnProperty("createAt")&&("number"==typeof e.createAt?n.createAt=t.longs===String?String(e.createAt):e.createAt:n.createAt=t.longs===String?c.Long.prototype.toString.call(e.createAt):t.longs===Number?new c.LongBits(e.createAt.low>>>0,e.createAt.high>>>0).toNumber():e.createAt),null!=e.updateAt&&e.hasOwnProperty("updateAt")&&("number"==typeof e.updateAt?n.updateAt=t.longs===String?String(e.updateAt):e.updateAt:n.updateAt=t.longs===String?c.Long.prototype.toString.call(e.updateAt):t.longs===Number?new c.LongBits(e.updateAt.low>>>0,e.updateAt.high>>>0).toNumber():e.updateAt),null!=e.options&&e.hasOwnProperty("options")&&("number"==typeof e.options?n.options=t.longs===String?String(e.options):e.options:n.options=t.longs===String?c.Long.prototype.toString.call(e.options):t.longs===Number?new c.LongBits(e.options.low>>>0,e.options.high>>>0).toNumber():e.options),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.muteTill&&e.hasOwnProperty("muteTill")&&("number"==typeof e.muteTill?n.muteTill=t.longs===String?String(e.muteTill):e.muteTill:n.muteTill=t.longs===String?c.Long.prototype.toString.call(e.muteTill):t.longs===Number?new c.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber():e.muteTill),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Configuration=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uri="",e.prototype.subject="",e.prototype.metadata="",e.prototype.avatar="",e.prototype.label="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(10).string(e.uri),null!=e.subject&&Object.hasOwnProperty.call(e,"subject")&&t.uint32(18).string(e.subject),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(26).string(e.metadata),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(34).string(e.avatar),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(42).string(e.label),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Channel.Configuration;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.uri=e.string();break;case 2:r.subject=e.string();break;case 3:r.metadata=e.string();break;case 4:r.avatar=e.string();break;case 5:r.label=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uri&&e.hasOwnProperty("uri")&&!c.isString(e.uri)?"uri: string expected":null!=e.subject&&e.hasOwnProperty("subject")&&!c.isString(e.subject)?"subject: string expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!c.isString(e.metadata)?"metadata: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!c.isString(e.avatar)?"avatar: string expected":null!=e.label&&e.hasOwnProperty("label")&&!c.isString(e.label)?"label: string expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Channel.Configuration)return e;var t=new l.bin_proto.Channel.Configuration;return null!=e.uri&&(t.uri=String(e.uri)),null!=e.subject&&(t.subject=String(e.subject)),null!=e.metadata&&(t.metadata=String(e.metadata)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.label&&(t.label=String(e.label)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uri="",n.subject="",n.metadata="",n.avatar="",n.label=""),null!=e.uri&&e.hasOwnProperty("uri")&&(n.uri=e.uri),null!=e.subject&&e.hasOwnProperty("subject")&&(n.subject=e.subject),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.label&&e.hasOwnProperty("label")&&(n.label=e.label),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Type=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="PRIVATE"]=1,t[e[2]="PUBLIC"]=2,t[e[3]="DIRECT"]=3,t}(),e}(),i.ChannelQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id="",e.prototype.type=0,e.prototype.index=0,e.prototype.count=0,e.prototype.to="",e.prototype.members=null,e.prototype.channels=null,e.prototype.roles=null,e.prototype.unreadCount=null,e.prototype.totalUnread=0,e.prototype.unreadChannels=0,e.prototype.accessPriorHistory=!1,Object.defineProperty(e.prototype,"Data",{get:c.oneOfGetter(t=["members","channels","roles","unreadCount"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(24).int32(e.index),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(32).int32(e.count),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(42).string(e.to),null!=e.members&&Object.hasOwnProperty.call(e,"members")&&l.bin_proto.Members.encode(e.members,t.uint32(50).fork()).ldelim(),null!=e.channels&&Object.hasOwnProperty.call(e,"channels")&&l.bin_proto.Channels.encode(e.channels,t.uint32(58).fork()).ldelim(),null!=e.totalUnread&&Object.hasOwnProperty.call(e,"totalUnread")&&t.uint32(64).int32(e.totalUnread),null!=e.roles&&Object.hasOwnProperty.call(e,"roles")&&l.bin_proto.Roles.encode(e.roles,t.uint32(74).fork()).ldelim(),null!=e.unreadCount&&Object.hasOwnProperty.call(e,"unreadCount")&&l.bin_proto.UnreadCount.encode(e.unreadCount,t.uint32(82).fork()).ldelim(),null!=e.unreadChannels&&Object.hasOwnProperty.call(e,"unreadChannels")&&t.uint32(88).int32(e.unreadChannels),null!=e.accessPriorHistory&&Object.hasOwnProperty.call(e,"accessPriorHistory")&&t.uint32(96).bool(e.accessPriorHistory),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ChannelQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.type=e.int32();break;case 3:r.index=e.int32();break;case 4:r.count=e.int32();break;case 5:r.to=e.string();break;case 6:r.members=l.bin_proto.Members.decode(e,e.uint32());break;case 7:r.channels=l.bin_proto.Channels.decode(e,e.uint32());break;case 9:r.roles=l.bin_proto.Roles.decode(e,e.uint32());break;case 10:r.unreadCount=l.bin_proto.UnreadCount.decode(e,e.uint32());break;case 8:r.totalUnread=e.int32();break;case 11:r.unreadChannels=e.int32();break;case 12:r.accessPriorHistory=e.bool();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:}if(null!=e.index&&e.hasOwnProperty("index")&&!c.isInteger(e.index))return"index: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!c.isInteger(e.count))return"count: integer expected";if(null!=e.to&&e.hasOwnProperty("to")&&!c.isString(e.to))return"to: string expected";if(null!=e.members&&e.hasOwnProperty("members")&&(t.Data=1,n=l.bin_proto.Members.verify(e.members)))return"members."+n;if(null!=e.channels&&e.hasOwnProperty("channels")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,n=l.bin_proto.Channels.verify(e.channels))return"channels."+n}if(null!=e.roles&&e.hasOwnProperty("roles")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,n=l.bin_proto.Roles.verify(e.roles))return"roles."+n}if(null!=e.unreadCount&&e.hasOwnProperty("unreadCount")){if(1===t.Data)return"Data: multiple values";var n;if(t.Data=1,n=l.bin_proto.UnreadCount.verify(e.unreadCount))return"unreadCount."+n}return null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&!c.isInteger(e.totalUnread)?"totalUnread: integer expected":null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&!c.isInteger(e.unreadChannels)?"unreadChannels: integer expected":null!=e.accessPriorHistory&&e.hasOwnProperty("accessPriorHistory")&&"boolean"!=typeof e.accessPriorHistory?"accessPriorHistory: boolean expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.ChannelQuery)return e;var t=new l.bin_proto.ChannelQuery;switch(null!=e.id&&(t.id=String(e.id)),e.type){case"NONE":case 0:t.type=0;break;case"CREATE":case 1:t.type=1;break;case"DELETE":case 2:t.type=2;break;case"LEAVE":case 3:t.type=3;break;case"JOIN":case 4:t.type=4;break;case"UPDATE":case 5:t.type=5;break;case"GET":case 6:t.type=6;break;case"GET_LIST":case 7:t.type=7;break;case"ADD_MEMBER":case 8:t.type=8;break;case"KICK_MEMBER":case 9:t.type=9;break;case"MEMBERS":case 10:t.type=10;break;case"BLOCK":case 11:t.type=11;break;case"UNBLOCK":case 12:t.type=12;break;case"GET_BLOCK_LIST":case 13:t.type=13;break;case"BLOCK_MEMBER":case 14:t.type=14;break;case"UNBLOCK_MEMBER":case 15:t.type=15;break;case"GET_BLOCKED_MEMBER_LIST":case 16:t.type=16;break;case"CHANGE_OWNER":case 17:t.type=17;break;case"CHANGE_ROLE":case 18:t.type=18;break;case"GET_ROLES":case 19:t.type=19;break;case"CLEAR_MESSAGES":case 20:t.type=20;break;case"HIDE_CHANNELS":case 21:t.type=21;break;case"UNHIDE_CHANNELS":case 22:t.type=22;break;case"ARCHIVE_CHANNELS":case 23:t.type=23;break;case"UNARCHIVE_CHANNELS":case 24:t.type=24;break;case"GET_ARCHIVED_CHANNELS":case 25:t.type=25;break;case"GET_HIDDEN_CHANNELS":case 26:t.type=26;break;case"MARK_AS_UNREAD":case 27:t.type=27;break;case"GET_UNREADS":case 28:t.type=28;break;case"MUTE_CHANNELS":case 29:t.type=29;break;case"UNMUTE_CHANNELS":case 30:t.type=30;break;case"GET_MUTED_CHANNELS":case 31:t.type=31;break;case"MARK_AS_READ":case 32:t.type=32}if(null!=e.index&&(t.index=0|e.index),null!=e.count&&(t.count=0|e.count),null!=e.to&&(t.to=String(e.to)),null!=e.members){if("object"!=typeof e.members)throw TypeError(".bin_proto.ChannelQuery.members: object expected");t.members=l.bin_proto.Members.fromObject(e.members)}if(null!=e.channels){if("object"!=typeof e.channels)throw TypeError(".bin_proto.ChannelQuery.channels: object expected");t.channels=l.bin_proto.Channels.fromObject(e.channels)}if(null!=e.roles){if("object"!=typeof e.roles)throw TypeError(".bin_proto.ChannelQuery.roles: object expected");t.roles=l.bin_proto.Roles.fromObject(e.roles)}if(null!=e.unreadCount){if("object"!=typeof e.unreadCount)throw TypeError(".bin_proto.ChannelQuery.unreadCount: object expected");t.unreadCount=l.bin_proto.UnreadCount.fromObject(e.unreadCount)}return null!=e.totalUnread&&(t.totalUnread=0|e.totalUnread),null!=e.unreadChannels&&(t.unreadChannels=0|e.unreadChannels),null!=e.accessPriorHistory&&(t.accessPriorHistory=Boolean(e.accessPriorHistory)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.type=t.enums===String?"NONE":0,n.index=0,n.count=0,n.to="",n.totalUnread=0,n.unreadChannels=0,n.accessPriorHistory=!1),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?l.bin_proto.ChannelQuery.Type[e.type]:e.type),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.members&&e.hasOwnProperty("members")&&(n.members=l.bin_proto.Members.toObject(e.members,t),t.oneofs&&(n.Data="members")),null!=e.channels&&e.hasOwnProperty("channels")&&(n.channels=l.bin_proto.Channels.toObject(e.channels,t),t.oneofs&&(n.Data="channels")),null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&(n.totalUnread=e.totalUnread),null!=e.roles&&e.hasOwnProperty("roles")&&(n.roles=l.bin_proto.Roles.toObject(e.roles,t),t.oneofs&&(n.Data="roles")),null!=e.unreadCount&&e.hasOwnProperty("unreadCount")&&(n.unreadCount=l.bin_proto.UnreadCount.toObject(e.unreadCount,t),t.oneofs&&(n.Data="unreadCount")),null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&(n.unreadChannels=e.unreadChannels),null!=e.accessPriorHistory&&e.hasOwnProperty("accessPriorHistory")&&(n.accessPriorHistory=e.accessPriorHistory),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="CREATE"]=1,t[e[2]="DELETE"]=2,t[e[3]="LEAVE"]=3,t[e[4]="JOIN"]=4,t[e[5]="UPDATE"]=5,t[e[6]="GET"]=6,t[e[7]="GET_LIST"]=7,t[e[8]="ADD_MEMBER"]=8,t[e[9]="KICK_MEMBER"]=9,t[e[10]="MEMBERS"]=10,t[e[11]="BLOCK"]=11,t[e[12]="UNBLOCK"]=12,t[e[13]="GET_BLOCK_LIST"]=13,t[e[14]="BLOCK_MEMBER"]=14,t[e[15]="UNBLOCK_MEMBER"]=15,t[e[16]="GET_BLOCKED_MEMBER_LIST"]=16,t[e[17]="CHANGE_OWNER"]=17,t[e[18]="CHANGE_ROLE"]=18,t[e[19]="GET_ROLES"]=19,t[e[20]="CLEAR_MESSAGES"]=20,t[e[21]="HIDE_CHANNELS"]=21,t[e[22]="UNHIDE_CHANNELS"]=22,t[e[23]="ARCHIVE_CHANNELS"]=23,t[e[24]="UNARCHIVE_CHANNELS"]=24,t[e[25]="GET_ARCHIVED_CHANNELS"]=25,t[e[26]="GET_HIDDEN_CHANNELS"]=26,t[e[27]="MARK_AS_UNREAD"]=27,t[e[28]="GET_UNREADS"]=28,t[e[29]="MUTE_CHANNELS"]=29,t[e[30]="UNMUTE_CHANNELS"]=30,t[e[31]="GET_MUTED_CHANNELS"]=31,t[e[32]="MARK_AS_READ"]=32,t}(),e}(),i.ChannelAction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.from="",e.prototype.channel=null,e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(18).string(e.from),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&l.bin_proto.Channel.encode(e.channel,t.uint32(26).fork()).ldelim(),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(32).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ChannelAction;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.from=e.string();break;case 3:r.channel=l.bin_proto.Channel.decode(e,e.uint32());break;case 4:r.type=e.int32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.from&&e.hasOwnProperty("from")&&!c.isString(e.from))return"from: string expected";if(null!=e.channel&&e.hasOwnProperty("channel")){var t=l.bin_proto.Channel.verify(e.channel);if(t)return"channel."+t}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.ChannelAction)return e;var t=new l.bin_proto.ChannelAction;if(null!=e.id&&(t.id=String(e.id)),null!=e.from&&(t.from=String(e.from)),null!=e.channel){if("object"!=typeof e.channel)throw TypeError(".bin_proto.ChannelAction.channel: object expected");t.channel=l.bin_proto.Channel.fromObject(e.channel)}switch(e.type){case"NONE":case 0:t.type=0;break;case"CREATE":case 1:t.type=1;break;case"DELETE":case 2:t.type=2;break;case"LEAVE":case 3:t.type=3;break;case"JOIN":case 4:t.type=4;break;case"UPDATE":case 5:t.type=5;break;case"GET":case 6:t.type=6;break;case"GET_LIST":case 7:t.type=7;break;case"ADD_MEMBER":case 8:t.type=8;break;case"KICK_MEMBER":case 9:t.type=9;break;case"MEMBERS":case 10:t.type=10;break;case"BLOCK":case 11:t.type=11;break;case"UNBLOCK":case 12:t.type=12;break;case"GET_BLOCK_LIST":case 13:t.type=13;break;case"BLOCK_MEMBER":case 14:t.type=14;break;case"UNBLOCK_MEMBER":case 15:t.type=15;break;case"GET_BLOCKED_MEMBER_LIST":case 16:t.type=16;break;case"CHANGE_OWNER":case 17:t.type=17;break;case"CHANGE_ROLE":case 18:t.type=18;break;case"GET_ROLES":case 19:t.type=19;break;case"CLEAR_MESSAGES":case 20:t.type=20;break;case"HIDE_CHANNELS":case 21:t.type=21;break;case"UNHIDE_CHANNELS":case 22:t.type=22;break;case"ARCHIVE_CHANNELS":case 23:t.type=23;break;case"UNARCHIVE_CHANNELS":case 24:t.type=24;break;case"GET_ARCHIVED_CHANNELS":case 25:t.type=25;break;case"GET_HIDDEN_CHANNELS":case 26:t.type=26;break;case"MARK_AS_UNREAD":case 27:t.type=27;break;case"GET_UNREADS":case 28:t.type=28;break;case"MUTE_CHANNELS":case 29:t.type=29;break;case"UNMUTE_CHANNELS":case 30:t.type=30;break;case"GET_MUTED_CHANNELS":case 31:t.type=31;break;case"MARK_AS_READ":case 32:t.type=32}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.from="",n.channel=null,n.type=t.enums===String?"NONE":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=l.bin_proto.Channel.toObject(e.channel,t)),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?l.bin_proto.ChannelQuery.Type[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Members=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelId="",e.prototype.type=0,e.prototype.order=0,e.prototype.key=0,e.prototype.list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(10).string(e.channelId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(24).int32(e.order),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(32).int32(e.key),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)l.bin_proto.Member.encode(e.list[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Members;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.channelId=e.string();break;case 2:r.type=e.int32();break;case 3:r.order=e.int32();break;case 4:r.key=e.int32();break;case 5:r.list&&r.list.length||(r.list=[]),r.list.push(l.bin_proto.Member.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:}if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:case 2:}if(null!=e.key&&e.hasOwnProperty("key"))switch(e.key){default:return"key: enum value expected";case 0:case 1:case 2:}if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=l.bin_proto.Member.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Members)return e;var t=new l.bin_proto.Members;switch(null!=e.channelId&&(t.channelId=String(e.channelId)),e.type){case"ALL":case 0:t.type=0;break;case"PRIVILEGED":case 1:t.type=1}switch(e.order){case"AFFILIATION":case 0:t.order=0;break;case"ASC":case 1:t.order=1;break;case"DESC":case 2:t.order=2}switch(e.key){case"USERNAME":case 0:t.key=0;break;case"FIRSTNAME":case 1:t.key=1;break;case"LASTNAME":case 2:t.key=2}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Members.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Members.list: object expected");t.list[n]=l.bin_proto.Member.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults&&(n.channelId="",n.type=t.enums===String?"ALL":0,n.order=t.enums===String?"AFFILIATION":0,n.key=t.enums===String?"USERNAME":0),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?l.bin_proto.Members.Type[e.type]:e.type),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?l.bin_proto.Members.Order[e.order]:e.order),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.enums===String?l.bin_proto.Members.OrderKey[e.key]:e.key),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=l.bin_proto.Member.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="ALL"]=0,t[e[1]="PRIVILEGED"]=1,t}(),e.Order=function(){var e={},t=Object.create(e);return t[e[0]="AFFILIATION"]=0,t[e[1]="ASC"]=1,t[e[2]="DESC"]=2,t}(),e.OrderKey=function(){var e={},t=Object.create(e);return t[e[0]="USERNAME"]=0,t[e[1]="FIRSTNAME"]=1,t[e[2]="LASTNAME"]=2,t}(),e}(),i.Channels=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.order=0,e.prototype.list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(16).int32(e.order),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)l.bin_proto.Channel.encode(e.list[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Channels;e.pos<n;){var s=e.uint32();switch(s>>>3){case 2:r.order=e.int32();break;case 3:r.list&&r.list.length||(r.list=[]),r.list.push(l.bin_proto.Channel.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:}if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=l.bin_proto.Channel.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Channels)return e;var t=new l.bin_proto.Channels;switch(e.order){case"LAST_MESSAGE":case 0:t.order=0;break;case"CREATED_AT":case 1:t.order=1}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Channels.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Channels.list: object expected");t.list[n]=l.bin_proto.Channel.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults&&(n.order=t.enums===String?"LAST_MESSAGE":0),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?l.bin_proto.Channels.Order[e.order]:e.order),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=l.bin_proto.Channel.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Order=function(){var e={},t=Object.create(e);return t[e[0]="LAST_MESSAGE"]=0,t[e[1]="CREATED_AT"]=1,t}(),e}(),i.Attachment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type="",e.prototype.meta="",e.prototype.data="",e.prototype.size=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.messageId=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.meta&&Object.hasOwnProperty.call(e,"meta")&&t.uint32(26).string(e.meta),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(34).string(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).int64(e.size),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(48).uint64(e.messageId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Attachment;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.name=e.string();break;case 2:r.type=e.string();break;case 3:r.meta=e.string();break;case 4:r.data=e.string();break;case 5:r.size=e.int64();break;case 6:r.messageId=e.uint64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isString(e.type)?"type: string expected":null!=e.meta&&e.hasOwnProperty("meta")&&!c.isString(e.meta)?"meta: string expected":null!=e.data&&e.hasOwnProperty("data")&&!c.isString(e.data)?"data: string expected":null!=e.size&&e.hasOwnProperty("size")&&!(c.isInteger(e.size)||e.size&&c.isInteger(e.size.low)&&c.isInteger(e.size.high))?"size: integer|Long expected":null!=e.messageId&&e.hasOwnProperty("messageId")&&!(c.isInteger(e.messageId)||e.messageId&&c.isInteger(e.messageId.low)&&c.isInteger(e.messageId.high))?"messageId: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Attachment)return e;var t=new l.bin_proto.Attachment;return null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=String(e.type)),null!=e.meta&&(t.meta=String(e.meta)),null!=e.data&&(t.data=String(e.data)),null!=e.size&&(c.Long?(t.size=c.Long.fromValue(e.size)).unsigned=!1:"string"==typeof e.size?t.size=parseInt(e.size,10):"number"==typeof e.size?t.size=e.size:"object"==typeof e.size&&(t.size=new c.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber())),null!=e.messageId&&(c.Long?(t.messageId=c.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new c.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.name="",n.type="",n.meta="",n.data="",c.Long){var r=new c.Long(0,0,!1);n.size=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.size=t.longs===String?"0":0;c.Long?(r=new c.Long(0,0,!0),n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.messageId=t.longs===String?"0":0}return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.meta&&e.hasOwnProperty("meta")&&(n.meta=e.meta),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.size&&e.hasOwnProperty("size")&&("number"==typeof e.size?n.size=t.longs===String?String(e.size):e.size:n.size=t.longs===String?c.Long.prototype.toString.call(e.size):t.longs===Number?new c.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber():e.size),null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?c.Long.prototype.toString.call(e.messageId):t.longs===Number?new c.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.ReactionCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.count=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(16).uint64(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ReactionCount;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.key=e.string();break;case 2:r.count=e.uint64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!c.isString(e.key)?"key: string expected":null!=e.count&&e.hasOwnProperty("count")&&!(c.isInteger(e.count)||e.count&&c.isInteger(e.count.low)&&c.isInteger(e.count.high))?"count: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.ReactionCount)return e;var t=new l.bin_proto.ReactionCount;return null!=e.key&&(t.key=String(e.key)),null!=e.count&&(c.Long?(t.count=c.Long.fromValue(e.count)).unsigned=!0:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new c.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.key="",c.Long){var r=new c.Long(0,0,!0);n.count=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.count=t.longs===String?"0":0;return null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?n.count=t.longs===String?String(e.count):e.count:n.count=t.longs===String?c.Long.prototype.toString.call(e.count):t.longs===Number?new c.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber(!0):e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.ReactionObj=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.score=0,e.prototype.reason="",e.prototype.user=null,e.prototype.createdAt=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.updatedAt=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(16).int32(e.score),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(26).string(e.reason),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&l.bin_proto.User.encode(e.user,t.uint32(34).fork()).ldelim(),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(40).int64(e.createdAt),null!=e.updatedAt&&Object.hasOwnProperty.call(e,"updatedAt")&&t.uint32(48).int64(e.updatedAt),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ReactionObj;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.key=e.string();break;case 2:r.score=e.int32();break;case 3:r.reason=e.string();break;case 4:r.user=l.bin_proto.User.decode(e,e.uint32());break;case 5:r.createdAt=e.int64();break;case 6:r.updatedAt=e.int64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!c.isString(e.key))return"key: string expected";if(null!=e.score&&e.hasOwnProperty("score")&&!c.isInteger(e.score))return"score: integer expected";if(null!=e.reason&&e.hasOwnProperty("reason")&&!c.isString(e.reason))return"reason: string expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=l.bin_proto.User.verify(e.user);if(t)return"user."+t}return null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(c.isInteger(e.createdAt)||e.createdAt&&c.isInteger(e.createdAt.low)&&c.isInteger(e.createdAt.high))?"createdAt: integer|Long expected":null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&!(c.isInteger(e.updatedAt)||e.updatedAt&&c.isInteger(e.updatedAt.low)&&c.isInteger(e.updatedAt.high))?"updatedAt: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.ReactionObj)return e;var t=new l.bin_proto.ReactionObj;if(null!=e.key&&(t.key=String(e.key)),null!=e.score&&(t.score=0|e.score),null!=e.reason&&(t.reason=String(e.reason)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.ReactionObj.user: object expected");t.user=l.bin_proto.User.fromObject(e.user)}return null!=e.createdAt&&(c.Long?(t.createdAt=c.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new c.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),null!=e.updatedAt&&(c.Long?(t.updatedAt=c.Long.fromValue(e.updatedAt)).unsigned=!1:"string"==typeof e.updatedAt?t.updatedAt=parseInt(e.updatedAt,10):"number"==typeof e.updatedAt?t.updatedAt=e.updatedAt:"object"==typeof e.updatedAt&&(t.updatedAt=new c.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.key="",n.score=0,n.reason="",n.user=null,c.Long){var r=new c.Long(0,0,!1);n.createdAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.createdAt=t.longs===String?"0":0;c.Long?(r=new c.Long(0,0,!1),n.updatedAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.updatedAt=t.longs===String?"0":0}return null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.reason&&e.hasOwnProperty("reason")&&(n.reason=e.reason),null!=e.user&&e.hasOwnProperty("user")&&(n.user=l.bin_proto.User.toObject(e.user,t)),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?n.createdAt=t.longs===String?String(e.createdAt):e.createdAt:n.createdAt=t.longs===String?c.Long.prototype.toString.call(e.createdAt):t.longs===Number?new c.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&("number"==typeof e.updatedAt?n.updatedAt=t.longs===String?String(e.updatedAt):e.updatedAt:n.updatedAt=t.longs===String?c.Long.prototype.toString.call(e.updatedAt):t.longs===Number?new c.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber():e.updatedAt),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Reaction=function(){function e(e){if(this.countList=[],this.lastObjs=[],this.selfObjs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.messageId=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.isUnique=!1,e.prototype.countList=c.emptyArray,e.prototype.lastObjs=c.emptyArray,e.prototype.selfObjs=c.emptyArray,e.prototype.reactionObj=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(8).uint64(e.messageId),null!=e.isUnique&&Object.hasOwnProperty.call(e,"isUnique")&&t.uint32(16).bool(e.isUnique),null!=e.countList&&e.countList.length)for(var n=0;n<e.countList.length;++n)l.bin_proto.ReactionCount.encode(e.countList[n],t.uint32(26).fork()).ldelim();if(null!=e.lastObjs&&e.lastObjs.length)for(n=0;n<e.lastObjs.length;++n)l.bin_proto.ReactionObj.encode(e.lastObjs[n],t.uint32(34).fork()).ldelim();if(null!=e.selfObjs&&e.selfObjs.length)for(n=0;n<e.selfObjs.length;++n)l.bin_proto.ReactionObj.encode(e.selfObjs[n],t.uint32(42).fork()).ldelim();return null!=e.reactionObj&&Object.hasOwnProperty.call(e,"reactionObj")&&l.bin_proto.ReactionObj.encode(e.reactionObj,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Reaction;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.messageId=e.uint64();break;case 2:r.isUnique=e.bool();break;case 3:r.countList&&r.countList.length||(r.countList=[]),r.countList.push(l.bin_proto.ReactionCount.decode(e,e.uint32()));break;case 4:r.lastObjs&&r.lastObjs.length||(r.lastObjs=[]),r.lastObjs.push(l.bin_proto.ReactionObj.decode(e,e.uint32()));break;case 5:r.selfObjs&&r.selfObjs.length||(r.selfObjs=[]),r.selfObjs.push(l.bin_proto.ReactionObj.decode(e,e.uint32()));break;case 6:r.reactionObj=l.bin_proto.ReactionObj.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageId&&e.hasOwnProperty("messageId")&&!(c.isInteger(e.messageId)||e.messageId&&c.isInteger(e.messageId.low)&&c.isInteger(e.messageId.high)))return"messageId: integer|Long expected";if(null!=e.isUnique&&e.hasOwnProperty("isUnique")&&"boolean"!=typeof e.isUnique)return"isUnique: boolean expected";if(null!=e.countList&&e.hasOwnProperty("countList")){if(!Array.isArray(e.countList))return"countList: array expected";for(var t=0;t<e.countList.length;++t)if(n=l.bin_proto.ReactionCount.verify(e.countList[t]))return"countList."+n}if(null!=e.lastObjs&&e.hasOwnProperty("lastObjs")){if(!Array.isArray(e.lastObjs))return"lastObjs: array expected";for(t=0;t<e.lastObjs.length;++t)if(n=l.bin_proto.ReactionObj.verify(e.lastObjs[t]))return"lastObjs."+n}if(null!=e.selfObjs&&e.hasOwnProperty("selfObjs")){if(!Array.isArray(e.selfObjs))return"selfObjs: array expected";for(t=0;t<e.selfObjs.length;++t)if(n=l.bin_proto.ReactionObj.verify(e.selfObjs[t]))return"selfObjs."+n}var n;return null!=e.reactionObj&&e.hasOwnProperty("reactionObj")&&(n=l.bin_proto.ReactionObj.verify(e.reactionObj))?"reactionObj."+n:null},e.fromObject=function(e){if(e instanceof l.bin_proto.Reaction)return e;var t=new l.bin_proto.Reaction;if(null!=e.messageId&&(c.Long?(t.messageId=c.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new c.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),null!=e.isUnique&&(t.isUnique=Boolean(e.isUnique)),e.countList){if(!Array.isArray(e.countList))throw TypeError(".bin_proto.Reaction.countList: array expected");t.countList=[];for(var n=0;n<e.countList.length;++n){if("object"!=typeof e.countList[n])throw TypeError(".bin_proto.Reaction.countList: object expected");t.countList[n]=l.bin_proto.ReactionCount.fromObject(e.countList[n])}}if(e.lastObjs){if(!Array.isArray(e.lastObjs))throw TypeError(".bin_proto.Reaction.lastObjs: array expected");for(t.lastObjs=[],n=0;n<e.lastObjs.length;++n){if("object"!=typeof e.lastObjs[n])throw TypeError(".bin_proto.Reaction.lastObjs: object expected");t.lastObjs[n]=l.bin_proto.ReactionObj.fromObject(e.lastObjs[n])}}if(e.selfObjs){if(!Array.isArray(e.selfObjs))throw TypeError(".bin_proto.Reaction.selfObjs: array expected");for(t.selfObjs=[],n=0;n<e.selfObjs.length;++n){if("object"!=typeof e.selfObjs[n])throw TypeError(".bin_proto.Reaction.selfObjs: object expected");t.selfObjs[n]=l.bin_proto.ReactionObj.fromObject(e.selfObjs[n])}}if(null!=e.reactionObj){if("object"!=typeof e.reactionObj)throw TypeError(".bin_proto.Reaction.reactionObj: object expected");t.reactionObj=l.bin_proto.ReactionObj.fromObject(e.reactionObj)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.countList=[],n.lastObjs=[],n.selfObjs=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.messageId=t.longs===String?"0":0;n.isUnique=!1,n.reactionObj=null}if(null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?c.Long.prototype.toString.call(e.messageId):t.longs===Number?new c.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),null!=e.isUnique&&e.hasOwnProperty("isUnique")&&(n.isUnique=e.isUnique),e.countList&&e.countList.length){n.countList=[];for(var s=0;s<e.countList.length;++s)n.countList[s]=l.bin_proto.ReactionCount.toObject(e.countList[s],t)}if(e.lastObjs&&e.lastObjs.length)for(n.lastObjs=[],s=0;s<e.lastObjs.length;++s)n.lastObjs[s]=l.bin_proto.ReactionObj.toObject(e.lastObjs[s],t);if(e.selfObjs&&e.selfObjs.length)for(n.selfObjs=[],s=0;s<e.selfObjs.length;++s)n.selfObjs[s]=l.bin_proto.ReactionObj.toObject(e.selfObjs[s],t);return null!=e.reactionObj&&e.hasOwnProperty("reactionObj")&&(n.reactionObj=l.bin_proto.ReactionObj.toObject(e.reactionObj,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.ReactionQuery=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.channelId="",e.prototype.messageId=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.page=null,e.prototype.list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(24).uint64(e.messageId),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&l.bin_proto.ReactionQuery.Page.encode(e.page,t.uint32(34).fork()).ldelim(),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)l.bin_proto.ReactionObj.encode(e.list[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ReactionQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.channelId=e.string();break;case 3:r.messageId=e.uint64();break;case 4:r.page=l.bin_proto.ReactionQuery.Page.decode(e,e.uint32());break;case 5:r.list&&r.list.length||(r.list=[]),r.list.push(l.bin_proto.ReactionObj.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.messageId&&e.hasOwnProperty("messageId")&&!(c.isInteger(e.messageId)||e.messageId&&c.isInteger(e.messageId.low)&&c.isInteger(e.messageId.high)))return"messageId: integer|Long expected";if(null!=e.page&&e.hasOwnProperty("page")&&(n=l.bin_proto.ReactionQuery.Page.verify(e.page)))return"page."+n;if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n;if(n=l.bin_proto.ReactionObj.verify(e.list[t]))return"list."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.ReactionQuery)return e;var t=new l.bin_proto.ReactionQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.messageId&&(c.Long?(t.messageId=c.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new c.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),null!=e.page){if("object"!=typeof e.page)throw TypeError(".bin_proto.ReactionQuery.page: object expected");t.page=l.bin_proto.ReactionQuery.Page.fromObject(e.page)}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.ReactionQuery.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.ReactionQuery.list: object expected");t.list[n]=l.bin_proto.ReactionObj.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults){if(n.id="",n.channelId="",c.Long){var r=new c.Long(0,0,!0);n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.messageId=t.longs===String?"0":0;n.page=null}if(null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?c.Long.prototype.toString.call(e.messageId):t.longs===Number?new c.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),null!=e.page&&e.hasOwnProperty("page")&&(n.page=l.bin_proto.ReactionQuery.Page.toObject(e.page,t)),e.list&&e.list.length){n.list=[];for(var s=0;s<e.list.length;++s)n.list[s]=l.bin_proto.ReactionObj.toObject(e.list[s],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Page=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.createdAt=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.count=0,e.prototype.complete=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(8).int64(e.createdAt),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(16).int32(e.count),null!=e.complete&&Object.hasOwnProperty.call(e,"complete")&&t.uint32(24).bool(e.complete),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ReactionQuery.Page;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.createdAt=e.int64();break;case 2:r.count=e.int32();break;case 3:r.complete=e.bool();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(c.isInteger(e.createdAt)||e.createdAt&&c.isInteger(e.createdAt.low)&&c.isInteger(e.createdAt.high))?"createdAt: integer|Long expected":null!=e.count&&e.hasOwnProperty("count")&&!c.isInteger(e.count)?"count: integer expected":null!=e.complete&&e.hasOwnProperty("complete")&&"boolean"!=typeof e.complete?"complete: boolean expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.ReactionQuery.Page)return e;var t=new l.bin_proto.ReactionQuery.Page;return null!=e.createdAt&&(c.Long?(t.createdAt=c.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new c.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),null!=e.count&&(t.count=0|e.count),null!=e.complete&&(t.complete=Boolean(e.complete)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.createdAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.createdAt=t.longs===String?"0":0;n.count=0,n.complete=!1}return null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?n.createdAt=t.longs===String?String(e.createdAt):e.createdAt:n.createdAt=t.longs===String?c.Long.prototype.toString.call(e.createdAt):t.longs===Number?new c.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.complete&&e.hasOwnProperty("complete")&&(n.complete=e.complete),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),i.Mention=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.user=null,Object.defineProperty(e.prototype,"data",{get:c.oneOfGetter(t=["user"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&l.bin_proto.User.encode(e.user,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Mention;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.user=l.bin_proto.User.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=l.bin_proto.User.verify(e.user);if(t)return"user."+t}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Mention)return e;var t=new l.bin_proto.Mention;if(null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.Mention.user: object expected");t.user=l.bin_proto.User.fromObject(e.user)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.user&&e.hasOwnProperty("user")&&(n.user=l.bin_proto.User.toObject(e.user,t),t.oneofs&&(n.data="user")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Thread=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.parent=null,e.prototype.messages=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.parent&&Object.hasOwnProperty.call(e,"parent")&&l.bin_proto.MessageObj.encode(e.parent,t.uint32(10).fork()).ldelim(),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)l.bin_proto.MessageObj.encode(e.messages[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Thread;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.parent=l.bin_proto.MessageObj.decode(e,e.uint32());break;case 2:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(l.bin_proto.MessageObj.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.parent&&e.hasOwnProperty("parent")&&(n=l.bin_proto.MessageObj.verify(e.parent)))return"parent."+n;if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n;if(n=l.bin_proto.MessageObj.verify(e.messages[t]))return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Thread)return e;var t=new l.bin_proto.Thread;if(null!=e.parent){if("object"!=typeof e.parent)throw TypeError(".bin_proto.Thread.parent: object expected");t.parent=l.bin_proto.MessageObj.fromObject(e.parent)}if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.Thread.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.Thread.messages: object expected");t.messages[n]=l.bin_proto.MessageObj.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),t.defaults&&(n.parent=null),null!=e.parent&&e.hasOwnProperty("parent")&&(n.parent=l.bin_proto.MessageObj.toObject(e.parent,t)),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=l.bin_proto.MessageObj.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Threads=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)l.bin_proto.Thread.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Threads;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.list&&r.list.length||(r.list=[]),r.list.push(l.bin_proto.Thread.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=l.bin_proto.Thread.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Threads)return e;var t=new l.bin_proto.Threads;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Threads.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Threads.list: object expected");t.list[n]=l.bin_proto.Thread.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=l.bin_proto.Thread.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.MessageObj=function(){function e(e){if(this.attachments=[],this.mentions=[],this.markers={},this.selfMarkers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.from=null,e.prototype.to="",e.prototype.text="",e.prototype.type="",e.prototype.date=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.tid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.receipt=!1,e.prototype.status=0,e.prototype.chStatus=0,e.prototype.attachments=c.emptyArray,e.prototype.metadata="",e.prototype.reaction=null,e.prototype.mentions=c.emptyArray,e.prototype.replyCount=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.updatedAt=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.properties=0,e.prototype.markers=c.emptyObject,e.prototype.cid="",e.prototype.selfMarkers=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint64(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&l.bin_proto.User.encode(e.from,t.uint32(18).fork()).ldelim(),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(26).string(e.to),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(34).string(e.text),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(42).string(e.type),null!=e.date&&Object.hasOwnProperty.call(e,"date")&&t.uint32(48).int64(e.date),null!=e.tid&&Object.hasOwnProperty.call(e,"tid")&&t.uint32(56).int64(e.tid),null!=e.receipt&&Object.hasOwnProperty.call(e,"receipt")&&t.uint32(64).bool(e.receipt),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(72).int32(e.status),null!=e.chStatus&&Object.hasOwnProperty.call(e,"chStatus")&&t.uint32(80).int32(e.chStatus),null!=e.attachments&&e.attachments.length)for(var n=0;n<e.attachments.length;++n)l.bin_proto.Attachment.encode(e.attachments[n],t.uint32(90).fork()).ldelim();if(null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(98).string(e.metadata),null!=e.reaction&&Object.hasOwnProperty.call(e,"reaction")&&l.bin_proto.Reaction.encode(e.reaction,t.uint32(106).fork()).ldelim(),null!=e.mentions&&e.mentions.length)for(n=0;n<e.mentions.length;++n)l.bin_proto.Mention.encode(e.mentions[n],t.uint32(114).fork()).ldelim();if(null!=e.replyCount&&Object.hasOwnProperty.call(e,"replyCount")&&t.uint32(120).int64(e.replyCount),null!=e.updatedAt&&Object.hasOwnProperty.call(e,"updatedAt")&&t.uint32(128).int64(e.updatedAt),null!=e.properties&&Object.hasOwnProperty.call(e,"properties")&&t.uint32(136).int32(e.properties),null!=e.markers&&Object.hasOwnProperty.call(e,"markers")){var r=Object.keys(e.markers);for(n=0;n<r.length;++n)t.uint32(146).fork().uint32(10).string(r[n]).uint32(16).uint64(e.markers[r[n]]).ldelim()}if(null!=e.cid&&Object.hasOwnProperty.call(e,"cid")&&t.uint32(154).string(e.cid),null!=e.selfMarkers&&e.selfMarkers.length)for(n=0;n<e.selfMarkers.length;++n)t.uint32(162).string(e.selfMarkers[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n,r=void 0===t?e.len:e.pos+t,s=new l.bin_proto.MessageObj;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:s.id=e.uint64();break;case 2:s.from=l.bin_proto.User.decode(e,e.uint32());break;case 3:s.to=e.string();break;case 4:s.text=e.string();break;case 5:s.type=e.string();break;case 6:s.date=e.int64();break;case 7:s.tid=e.int64();break;case 8:s.receipt=e.bool();break;case 9:s.status=e.int32();break;case 10:s.chStatus=e.int32();break;case 11:s.attachments&&s.attachments.length||(s.attachments=[]),s.attachments.push(l.bin_proto.Attachment.decode(e,e.uint32()));break;case 12:s.metadata=e.string();break;case 13:s.reaction=l.bin_proto.Reaction.decode(e,e.uint32());break;case 14:s.mentions&&s.mentions.length||(s.mentions=[]),s.mentions.push(l.bin_proto.Mention.decode(e,e.uint32()));break;case 15:s.replyCount=e.int64();break;case 16:s.updatedAt=e.int64();break;case 17:s.properties=e.int32();break;case 18:e.skip().pos++,s.markers===c.emptyObject&&(s.markers={}),n=e.string(),e.pos++,s.markers[n]=e.uint64();break;case 19:s.cid=e.string();break;case 20:s.selfMarkers&&s.selfMarkers.length||(s.selfMarkers=[]),s.selfMarkers.push(e.string());break;default:e.skipType(7&i)}}return s},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(c.isInteger(e.id)||e.id&&c.isInteger(e.id.low)&&c.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")&&(n=l.bin_proto.User.verify(e.from)))return"from."+n;if(null!=e.to&&e.hasOwnProperty("to")&&!c.isString(e.to))return"to: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!c.isString(e.text))return"text: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!c.isString(e.type))return"type: string expected";if(null!=e.date&&e.hasOwnProperty("date")&&!(c.isInteger(e.date)||e.date&&c.isInteger(e.date.low)&&c.isInteger(e.date.high)))return"date: integer|Long expected";if(null!=e.tid&&e.hasOwnProperty("tid")&&!(c.isInteger(e.tid)||e.tid&&c.isInteger(e.tid.low)&&c.isInteger(e.tid.high)))return"tid: integer|Long expected";if(null!=e.receipt&&e.hasOwnProperty("receipt")&&"boolean"!=typeof e.receipt)return"receipt: boolean expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.chStatus&&e.hasOwnProperty("chStatus"))switch(e.chStatus){default:return"chStatus: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.attachments&&e.hasOwnProperty("attachments")){if(!Array.isArray(e.attachments))return"attachments: array expected";for(var t=0;t<e.attachments.length;++t)if(n=l.bin_proto.Attachment.verify(e.attachments[t]))return"attachments."+n}if(null!=e.metadata&&e.hasOwnProperty("metadata")&&!c.isString(e.metadata))return"metadata: string expected";if(null!=e.reaction&&e.hasOwnProperty("reaction")&&(n=l.bin_proto.Reaction.verify(e.reaction)))return"reaction."+n;if(null!=e.mentions&&e.hasOwnProperty("mentions")){if(!Array.isArray(e.mentions))return"mentions: array expected";for(t=0;t<e.mentions.length;++t){var n;if(n=l.bin_proto.Mention.verify(e.mentions[t]))return"mentions."+n}}if(null!=e.replyCount&&e.hasOwnProperty("replyCount")&&!(c.isInteger(e.replyCount)||e.replyCount&&c.isInteger(e.replyCount.low)&&c.isInteger(e.replyCount.high)))return"replyCount: integer|Long expected";if(null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&!(c.isInteger(e.updatedAt)||e.updatedAt&&c.isInteger(e.updatedAt.low)&&c.isInteger(e.updatedAt.high)))return"updatedAt: integer|Long expected";if(null!=e.properties&&e.hasOwnProperty("properties")&&!c.isInteger(e.properties))return"properties: integer expected";if(null!=e.markers&&e.hasOwnProperty("markers")){if(!c.isObject(e.markers))return"markers: object expected";var r=Object.keys(e.markers);for(t=0;t<r.length;++t)if(!(c.isInteger(e.markers[r[t]])||e.markers[r[t]]&&c.isInteger(e.markers[r[t]].low)&&c.isInteger(e.markers[r[t]].high)))return"markers: integer|Long{k:string} expected"}if(null!=e.cid&&e.hasOwnProperty("cid")&&!c.isString(e.cid))return"cid: string expected";if(null!=e.selfMarkers&&e.hasOwnProperty("selfMarkers")){if(!Array.isArray(e.selfMarkers))return"selfMarkers: array expected";for(t=0;t<e.selfMarkers.length;++t)if(!c.isString(e.selfMarkers[t]))return"selfMarkers: string[] expected"}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageObj)return e;var t=new l.bin_proto.MessageObj;if(null!=e.id&&(c.Long?(t.id=c.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.MessageObj.from: object expected");t.from=l.bin_proto.User.fromObject(e.from)}switch(null!=e.to&&(t.to=String(e.to)),null!=e.text&&(t.text=String(e.text)),null!=e.type&&(t.type=String(e.type)),null!=e.date&&(c.Long?(t.date=c.Long.fromValue(e.date)).unsigned=!1:"string"==typeof e.date?t.date=parseInt(e.date,10):"number"==typeof e.date?t.date=e.date:"object"==typeof e.date&&(t.date=new c.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber())),null!=e.tid&&(c.Long?(t.tid=c.Long.fromValue(e.tid)).unsigned=!1:"string"==typeof e.tid?t.tid=parseInt(e.tid,10):"number"==typeof e.tid?t.tid=e.tid:"object"==typeof e.tid&&(t.tid=new c.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber())),null!=e.receipt&&(t.receipt=Boolean(e.receipt)),e.status){case"NONE":case 0:t.status=0;break;case"SERVER":case 1:t.status=1;break;case"DELIVERED":case 2:t.status=2;break;case"READ":case 3:t.status=3}switch(e.chStatus){case"NORMAL":case 0:t.chStatus=0;break;case"EDIT":case 1:t.chStatus=1;break;case"DELETE":case 2:t.chStatus=2;break;case"COMPOSING":case 3:t.chStatus=3;break;case"PAUSED":case 4:t.chStatus=4;break;case"DELETE_FOR_ME":case 5:t.chStatus=5}if(e.attachments){if(!Array.isArray(e.attachments))throw TypeError(".bin_proto.MessageObj.attachments: array expected");t.attachments=[];for(var n=0;n<e.attachments.length;++n){if("object"!=typeof e.attachments[n])throw TypeError(".bin_proto.MessageObj.attachments: object expected");t.attachments[n]=l.bin_proto.Attachment.fromObject(e.attachments[n])}}if(null!=e.metadata&&(t.metadata=String(e.metadata)),null!=e.reaction){if("object"!=typeof e.reaction)throw TypeError(".bin_proto.MessageObj.reaction: object expected");t.reaction=l.bin_proto.Reaction.fromObject(e.reaction)}if(e.mentions){if(!Array.isArray(e.mentions))throw TypeError(".bin_proto.MessageObj.mentions: array expected");for(t.mentions=[],n=0;n<e.mentions.length;++n){if("object"!=typeof e.mentions[n])throw TypeError(".bin_proto.MessageObj.mentions: object expected");t.mentions[n]=l.bin_proto.Mention.fromObject(e.mentions[n])}}if(null!=e.replyCount&&(c.Long?(t.replyCount=c.Long.fromValue(e.replyCount)).unsigned=!1:"string"==typeof e.replyCount?t.replyCount=parseInt(e.replyCount,10):"number"==typeof e.replyCount?t.replyCount=e.replyCount:"object"==typeof e.replyCount&&(t.replyCount=new c.LongBits(e.replyCount.low>>>0,e.replyCount.high>>>0).toNumber())),null!=e.updatedAt&&(c.Long?(t.updatedAt=c.Long.fromValue(e.updatedAt)).unsigned=!1:"string"==typeof e.updatedAt?t.updatedAt=parseInt(e.updatedAt,10):"number"==typeof e.updatedAt?t.updatedAt=e.updatedAt:"object"==typeof e.updatedAt&&(t.updatedAt=new c.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber())),null!=e.properties&&(t.properties=0|e.properties),e.markers){if("object"!=typeof e.markers)throw TypeError(".bin_proto.MessageObj.markers: object expected");t.markers={};var r=Object.keys(e.markers);for(n=0;n<r.length;++n)c.Long?(t.markers[r[n]]=c.Long.fromValue(e.markers[r[n]])).unsigned=!0:"string"==typeof e.markers[r[n]]?t.markers[r[n]]=parseInt(e.markers[r[n]],10):"number"==typeof e.markers[r[n]]?t.markers[r[n]]=e.markers[r[n]]:"object"==typeof e.markers[r[n]]&&(t.markers[r[n]]=new c.LongBits(e.markers[r[n]].low>>>0,e.markers[r[n]].high>>>0).toNumber(!0))}if(null!=e.cid&&(t.cid=String(e.cid)),e.selfMarkers){if(!Array.isArray(e.selfMarkers))throw TypeError(".bin_proto.MessageObj.selfMarkers: array expected");for(t.selfMarkers=[],n=0;n<e.selfMarkers.length;++n)t.selfMarkers[n]=String(e.selfMarkers[n])}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.attachments=[],r.mentions=[],r.selfMarkers=[]),(t.objects||t.defaults)&&(r.markers={}),t.defaults){if(c.Long){var s=new c.Long(0,0,!0);r.id=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else r.id=t.longs===String?"0":0;r.from=null,r.to="",r.text="",r.type="",c.Long?(s=new c.Long(0,0,!1),r.date=t.longs===String?s.toString():t.longs===Number?s.toNumber():s):r.date=t.longs===String?"0":0,c.Long?(s=new c.Long(0,0,!1),r.tid=t.longs===String?s.toString():t.longs===Number?s.toNumber():s):r.tid=t.longs===String?"0":0,r.receipt=!1,r.status=t.enums===String?"NONE":0,r.chStatus=t.enums===String?"NORMAL":0,r.metadata="",r.reaction=null,c.Long?(s=new c.Long(0,0,!1),r.replyCount=t.longs===String?s.toString():t.longs===Number?s.toNumber():s):r.replyCount=t.longs===String?"0":0,c.Long?(s=new c.Long(0,0,!1),r.updatedAt=t.longs===String?s.toString():t.longs===Number?s.toNumber():s):r.updatedAt=t.longs===String?"0":0,r.properties=0,r.cid=""}if(null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?c.Long.prototype.toString.call(e.id):t.longs===Number?new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.from&&e.hasOwnProperty("from")&&(r.from=l.bin_proto.User.toObject(e.from,t)),null!=e.to&&e.hasOwnProperty("to")&&(r.to=e.to),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.date&&e.hasOwnProperty("date")&&("number"==typeof e.date?r.date=t.longs===String?String(e.date):e.date:r.date=t.longs===String?c.Long.prototype.toString.call(e.date):t.longs===Number?new c.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber():e.date),null!=e.tid&&e.hasOwnProperty("tid")&&("number"==typeof e.tid?r.tid=t.longs===String?String(e.tid):e.tid:r.tid=t.longs===String?c.Long.prototype.toString.call(e.tid):t.longs===Number?new c.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber():e.tid),null!=e.receipt&&e.hasOwnProperty("receipt")&&(r.receipt=e.receipt),null!=e.status&&e.hasOwnProperty("status")&&(r.status=t.enums===String?l.bin_proto.MessageObj.DeliveryStatus[e.status]:e.status),null!=e.chStatus&&e.hasOwnProperty("chStatus")&&(r.chStatus=t.enums===String?l.bin_proto.MessageObj.UpdateStatus[e.chStatus]:e.chStatus),e.attachments&&e.attachments.length){r.attachments=[];for(var i=0;i<e.attachments.length;++i)r.attachments[i]=l.bin_proto.Attachment.toObject(e.attachments[i],t)}if(null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=e.metadata),null!=e.reaction&&e.hasOwnProperty("reaction")&&(r.reaction=l.bin_proto.Reaction.toObject(e.reaction,t)),e.mentions&&e.mentions.length)for(r.mentions=[],i=0;i<e.mentions.length;++i)r.mentions[i]=l.bin_proto.Mention.toObject(e.mentions[i],t);if(null!=e.replyCount&&e.hasOwnProperty("replyCount")&&("number"==typeof e.replyCount?r.replyCount=t.longs===String?String(e.replyCount):e.replyCount:r.replyCount=t.longs===String?c.Long.prototype.toString.call(e.replyCount):t.longs===Number?new c.LongBits(e.replyCount.low>>>0,e.replyCount.high>>>0).toNumber():e.replyCount),null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&("number"==typeof e.updatedAt?r.updatedAt=t.longs===String?String(e.updatedAt):e.updatedAt:r.updatedAt=t.longs===String?c.Long.prototype.toString.call(e.updatedAt):t.longs===Number?new c.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber():e.updatedAt),null!=e.properties&&e.hasOwnProperty("properties")&&(r.properties=e.properties),e.markers&&(n=Object.keys(e.markers)).length)for(r.markers={},i=0;i<n.length;++i)"number"==typeof e.markers[n[i]]?r.markers[n[i]]=t.longs===String?String(e.markers[n[i]]):e.markers[n[i]]:r.markers[n[i]]=t.longs===String?c.Long.prototype.toString.call(e.markers[n[i]]):t.longs===Number?new c.LongBits(e.markers[n[i]].low>>>0,e.markers[n[i]].high>>>0).toNumber(!0):e.markers[n[i]];if(null!=e.cid&&e.hasOwnProperty("cid")&&(r.cid=e.cid),e.selfMarkers&&e.selfMarkers.length)for(r.selfMarkers=[],i=0;i<e.selfMarkers.length;++i)r.selfMarkers[i]=e.selfMarkers[i];return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.DeliveryStatus=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="SERVER"]=1,t[e[2]="DELIVERED"]=2,t[e[3]="READ"]=3,t}(),e.UpdateStatus=function(){var e={},t=Object.create(e);return t[e[0]="NORMAL"]=0,t[e[1]="EDIT"]=1,t[e[2]="DELETE"]=2,t[e[3]="COMPOSING"]=3,t[e[4]="PAUSED"]=4,t[e[5]="DELETE_FOR_ME"]=5,t}(),e}(),i.Message=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.message=null,e.prototype.parent=null,e.prototype.replyInThread=!1,e.prototype.direct=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&l.bin_proto.MessageObj.encode(e.message,t.uint32(10).fork()).ldelim(),null!=e.parent&&Object.hasOwnProperty.call(e,"parent")&&l.bin_proto.MessageObj.encode(e.parent,t.uint32(18).fork()).ldelim(),null!=e.replyInThread&&Object.hasOwnProperty.call(e,"replyInThread")&&t.uint32(24).bool(e.replyInThread),null!=e.direct&&Object.hasOwnProperty.call(e,"direct")&&t.uint32(32).bool(e.direct),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Message;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.message=l.bin_proto.MessageObj.decode(e,e.uint32());break;case 2:r.parent=l.bin_proto.MessageObj.decode(e,e.uint32());break;case 3:r.replyInThread=e.bool();break;case 4:r.direct=e.bool();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&(t=l.bin_proto.MessageObj.verify(e.message))?"message."+t:null!=e.parent&&e.hasOwnProperty("parent")&&(t=l.bin_proto.MessageObj.verify(e.parent))?"parent."+t:null!=e.replyInThread&&e.hasOwnProperty("replyInThread")&&"boolean"!=typeof e.replyInThread?"replyInThread: boolean expected":null!=e.direct&&e.hasOwnProperty("direct")&&"boolean"!=typeof e.direct?"direct: boolean expected":null;var t},e.fromObject=function(e){if(e instanceof l.bin_proto.Message)return e;var t=new l.bin_proto.Message;if(null!=e.message){if("object"!=typeof e.message)throw TypeError(".bin_proto.Message.message: object expected");t.message=l.bin_proto.MessageObj.fromObject(e.message)}if(null!=e.parent){if("object"!=typeof e.parent)throw TypeError(".bin_proto.Message.parent: object expected");t.parent=l.bin_proto.MessageObj.fromObject(e.parent)}return null!=e.replyInThread&&(t.replyInThread=Boolean(e.replyInThread)),null!=e.direct&&(t.direct=Boolean(e.direct)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.message=null,n.parent=null,n.replyInThread=!1,n.direct=!1),null!=e.message&&e.hasOwnProperty("message")&&(n.message=l.bin_proto.MessageObj.toObject(e.message,t)),null!=e.parent&&e.hasOwnProperty("parent")&&(n.parent=l.bin_proto.MessageObj.toObject(e.parent,t)),null!=e.replyInThread&&e.hasOwnProperty("replyInThread")&&(n.replyInThread=e.replyInThread),null!=e.direct&&e.hasOwnProperty("direct")&&(n.direct=e.direct),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.SystemMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.from="",e.prototype.to="",e.prototype.text="",e.prototype.date=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.unreadCount=null,Object.defineProperty(e.prototype,"data",{get:c.oneOfGetter(t=["unreadCount"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint64(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(18).string(e.from),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(26).string(e.to),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(34).string(e.text),null!=e.date&&Object.hasOwnProperty.call(e,"date")&&t.uint32(40).int64(e.date),null!=e.unreadCount&&Object.hasOwnProperty.call(e,"unreadCount")&&l.bin_proto.UnreadCount.encode(e.unreadCount,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.SystemMessage;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.uint64();break;case 2:r.from=e.string();break;case 3:r.to=e.string();break;case 4:r.text=e.string();break;case 5:r.date=e.int64();break;case 6:r.unreadCount=l.bin_proto.UnreadCount.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(c.isInteger(e.id)||e.id&&c.isInteger(e.id.low)&&c.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")&&!c.isString(e.from))return"from: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!c.isString(e.to))return"to: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!c.isString(e.text))return"text: string expected";if(null!=e.date&&e.hasOwnProperty("date")&&!(c.isInteger(e.date)||e.date&&c.isInteger(e.date.low)&&c.isInteger(e.date.high)))return"date: integer|Long expected";if(null!=e.unreadCount&&e.hasOwnProperty("unreadCount")){var t=l.bin_proto.UnreadCount.verify(e.unreadCount);if(t)return"unreadCount."+t}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.SystemMessage)return e;var t=new l.bin_proto.SystemMessage;if(null!=e.id&&(c.Long?(t.id=c.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.from&&(t.from=String(e.from)),null!=e.to&&(t.to=String(e.to)),null!=e.text&&(t.text=String(e.text)),null!=e.date&&(c.Long?(t.date=c.Long.fromValue(e.date)).unsigned=!1:"string"==typeof e.date?t.date=parseInt(e.date,10):"number"==typeof e.date?t.date=e.date:"object"==typeof e.date&&(t.date=new c.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber())),null!=e.unreadCount){if("object"!=typeof e.unreadCount)throw TypeError(".bin_proto.SystemMessage.unreadCount: object expected");t.unreadCount=l.bin_proto.UnreadCount.fromObject(e.unreadCount)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.from="",n.to="",n.text="",c.Long?(r=new c.Long(0,0,!1),n.date=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.date=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?c.Long.prototype.toString.call(e.id):t.longs===Number?new c.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),null!=e.date&&e.hasOwnProperty("date")&&("number"==typeof e.date?n.date=t.longs===String?String(e.date):e.date:n.date=t.longs===String?c.Long.prototype.toString.call(e.date):t.longs===Number?new c.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber():e.date),null!=e.unreadCount&&e.hasOwnProperty("unreadCount")&&(n.unreadCount=l.bin_proto.UnreadCount.toObject(e.unreadCount,t),t.oneofs&&(n.data="unreadCount")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.UnreadCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.totalUnread=0,e.prototype.channelUnreadCount=0,e.prototype.unreadChannels=0,e.prototype.channelUnreadFlag=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.totalUnread&&Object.hasOwnProperty.call(e,"totalUnread")&&t.uint32(8).int32(e.totalUnread),null!=e.channelUnreadCount&&Object.hasOwnProperty.call(e,"channelUnreadCount")&&t.uint32(16).int32(e.channelUnreadCount),null!=e.unreadChannels&&Object.hasOwnProperty.call(e,"unreadChannels")&&t.uint32(24).int32(e.unreadChannels),null!=e.channelUnreadFlag&&Object.hasOwnProperty.call(e,"channelUnreadFlag")&&t.uint32(32).bool(e.channelUnreadFlag),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.UnreadCount;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.totalUnread=e.int32();break;case 2:r.channelUnreadCount=e.int32();break;case 3:r.unreadChannels=e.int32();break;case 4:r.channelUnreadFlag=e.bool();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&!c.isInteger(e.totalUnread)?"totalUnread: integer expected":null!=e.channelUnreadCount&&e.hasOwnProperty("channelUnreadCount")&&!c.isInteger(e.channelUnreadCount)?"channelUnreadCount: integer expected":null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&!c.isInteger(e.unreadChannels)?"unreadChannels: integer expected":null!=e.channelUnreadFlag&&e.hasOwnProperty("channelUnreadFlag")&&"boolean"!=typeof e.channelUnreadFlag?"channelUnreadFlag: boolean expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.UnreadCount)return e;var t=new l.bin_proto.UnreadCount;return null!=e.totalUnread&&(t.totalUnread=0|e.totalUnread),null!=e.channelUnreadCount&&(t.channelUnreadCount=0|e.channelUnreadCount),null!=e.unreadChannels&&(t.unreadChannels=0|e.unreadChannels),null!=e.channelUnreadFlag&&(t.channelUnreadFlag=Boolean(e.channelUnreadFlag)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.totalUnread=0,n.channelUnreadCount=0,n.unreadChannels=0,n.channelUnreadFlag=!1),null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&(n.totalUnread=e.totalUnread),null!=e.channelUnreadCount&&e.hasOwnProperty("channelUnreadCount")&&(n.channelUnreadCount=e.channelUnreadCount),null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&(n.unreadChannels=e.unreadChannels),null!=e.channelUnreadFlag&&e.hasOwnProperty("channelUnreadFlag")&&(n.channelUnreadFlag=e.channelUnreadFlag),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.MessageMarkerStatus=function(){function e(e){if(this.ids=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ids=c.emptyArray,e.prototype.marker="",e.prototype.channelId="",e.prototype.tid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.from=null,e.prototype.time=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.ids&&e.ids.length){t.uint32(10).fork();for(var n=0;n<e.ids.length;++n)t.uint64(e.ids[n]);t.ldelim()}return null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(18).string(e.marker),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(26).string(e.channelId),null!=e.tid&&Object.hasOwnProperty.call(e,"tid")&&t.uint32(32).int64(e.tid),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&l.bin_proto.User.encode(e.from,t.uint32(42).fork()).ldelim(),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(48).uint64(e.time),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageMarkerStatus;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:if(r.ids&&r.ids.length||(r.ids=[]),2==(7&s))for(var i=e.uint32()+e.pos;e.pos<i;)r.ids.push(e.uint64());else r.ids.push(e.uint64());break;case 2:r.marker=e.string();break;case 3:r.channelId=e.string();break;case 4:r.tid=e.int64();break;case 5:r.from=l.bin_proto.User.decode(e,e.uint32());break;case 6:r.time=e.uint64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ids&&e.hasOwnProperty("ids")){if(!Array.isArray(e.ids))return"ids: array expected";for(var t=0;t<e.ids.length;++t)if(!(c.isInteger(e.ids[t])||e.ids[t]&&c.isInteger(e.ids[t].low)&&c.isInteger(e.ids[t].high)))return"ids: integer|Long[] expected"}if(null!=e.marker&&e.hasOwnProperty("marker")&&!c.isString(e.marker))return"marker: string expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.tid&&e.hasOwnProperty("tid")&&!(c.isInteger(e.tid)||e.tid&&c.isInteger(e.tid.low)&&c.isInteger(e.tid.high)))return"tid: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")){var n=l.bin_proto.User.verify(e.from);if(n)return"from."+n}return null!=e.time&&e.hasOwnProperty("time")&&!(c.isInteger(e.time)||e.time&&c.isInteger(e.time.low)&&c.isInteger(e.time.high))?"time: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageMarkerStatus)return e;var t=new l.bin_proto.MessageMarkerStatus;if(e.ids){if(!Array.isArray(e.ids))throw TypeError(".bin_proto.MessageMarkerStatus.ids: array expected");t.ids=[];for(var n=0;n<e.ids.length;++n)c.Long?(t.ids[n]=c.Long.fromValue(e.ids[n])).unsigned=!0:"string"==typeof e.ids[n]?t.ids[n]=parseInt(e.ids[n],10):"number"==typeof e.ids[n]?t.ids[n]=e.ids[n]:"object"==typeof e.ids[n]&&(t.ids[n]=new c.LongBits(e.ids[n].low>>>0,e.ids[n].high>>>0).toNumber(!0))}if(null!=e.marker&&(t.marker=String(e.marker)),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.tid&&(c.Long?(t.tid=c.Long.fromValue(e.tid)).unsigned=!1:"string"==typeof e.tid?t.tid=parseInt(e.tid,10):"number"==typeof e.tid?t.tid=e.tid:"object"==typeof e.tid&&(t.tid=new c.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber())),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.MessageMarkerStatus.from: object expected");t.from=l.bin_proto.User.fromObject(e.from)}return null!=e.time&&(c.Long?(t.time=c.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new c.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.ids=[]),t.defaults){if(n.marker="",n.channelId="",c.Long){var r=new c.Long(0,0,!1);n.tid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.tid=t.longs===String?"0":0;n.from=null,c.Long?(r=new c.Long(0,0,!0),n.time=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.time=t.longs===String?"0":0}if(e.ids&&e.ids.length){n.ids=[];for(var s=0;s<e.ids.length;++s)"number"==typeof e.ids[s]?n.ids[s]=t.longs===String?String(e.ids[s]):e.ids[s]:n.ids[s]=t.longs===String?c.Long.prototype.toString.call(e.ids[s]):t.longs===Number?new c.LongBits(e.ids[s].low>>>0,e.ids[s].high>>>0).toNumber(!0):e.ids[s]}return null!=e.marker&&e.hasOwnProperty("marker")&&(n.marker=e.marker),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.tid&&e.hasOwnProperty("tid")&&("number"==typeof e.tid?n.tid=t.longs===String?String(e.tid):e.tid:n.tid=t.longs===String?c.Long.prototype.toString.call(e.tid):t.longs===Number?new c.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber():e.tid),null!=e.from&&e.hasOwnProperty("from")&&(n.from=l.bin_proto.User.toObject(e.from,t)),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?c.Long.prototype.toString.call(e.time):t.longs===Number?new c.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Messages=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)l.bin_proto.Message.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Messages;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.list&&r.list.length||(r.list=[]),r.list.push(l.bin_proto.Message.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=l.bin_proto.Message.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Messages)return e;var t=new l.bin_proto.Messages;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Messages.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Messages.list: object expected");t.list[n]=l.bin_proto.Message.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=l.bin_proto.Message.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Attachments=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)l.bin_proto.Attachment.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Attachments;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.list&&r.list.length||(r.list=[]),r.list.push(l.bin_proto.Attachment.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=l.bin_proto.Attachment.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.Attachments)return e;var t=new l.bin_proto.Attachments;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Attachments.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Attachments.list: object expected");t.list[n]=l.bin_proto.Attachment.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=l.bin_proto.Attachment.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.MessageEvent=function(){var e={},t=Object.create(e);return t[e[0]="SEARCH"]=0,t[e[1]="UPDATE"]=1,t[e[2]="ADD_REACTION"]=2,t[e[3]="DELETE_REACTION"]=3,t[e[4]="UPDATE_REACTION"]=4,t[e[5]="ATTACHMENTS"]=5,t[e[6]="REACTIONS"]=6,t[e[7]="THREADS"]=7,t[e[8]="SEARCH_IN_THREAD"]=8,t}(),i.MessageQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id="",e.prototype.event=0,e.prototype.channelId="",e.prototype.search=null,e.prototype.messages=null,e.prototype.attachments=null,e.prototype.threads=null,Object.defineProperty(e.prototype,"data",{get:c.oneOfGetter(t=["messages","attachments","threads"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(16).int32(e.event),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(26).string(e.channelId),null!=e.search&&Object.hasOwnProperty.call(e,"search")&&l.bin_proto.MessageQuery.SearchOpts.encode(e.search,t.uint32(34).fork()).ldelim(),null!=e.messages&&Object.hasOwnProperty.call(e,"messages")&&l.bin_proto.Messages.encode(e.messages,t.uint32(42).fork()).ldelim(),null!=e.attachments&&Object.hasOwnProperty.call(e,"attachments")&&l.bin_proto.Attachments.encode(e.attachments,t.uint32(50).fork()).ldelim(),null!=e.threads&&Object.hasOwnProperty.call(e,"threads")&&l.bin_proto.Threads.encode(e.threads,t.uint32(58).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.event=e.int32();break;case 3:r.channelId=e.string();break;case 4:r.search=l.bin_proto.MessageQuery.SearchOpts.decode(e,e.uint32());break;case 5:r.messages=l.bin_proto.Messages.decode(e,e.uint32());break;case 6:r.attachments=l.bin_proto.Attachments.decode(e,e.uint32());break;case 7:r.threads=l.bin_proto.Threads.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.event&&e.hasOwnProperty("event"))switch(e.event){default:return"event: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.search&&e.hasOwnProperty("search")&&(n=l.bin_proto.MessageQuery.SearchOpts.verify(e.search)))return"search."+n;if(null!=e.messages&&e.hasOwnProperty("messages")&&(t.data=1,n=l.bin_proto.Messages.verify(e.messages)))return"messages."+n;if(null!=e.attachments&&e.hasOwnProperty("attachments")){if(1===t.data)return"data: multiple values";if(t.data=1,n=l.bin_proto.Attachments.verify(e.attachments))return"attachments."+n}if(null!=e.threads&&e.hasOwnProperty("threads")){if(1===t.data)return"data: multiple values";var n;if(t.data=1,n=l.bin_proto.Threads.verify(e.threads))return"threads."+n}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageQuery)return e;var t=new l.bin_proto.MessageQuery;switch(null!=e.id&&(t.id=String(e.id)),e.event){case"SEARCH":case 0:t.event=0;break;case"UPDATE":case 1:t.event=1;break;case"ADD_REACTION":case 2:t.event=2;break;case"DELETE_REACTION":case 3:t.event=3;break;case"UPDATE_REACTION":case 4:t.event=4;break;case"ATTACHMENTS":case 5:t.event=5;break;case"REACTIONS":case 6:t.event=6;break;case"THREADS":case 7:t.event=7;break;case"SEARCH_IN_THREAD":case 8:t.event=8}if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.search){if("object"!=typeof e.search)throw TypeError(".bin_proto.MessageQuery.search: object expected");t.search=l.bin_proto.MessageQuery.SearchOpts.fromObject(e.search)}if(null!=e.messages){if("object"!=typeof e.messages)throw TypeError(".bin_proto.MessageQuery.messages: object expected");t.messages=l.bin_proto.Messages.fromObject(e.messages)}if(null!=e.attachments){if("object"!=typeof e.attachments)throw TypeError(".bin_proto.MessageQuery.attachments: object expected");t.attachments=l.bin_proto.Attachments.fromObject(e.attachments)}if(null!=e.threads){if("object"!=typeof e.threads)throw TypeError(".bin_proto.MessageQuery.threads: object expected");t.threads=l.bin_proto.Threads.fromObject(e.threads)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.event=t.enums===String?"SEARCH":0,n.channelId="",n.search=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.event&&e.hasOwnProperty("event")&&(n.event=t.enums===String?l.bin_proto.MessageEvent[e.event]:e.event),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.search&&e.hasOwnProperty("search")&&(n.search=l.bin_proto.MessageQuery.SearchOpts.toObject(e.search,t)),null!=e.messages&&e.hasOwnProperty("messages")&&(n.messages=l.bin_proto.Messages.toObject(e.messages,t),t.oneofs&&(n.data="messages")),null!=e.attachments&&e.hasOwnProperty("attachments")&&(n.attachments=l.bin_proto.Attachments.toObject(e.attachments,t),t.oneofs&&(n.data="attachments")),null!=e.threads&&e.hasOwnProperty("threads")&&(n.threads=l.bin_proto.Threads.toObject(e.threads,t),t.oneofs&&(n.data="threads")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Direction=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="NEXT"]=1,t[e[2]="PREVIOUS"]=2,t[e[3]="NEAR"]=3,t}(),e.SearchOpts=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.count=0,e.prototype.direction=0,e.prototype.complete=!1,e.prototype.msgId=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.timestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.type="",Object.defineProperty(e.prototype,"sortby",{get:c.oneOfGetter(t=["msgId","timestamp"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(8).int32(e.count),null!=e.direction&&Object.hasOwnProperty.call(e,"direction")&&t.uint32(16).int32(e.direction),null!=e.complete&&Object.hasOwnProperty.call(e,"complete")&&t.uint32(24).bool(e.complete),null!=e.msgId&&Object.hasOwnProperty.call(e,"msgId")&&t.uint32(32).uint64(e.msgId),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(40).int64(e.timestamp),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageQuery.SearchOpts;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.count=e.int32();break;case 2:r.direction=e.int32();break;case 3:r.complete=e.bool();break;case 4:r.msgId=e.uint64();break;case 5:r.timestamp=e.int64();break;case 6:r.type=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.count&&e.hasOwnProperty("count")&&!c.isInteger(e.count))return"count: integer expected";if(null!=e.direction&&e.hasOwnProperty("direction"))switch(e.direction){default:return"direction: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.complete&&e.hasOwnProperty("complete")&&"boolean"!=typeof e.complete)return"complete: boolean expected";if(null!=e.msgId&&e.hasOwnProperty("msgId")&&(t.sortby=1,!(c.isInteger(e.msgId)||e.msgId&&c.isInteger(e.msgId.low)&&c.isInteger(e.msgId.high))))return"msgId: integer|Long expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){if(1===t.sortby)return"sortby: multiple values";if(t.sortby=1,!(c.isInteger(e.timestamp)||e.timestamp&&c.isInteger(e.timestamp.low)&&c.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected"}return null!=e.type&&e.hasOwnProperty("type")&&!c.isString(e.type)?"type: string expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageQuery.SearchOpts)return e;var t=new l.bin_proto.MessageQuery.SearchOpts;switch(null!=e.count&&(t.count=0|e.count),e.direction){case"NONE":case 0:t.direction=0;break;case"NEXT":case 1:t.direction=1;break;case"PREVIOUS":case 2:t.direction=2;break;case"NEAR":case 3:t.direction=3}return null!=e.complete&&(t.complete=Boolean(e.complete)),null!=e.msgId&&(c.Long?(t.msgId=c.Long.fromValue(e.msgId)).unsigned=!0:"string"==typeof e.msgId?t.msgId=parseInt(e.msgId,10):"number"==typeof e.msgId?t.msgId=e.msgId:"object"==typeof e.msgId&&(t.msgId=new c.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber(!0))),null!=e.timestamp&&(c.Long?(t.timestamp=c.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new c.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),null!=e.type&&(t.type=String(e.type)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.count=0,n.direction=t.enums===String?"NONE":0,n.complete=!1,n.type=""),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.direction&&e.hasOwnProperty("direction")&&(n.direction=t.enums===String?l.bin_proto.MessageQuery.Direction[e.direction]:e.direction),null!=e.complete&&e.hasOwnProperty("complete")&&(n.complete=e.complete),null!=e.msgId&&e.hasOwnProperty("msgId")&&("number"==typeof e.msgId?n.msgId=t.longs===String?String(e.msgId):e.msgId:n.msgId=t.longs===String?c.Long.prototype.toString.call(e.msgId):t.longs===Number?new c.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber(!0):e.msgId,t.oneofs&&(n.sortby="msgId")),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?n.timestamp=t.longs===String?String(e.timestamp):e.timestamp:n.timestamp=t.longs===String?c.Long.prototype.toString.call(e.timestamp):t.longs===Number?new c.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp,t.oneofs&&(n.sortby="timestamp")),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),i.MessageAction=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.from=null,e.prototype.event=0,e.prototype.messages=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&l.bin_proto.User.encode(e.from,t.uint32(18).fork()).ldelim(),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(24).int32(e.event),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)l.bin_proto.Message.encode(e.messages[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageAction;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.from=l.bin_proto.User.decode(e,e.uint32());break;case 3:r.event=e.int32();break;case 4:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(l.bin_proto.Message.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.from&&e.hasOwnProperty("from")&&(n=l.bin_proto.User.verify(e.from)))return"from."+n;if(null!=e.event&&e.hasOwnProperty("event"))switch(e.event){default:return"event: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n;if(n=l.bin_proto.Message.verify(e.messages[t]))return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageAction)return e;var t=new l.bin_proto.MessageAction;if(null!=e.id&&(t.id=String(e.id)),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.MessageAction.from: object expected");t.from=l.bin_proto.User.fromObject(e.from)}switch(e.event){case"SEARCH":case 0:t.event=0;break;case"UPDATE":case 1:t.event=1;break;case"ADD_REACTION":case 2:t.event=2;break;case"DELETE_REACTION":case 3:t.event=3;break;case"UPDATE_REACTION":case 4:t.event=4;break;case"ATTACHMENTS":case 5:t.event=5;break;case"REACTIONS":case 6:t.event=6;break;case"THREADS":case 7:t.event=7;break;case"SEARCH_IN_THREAD":case 8:t.event=8}if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.MessageAction.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.MessageAction.messages: object expected");t.messages[n]=l.bin_proto.Message.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),t.defaults&&(n.id="",n.from=null,n.event=t.enums===String?"SEARCH":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=l.bin_proto.User.toObject(e.from,t)),null!=e.event&&e.hasOwnProperty("event")&&(n.event=t.enums===String?l.bin_proto.MessageEvent[e.event]:e.event),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=l.bin_proto.Message.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.MessageMarkerQuery=function(){function e(e){if(this.msgIds=[],this.markers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.channelId="",e.prototype.start=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.limit=0,e.prototype.msgIds=c.emptyArray,e.prototype.markers=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(24).uint64(e.start),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(32).int32(e.limit),null!=e.msgIds&&e.msgIds.length){t.uint32(42).fork();for(var n=0;n<e.msgIds.length;++n)t.uint64(e.msgIds[n]);t.ldelim()}if(null!=e.markers&&e.markers.length)for(n=0;n<e.markers.length;++n)t.uint32(50).string(e.markers[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageMarkerQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.channelId=e.string();break;case 3:r.start=e.uint64();break;case 4:r.limit=e.int32();break;case 5:if(r.msgIds&&r.msgIds.length||(r.msgIds=[]),2==(7&s))for(var i=e.uint32()+e.pos;e.pos<i;)r.msgIds.push(e.uint64());else r.msgIds.push(e.uint64());break;case 6:r.markers&&r.markers.length||(r.markers=[]),r.markers.push(e.string());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.start&&e.hasOwnProperty("start")&&!(c.isInteger(e.start)||e.start&&c.isInteger(e.start.low)&&c.isInteger(e.start.high)))return"start: integer|Long expected";if(null!=e.limit&&e.hasOwnProperty("limit")&&!c.isInteger(e.limit))return"limit: integer expected";if(null!=e.msgIds&&e.hasOwnProperty("msgIds")){if(!Array.isArray(e.msgIds))return"msgIds: array expected";for(var t=0;t<e.msgIds.length;++t)if(!(c.isInteger(e.msgIds[t])||e.msgIds[t]&&c.isInteger(e.msgIds[t].low)&&c.isInteger(e.msgIds[t].high)))return"msgIds: integer|Long[] expected"}if(null!=e.markers&&e.hasOwnProperty("markers")){if(!Array.isArray(e.markers))return"markers: array expected";for(t=0;t<e.markers.length;++t)if(!c.isString(e.markers[t]))return"markers: string[] expected"}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageMarkerQuery)return e;var t=new l.bin_proto.MessageMarkerQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.start&&(c.Long?(t.start=c.Long.fromValue(e.start)).unsigned=!0:"string"==typeof e.start?t.start=parseInt(e.start,10):"number"==typeof e.start?t.start=e.start:"object"==typeof e.start&&(t.start=new c.LongBits(e.start.low>>>0,e.start.high>>>0).toNumber(!0))),null!=e.limit&&(t.limit=0|e.limit),e.msgIds){if(!Array.isArray(e.msgIds))throw TypeError(".bin_proto.MessageMarkerQuery.msgIds: array expected");t.msgIds=[];for(var n=0;n<e.msgIds.length;++n)c.Long?(t.msgIds[n]=c.Long.fromValue(e.msgIds[n])).unsigned=!0:"string"==typeof e.msgIds[n]?t.msgIds[n]=parseInt(e.msgIds[n],10):"number"==typeof e.msgIds[n]?t.msgIds[n]=e.msgIds[n]:"object"==typeof e.msgIds[n]&&(t.msgIds[n]=new c.LongBits(e.msgIds[n].low>>>0,e.msgIds[n].high>>>0).toNumber(!0))}if(e.markers){if(!Array.isArray(e.markers))throw TypeError(".bin_proto.MessageMarkerQuery.markers: array expected");for(t.markers=[],n=0;n<e.markers.length;++n)t.markers[n]=String(e.markers[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.msgIds=[],n.markers=[]),t.defaults){if(n.id="",n.channelId="",c.Long){var r=new c.Long(0,0,!0);n.start=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.start=t.longs===String?"0":0;n.limit=0}if(null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.start&&e.hasOwnProperty("start")&&("number"==typeof e.start?n.start=t.longs===String?String(e.start):e.start:n.start=t.longs===String?c.Long.prototype.toString.call(e.start):t.longs===Number?new c.LongBits(e.start.low>>>0,e.start.high>>>0).toNumber(!0):e.start),null!=e.limit&&e.hasOwnProperty("limit")&&(n.limit=e.limit),e.msgIds&&e.msgIds.length){n.msgIds=[];for(var s=0;s<e.msgIds.length;++s)"number"==typeof e.msgIds[s]?n.msgIds[s]=t.longs===String?String(e.msgIds[s]):e.msgIds[s]:n.msgIds[s]=t.longs===String?c.Long.prototype.toString.call(e.msgIds[s]):t.longs===Number?new c.LongBits(e.msgIds[s].low>>>0,e.msgIds[s].high>>>0).toNumber(!0):e.msgIds[s]}if(e.markers&&e.markers.length)for(n.markers=[],s=0;s<e.markers.length;++s)n.markers[s]=e.markers[s];return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.MessageMarkerResult=function(){function e(e){if(this.messages=[],this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.messages=c.emptyArray,e.prototype.users=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)l.bin_proto.MessageMarkers.encode(e.messages[n],t.uint32(18).fork()).ldelim();if(null!=e.users&&e.users.length)for(n=0;n<e.users.length;++n)l.bin_proto.User.encode(e.users[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageMarkerResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(l.bin_proto.MessageMarkers.decode(e,e.uint32()));break;case 3:r.users&&r.users.length||(r.users=[]),r.users.push(l.bin_proto.User.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t)if(n=l.bin_proto.MessageMarkers.verify(e.messages[t]))return"messages."+n}if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(t=0;t<e.users.length;++t){var n;if(n=l.bin_proto.User.verify(e.users[t]))return"users."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageMarkerResult)return e;var t=new l.bin_proto.MessageMarkerResult;if(null!=e.id&&(t.id=String(e.id)),e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.MessageMarkerResult.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.MessageMarkerResult.messages: object expected");t.messages[n]=l.bin_proto.MessageMarkers.fromObject(e.messages[n])}}if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.MessageMarkerResult.users: array expected");for(t.users=[],n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.MessageMarkerResult.users: object expected");t.users[n]=l.bin_proto.User.fromObject(e.users[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[],n.users=[]),t.defaults&&(n.id=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=l.bin_proto.MessageMarkers.toObject(e.messages[r],t)}if(e.users&&e.users.length)for(n.users=[],r=0;r<e.users.length;++r)n.users[r]=l.bin_proto.User.toObject(e.users[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.MessageMarkers=function(){function e(e){if(this.markers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.msgId=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.markers=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.msgId&&Object.hasOwnProperty.call(e,"msgId")&&t.uint32(8).uint64(e.msgId),null!=e.markers&&e.markers.length)for(var n=0;n<e.markers.length;++n)l.bin_proto.MessageMarker.encode(e.markers[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageMarkers;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.msgId=e.uint64();break;case 2:r.markers&&r.markers.length||(r.markers=[]),r.markers.push(l.bin_proto.MessageMarker.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgId&&e.hasOwnProperty("msgId")&&!(c.isInteger(e.msgId)||e.msgId&&c.isInteger(e.msgId.low)&&c.isInteger(e.msgId.high)))return"msgId: integer|Long expected";if(null!=e.markers&&e.hasOwnProperty("markers")){if(!Array.isArray(e.markers))return"markers: array expected";for(var t=0;t<e.markers.length;++t){var n=l.bin_proto.MessageMarker.verify(e.markers[t]);if(n)return"markers."+n}}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageMarkers)return e;var t=new l.bin_proto.MessageMarkers;if(null!=e.msgId&&(c.Long?(t.msgId=c.Long.fromValue(e.msgId)).unsigned=!0:"string"==typeof e.msgId?t.msgId=parseInt(e.msgId,10):"number"==typeof e.msgId?t.msgId=e.msgId:"object"==typeof e.msgId&&(t.msgId=new c.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber(!0))),e.markers){if(!Array.isArray(e.markers))throw TypeError(".bin_proto.MessageMarkers.markers: array expected");t.markers=[];for(var n=0;n<e.markers.length;++n){if("object"!=typeof e.markers[n])throw TypeError(".bin_proto.MessageMarkers.markers: object expected");t.markers[n]=l.bin_proto.MessageMarker.fromObject(e.markers[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.markers=[]),t.defaults)if(c.Long){var r=new c.Long(0,0,!0);n.msgId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.msgId=t.longs===String?"0":0;if(null!=e.msgId&&e.hasOwnProperty("msgId")&&("number"==typeof e.msgId?n.msgId=t.longs===String?String(e.msgId):e.msgId:n.msgId=t.longs===String?c.Long.prototype.toString.call(e.msgId):t.longs===Number?new c.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber(!0):e.msgId),e.markers&&e.markers.length){n.markers=[];for(var s=0;s<e.markers.length;++s)n.markers[s]=l.bin_proto.MessageMarker.toObject(e.markers[s],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.MessageMarker=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.userId="",e.prototype.time=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(24).uint64(e.time),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.MessageMarker;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.name=e.string();break;case 2:r.userId=e.string();break;case 3:r.time=e.uint64();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.userId&&e.hasOwnProperty("userId")&&!c.isString(e.userId)?"userId: string expected":null!=e.time&&e.hasOwnProperty("time")&&!(c.isInteger(e.time)||e.time&&c.isInteger(e.time.low)&&c.isInteger(e.time.high))?"time: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.MessageMarker)return e;var t=new l.bin_proto.MessageMarker;return null!=e.name&&(t.name=String(e.name)),null!=e.userId&&(t.userId=String(e.userId)),null!=e.time&&(c.Long?(t.time=c.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new c.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.name="",n.userId="",c.Long){var r=new c.Long(0,0,!0);n.time=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.time=t.longs===String?"0":0;return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.userId&&e.hasOwnProperty("userId")&&(n.userId=e.userId),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?c.Long.prototype.toString.call(e.time):t.longs===Number?new c.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.Error=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.message="",e.prototype.id="",e.prototype.additionalData=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(26).string(e.id),null!=e.additionalData&&Object.hasOwnProperty.call(e,"additionalData")&&t.uint32(34).bytes(e.additionalData),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.Error;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.id=e.string();break;case 4:r.additionalData=e.bytes();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!c.isInteger(e.code)?"code: integer expected":null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message)?"message: string expected":null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id)?"id: string expected":null!=e.additionalData&&e.hasOwnProperty("additionalData")&&!(e.additionalData&&"number"==typeof e.additionalData.length||c.isString(e.additionalData))?"additionalData: buffer expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.Error)return e;var t=new l.bin_proto.Error;return null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),null!=e.id&&(t.id=String(e.id)),null!=e.additionalData&&("string"==typeof e.additionalData?c.base64.decode(e.additionalData,t.additionalData=c.newBuffer(c.base64.length(e.additionalData)),0):e.additionalData.length&&(t.additionalData=e.additionalData)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0,n.message="",n.id="",t.bytes===String?n.additionalData="":(n.additionalData=[],t.bytes!==Array&&(n.additionalData=c.newBuffer(n.additionalData)))),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.additionalData&&e.hasOwnProperty("additionalData")&&(n.additionalData=t.bytes===String?c.base64.encode(e.additionalData,0,e.additionalData.length):t.bytes===Array?Array.prototype.slice.call(e.additionalData):e.additionalData),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i.SearchQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.word="",e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.word&&Object.hasOwnProperty.call(e,"word")&&t.uint32(10).string(e.word),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.SearchQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.word=e.string();break;case 2:r.type=e.int32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.word&&e.hasOwnProperty("word")&&!c.isString(e.word))return"word: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.SearchQuery)return e;var t=new l.bin_proto.SearchQuery;switch(null!=e.word&&(t.word=String(e.word)),e.type){case"NONE":case 0:t.type=0;break;case"CONTAINS":case 1:t.type=1;break;case"BEGINS_WITH":case 2:t.type=2;break;case"EQUAL":case 3:t.type=3}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.word="",n.type=t.enums===String?"NONE":0),null!=e.word&&e.hasOwnProperty("word")&&(n.word=e.word),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?l.bin_proto.SearchQuery.Type[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="CONTAINS"]=1,t[e[2]="BEGINS_WITH"]=2,t[e[3]="EQUAL"]=3,t}(),e}(),i.ChannelSearchQuery=function(){function e(e){if(this.fields=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.ctype=0,e.prototype.fields=c.emptyArray,e.prototype.index=0,e.prototype.count=0,e.prototype.to="",e.prototype.sort=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(16).int32(e.ctype),null!=e.fields&&e.fields.length)for(var n=0;n<e.fields.length;++n)l.bin_proto.ChannelSearchQuery.Fields.encode(e.fields[n],t.uint32(26).fork()).ldelim();return null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(32).int32(e.index),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(40).int32(e.count),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(50).string(e.to),null!=e.sort&&Object.hasOwnProperty.call(e,"sort")&&t.uint32(56).int32(e.sort),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ChannelSearchQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.ctype=e.int32();break;case 3:r.fields&&r.fields.length||(r.fields=[]),r.fields.push(l.bin_proto.ChannelSearchQuery.Fields.decode(e,e.uint32()));break;case 4:r.index=e.int32();break;case 5:r.count=e.int32();break;case 6:r.to=e.string();break;case 7:r.sort=e.int32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id))return"id: string expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.fields&&e.hasOwnProperty("fields")){if(!Array.isArray(e.fields))return"fields: array expected";for(var t=0;t<e.fields.length;++t){var n=l.bin_proto.ChannelSearchQuery.Fields.verify(e.fields[t]);if(n)return"fields."+n}}if(null!=e.index&&e.hasOwnProperty("index")&&!c.isInteger(e.index))return"index: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!c.isInteger(e.count))return"count: integer expected";if(null!=e.to&&e.hasOwnProperty("to")&&!c.isString(e.to))return"to: string expected";if(null!=e.sort&&e.hasOwnProperty("sort"))switch(e.sort){default:return"sort: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.ChannelSearchQuery)return e;var t=new l.bin_proto.ChannelSearchQuery;switch(null!=e.id&&(t.id=String(e.id)),e.ctype){case"NONE":case 0:t.ctype=0;break;case"PRIVATE":case 1:t.ctype=1;break;case"PUBLIC":case 2:t.ctype=2;break;case"DIRECT":case 3:t.ctype=3}if(e.fields){if(!Array.isArray(e.fields))throw TypeError(".bin_proto.ChannelSearchQuery.fields: array expected");t.fields=[];for(var n=0;n<e.fields.length;++n){if("object"!=typeof e.fields[n])throw TypeError(".bin_proto.ChannelSearchQuery.fields: object expected");t.fields[n]=l.bin_proto.ChannelSearchQuery.Fields.fromObject(e.fields[n])}}switch(null!=e.index&&(t.index=0|e.index),null!=e.count&&(t.count=0|e.count),null!=e.to&&(t.to=String(e.to)),e.sort){case"LAST_MESSAGE":case 0:t.sort=0;break;case"CREATED_AT":case 1:t.sort=1}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fields=[]),t.defaults&&(n.id="",n.ctype=t.enums===String?"NONE":0,n.index=0,n.count=0,n.to="",n.sort=t.enums===String?"LAST_MESSAGE":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.ctype&&e.hasOwnProperty("ctype")&&(n.ctype=t.enums===String?l.bin_proto.Channel.Type[e.ctype]:e.ctype),e.fields&&e.fields.length){n.fields=[];for(var r=0;r<e.fields.length;++r)n.fields[r]=l.bin_proto.ChannelSearchQuery.Fields.toObject(e.fields[r],t)}return null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.sort&&e.hasOwnProperty("sort")&&(n.sort=t.enums===String?l.bin_proto.ChannelSearchQuery.SortOption[e.sort]:e.sort),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.SearchQueryKey=function(){var e={},t=Object.create(e);return t[e[0]="SUBJECT"]=0,t[e[1]="URI"]=1,t[e[2]="LABEL"]=2,t[e[3]="USER"]=3,t}(),e.SortOption=function(){var e={},t=Object.create(e);return t[e[0]="LAST_MESSAGE"]=0,t[e[1]="CREATED_AT"]=1,t}(),e.Fields=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key=0,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(8).int32(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&l.bin_proto.SearchQuery.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.ChannelSearchQuery.Fields;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.key=e.int32();break;case 2:r.value=l.bin_proto.SearchQuery.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key"))switch(e.key){default:return"key: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.value&&e.hasOwnProperty("value")){var t=l.bin_proto.SearchQuery.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof l.bin_proto.ChannelSearchQuery.Fields)return e;var t=new l.bin_proto.ChannelSearchQuery.Fields;switch(e.key){case"SUBJECT":case 0:t.key=0;break;case"URI":case 1:t.key=1;break;case"LABEL":case 2:t.key=2;break;case"USER":case 3:t.key=3}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".bin_proto.ChannelSearchQuery.Fields.value: object expected");t.value=l.bin_proto.SearchQuery.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key=t.enums===String?"SUBJECT":0,n.value=null),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.enums===String?l.bin_proto.ChannelSearchQuery.SearchQueryKey[e.key]:e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=l.bin_proto.SearchQuery.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),i.TokenQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.deviceToken="",e.prototype.deviceType="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.deviceToken&&Object.hasOwnProperty.call(e,"deviceToken")&&t.uint32(18).string(e.deviceToken),null!=e.deviceType&&Object.hasOwnProperty.call(e,"deviceType")&&t.uint32(26).string(e.deviceType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.bin_proto.TokenQuery;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.string();break;case 2:r.deviceToken=e.string();break;case 3:r.deviceType=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!c.isString(e.id)?"id: string expected":null!=e.deviceToken&&e.hasOwnProperty("deviceToken")&&!c.isString(e.deviceToken)?"deviceToken: string expected":null!=e.deviceType&&e.hasOwnProperty("deviceType")&&!c.isString(e.deviceType)?"deviceType: string expected":null},e.fromObject=function(e){if(e instanceof l.bin_proto.TokenQuery)return e;var t=new l.bin_proto.TokenQuery;return null!=e.id&&(t.id=String(e.id)),null!=e.deviceToken&&(t.deviceToken=String(e.deviceToken)),null!=e.deviceType&&(t.deviceType=String(e.deviceType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.deviceToken="",n.deviceType=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.deviceToken&&e.hasOwnProperty("deviceToken")&&(n.deviceToken=e.deviceToken),null!=e.deviceType&&e.hasOwnProperty("deviceType")&&(n.deviceType=e.deviceType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),i),e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var r=n(0),s=function(e){var t,n,s,i,o;void 0===e&&(e={id:"",profile:{firstName:"",lastName:"",avatar:"",metadata:""},status:0,presence:{state:0,status:""},blocked:!1}),this.id=e.id,this.firstName=(null===(t=e.profile)||void 0===t?void 0:t.firstName)?e.profile.firstName:"",this.lastName=(null===(n=e.profile)||void 0===n?void 0:n.lastName)?e.profile.lastName:"",this.avatarUrl=(null===(s=e.profile)||void 0===s?void 0:s.avatar)?e.profile.avatar:"",this.metadata=(null===(i=e.profile)||void 0===i?void 0:i.metadata)?e.profile.metadata:"",this.activityState=r.UserStatus[e.status],this.presence={state:r.PresenceStatus[null===(o=e.presence)||void 0===o?void 0:o.state]},e.presence&&e.presence.status&&(this.presence.status=e.presence.status),e.presence&&e.presence.lastActiveAt&&(this.presence.lastActiveAt=new Date(1e3*e.presence.lastActiveAt.toNumber())),this.blocked=e.blocked};t.User=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalUserHandler=void 0;var r=n(0),s=function(){function e(t,n,s){var i=this;this.updateUser=function(e){return new Promise((function(t,n){var s=i.messagingClient.createMessageId(),o=r.PB.create(r.BMP.UserQuery,{id:s,user:{profile:{firstName:e.firstName||""===e.firstName?e.firstName:i.user.firstName,lastName:e.lastName||""===e.lastName?e.lastName:i.user.lastName,avatar:e.avatarUrl||""===e.avatarUrl?e.avatarUrl:i.user.avatarUrl,metadata:e.metadata||""===e.metadata?e.metadata:i.user.metadata}}});i.messagingClient.send(s,o,(function(e,s){if(e)return n(new r.SceytChatError(s.message,s.code));var o=s.user;o&&i.updateUserProfileInstance(o.profile),t({firstName:i.user.firstName,lastName:i.user.lastName,avatarUrl:i.user.avatarUrl,metadata:i.user.metadata})}))}))},this.updateUserPresence=function(e,t){return new Promise((function(n,s){var o=i.messagingClient.createMessageId(),a=r.PresenceStatus[e],u=r.PB.create(r.BMP.PresenceMessage,{id:o,presence:{state:a,status:t}});i.messagingClient.send(o,u,(function(e,t){if(e)return s(new r.SceytChatError(t.message,t.code));i.updateUserInstancePresence(t.presence),n()}))}))},this.usersQuery=function(e){return new Promise((function(t,n){var s=i.messagingClient.createMessageId(),o=r.PB.create(r.BMP.UserQuery,{id:s,to:"",userSearch:{order:r.UserSearchOrder[e.order],filter:r.UserSearchFilter[e.filter],limit:e.count,offset:e.index,prefix:e.query}});i.messagingClient.send(s,o,(function(e,s){if(e)return n(new r.SceytChatError(s.message,s.code));var o=s.usersList,a=i.createUsersList(null==o?void 0:o.users);t(a)}))}))},this.blockedUsersQuery=function(e){return new Promise((function(t,n){var s=i.messagingClient.createMessageId(),o=r.PB.create(r.BMP.UserQuery,{id:s,blockedList:{limit:e.count,offset:e.index}});i.messagingClient.send(s,o,(function(e,s){if(e)return n(new r.SceytChatError(s.message,s.code));var o=s.userAction,a=i.createUsersList(null==o?void 0:o.users);t(a)}))}))},this.getUsers=function(e){return new Promise((function(t,n){var s=i.messagingClient.createMessageId(),o=i.formatUsers(e),a=r.PB.create(r.BMP.UserQuery,{id:s,usersStatus:{users:o}});i.messagingClient.send(s,a,(function(e,s){if(e)return n(new r.SceytChatError(s.message,s.code));var o=s.usersStatus,a=i.createUsersList(null==o?void 0:o.users);t(a)}))}))},this.blockUsers=function(e){return new Promise((function(t,n){var s=i.messagingClient.createMessageId(),o=i.formatUsers(e),a=r.PB.create(r.BMP.UserQuery,{id:s,userAction:{action:r.UserAction.BLOCK,users:o}});i.messagingClient.send(s,a,(function(e,s){if(e)return n(new r.SceytChatError(s.message,s.code));var o=s.userAction;if(o){var a=i.createUsersList(null==o?void 0:o.users);t(a)}else t([])}))}))},this.unblockUsers=function(e){return new Promise((function(t,n){var s=i.messagingClient.createMessageId(),o=i.formatUsers(e),a=r.PB.create(r.BMP.UserQuery,{id:s,userAction:{action:r.UserAction.UNBLOCK,users:o}});i.messagingClient.send(s,a,(function(e,s){if(e)return n(new r.SceytChatError(s.message,s.code));var o=s.userAction;if(o){var a=i.createUsersList(null==o?void 0:o.users);t(a)}else t([])}))}))},this.createUsersList=function(e){return e.map((function(e){return e.id=r.unescapeString(e.id),new r.User(e)}))},this.formatUsers=function(e){return Array.isArray(e)?e.map((function(e){return{id:r.escapeString(e)}})):[]},this.updateUserProfileInstance=function(e){i.user.firstName=e.firstName,i.user.lastName=e.lastName,i.user.avatarUrl=e.avatar,i.user.metadata=e.metadata},this.updateUserInstancePresence=function(e){i.user.presence={state:r.PresenceStatus[null==e?void 0:e.state],status:(null==e?void 0:e.status)||"",lastActiveAt:e.lastActiveAt?new Date(e.lastActiveAt):null}},this.handleUserAuthSuccess=function(e){var t,n,s,o;e.user&&(i.user.id=e.user.id,i.user.firstName=(null===(t=e.user.profile)||void 0===t?void 0:t.firstName)||"",i.user.lastName=(null===(n=e.user.profile)||void 0===n?void 0:n.lastName)||"",i.user.avatarUrl=(null===(s=e.user.profile)||void 0===s?void 0:s.avatar)||"",e.user.presence&&(i.user.presence={state:r.PresenceStatus[e.user.presence.state],status:e.user.presence.status?e.user.presence.status:"",lastActiveAt:e.user.presence.lastActiveAt?new Date(e.user.presence.lastActiveAt.toNumber()):null}),i.user.metadata=(null===(o=e.user.profile)||void 0===o?void 0:o.metadata)||"")},this.user=s,this.authHandler=t,this.messagingClient=n,this.authHandler.authSuccess.on(this.handleUserAuthSuccess),e.instance=this}return e.getInstance=function(){return e.instance},e}();t.InternalUserHandler=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiteEvent=void 0;var r=function(){var e=this;this.handlers=[],this.on=function(t){e.handlers.push(t)},this.off=function(t){e.handlers=e.handlers.filter((function(e){return e!==t}))},this.trigger=function(t){e.handlers.slice(0).forEach((function(e){return e(t)}))},this.expose=function(){return e}};t.LiteEvent=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketClient=void 0;var r=n(0),s=function(){function e(){var e=this;this.onTokenWillExpire=new r.LiteEvent,this.onClientDisconnected=new r.LiteEvent,this.onChangeRequestTimeout=new r.LiteEvent,this.disconnectTimeoutMs=1e4,this.pingTimeoutMs=15e3,this.willBeNotified=!1,this.close=function(t){var n=e.socket;n&&n.close&&n.readyState===n.OPEN&&"noPong"!==t?(n.close(4004,"Manually closed connection by calling chatClient.disconnect()"),"noPong"===t?e.onClientDisconnected.trigger():e.removeHandlers()):n&&n.close(),clearTimeout(e.pingTimeout),clearTimeout(e.disconnectTimeout)},this.ping=function(){var t=e.expDate-Date.now();!e.willBeNotified&&t<=3e5&&(e.willBeNotified=!0,e.onTokenWillExpire.trigger(t)),e.pingTimestamp=Date.now(),e.socket.send(new Uint8Array([r.PING_MESSAGE])),e.startDisconnectTimeout()}}return Object.defineProperty(e.prototype,"tokenWillExpire",{get:function(){return this.onTokenWillExpire.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disconnectClient",{get:function(){return this.onClientDisconnected.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeRequestTimeout",{get:function(){return this.onChangeRequestTimeout.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){return this.socket?this.socket.readyState:r.CLIENT_STATE.DISCONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e},enumerable:!1,configurable:!0}),e.prototype.initSocket=function(){this.socket=new WebSocket(this.host),this.socket.binaryType="arraybuffer"},e.prototype.initHandlers=function(e){this.handlers=e},e.prototype.attachHandlers=function(){this.socket.addEventListener("open",this.handlers.open),this.socket.addEventListener("close",this.handlers.close),this.socket.addEventListener("message",this.handlers.message),this.socket.addEventListener("error",this.handlers.error)},e.prototype.removeHandlers=function(){this.socket.removeEventListener("open",this.handlers.open),this.socket.removeEventListener("close",this.handlers.close),this.socket.removeEventListener("message",this.handlers.message),this.socket.removeEventListener("error",this.handlers.error)},e.prototype.sendMessage=function(e){this.socket.send(e)},e.prototype.connect=function(e){this.initSocket(),this.handlers=e,this.attachHandlers()},e.prototype.reconnect=function(){this.initSocket(),this.attachHandlers()},e.prototype.keepAlive=function(e){e&&(this.expDate=e,this.willBeNotified=!1),this.pingTimeout=setTimeout(this.ping,this.pingTimeoutMs)},e.prototype.startDisconnectTimeout=function(){this.disconnectTimeout=setTimeout(this.close.bind(this,"noPong"),this.disconnectTimeoutMs)},e.prototype.stopDisconnectTimeout=function(){var e=Date.now();this.onChangeRequestTimeout.trigger(e-this.pingTimestamp),clearTimeout(this.disconnectTimeout),clearTimeout(this.pingTimeout),this.keepAlive()},e.prototype.handlePong=function(){this.stopDisconnectTimeout()},e.prototype.socketInitialized=function(){return!!this.socket},e}();t.SocketClient=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelListener=void 0;var r=function(){this.onMessageEdited=function(){},this.onMessageDeleted=function(){},this.onReactionAdded=function(){},this.onReactionDeleted=function(){},this.onMessage=function(){},this.onMemberLeft=function(){},this.onBlocked=function(){},this.onUnblocked=function(){},this.onMemberJoined=function(){},this.onCreated=function(){},this.onUpdated=function(){},this.onDeleted=function(){},this.onMembersAdded=function(){},this.onMembersKicked=function(){},this.onMembersBlocked=function(){},this.onMembersUnblocked=function(){},this.onMemberStartedTyping=function(){},this.onMemberStoppedTyping=function(){},this.onReceivedMessageListMarker=function(){},this.onTotalUnreadCountUpdated=function(){},this.onHidden=function(){},this.onShown=function(){},this.onMarkedAsUnread=function(){},this.onHistoryCleared=function(){},this.onMembersRoleChanged=function(){},this.onOwnerChanged=function(){},this.onMuted=function(){},this.onUnmuted=function(){}};t.ChannelListener=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannelHandler=void 0;var u=n(0),c=function(){function e(t,n,c,l){var d=this;this.channelListeners={},this.channelsMap={},this.messagesMap={},this.autoSendMessageStatusDelivered=!1,this.createChannel=function(e){return new Promise((function(t,n){var r=e.type,s=e.members,i=o(e,["type","members"]);i.avatarUrl&&(i.avatar=i.avatarUrl,delete i.avatarUrl);var a=s;s&&s.length&&(a=d.formatMembers(s));var c=d.messagingClient.createMessageId(),l=u.PB.create(u.BMP.ChannelQuery,{id:c,channels:{list:[{config:i,members:a,type:Number(r)}]},type:u.ChannelQueryType.CREATE});d.messagingClient.send(c,l,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code));var s=r.channel,i=d.createChannelInstance(s);t(i)}))}))},this.delete=function(e){var t=d.getChannelFullId(e);return new Promise((function(n,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,channels:{list:[{id:t}]},type:u.ChannelQueryType.DELETE});d.messagingClient.send(s,i,(function(t,s){if(t)return r(new u.SceytChatError(s.message,s.code));d.removeChannelReference(e),n()}))}))},this.clearHistory=function(e){var t=d.getChannelFullId(e);return new Promise((function(e,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,to:t,type:u.ChannelQueryType.CLEAR_MESSAGES});d.messagingClient.send(r,s,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code));e()}))}))},this.getRoles=function(){return new Promise((function(e,t){var n=d.messagingClient.createMessageId(),r=u.PB.create(u.BMP.ChannelQuery,{id:n,type:u.ChannelQueryType.GET_ROLES});d.messagingClient.send(n,r,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code));var s=r.roles;e(s)}))}))},this.getChannels=function(e){return new Promise((function(t,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelSearchQuery,{id:r,ctype:u.ChannelType[e.ctype],fields:e.fields,count:e.count,index:e.index,sort:u.ChannelSearchQuerySortOptions[e.sort]});d.messagingClient.send(r,s,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code));t(r)}))}))},this.getMembers=function(e){var t=d.getChannelFullId(e.channelId);return new Promise((function(n,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,index:e.index,count:e.count,type:u.ChannelQueryType.MEMBERS,members:{channelId:t,type:u.MembersType[e.type],order:u.MembersOrder[e.order],key:u.MembersOrderKey[e.key]}});d.messagingClient.send(s,i,(function(e,t){if(e)return r(new u.SceytChatError(t.message,t.code));n(t)}))}))},this.getBlockedMembers=function(e){var t=d.getChannelFullId(e.channelId);return new Promise((function(n,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,type:u.ChannelQueryType.GET_BLOCKED_MEMBER_LIST,to:t,count:e.count,index:e.index});d.messagingClient.send(s,i,(function(e,t){if(e)return r(new u.SceytChatError(t.message,t.code));n(t)}))}))},this.getBlockedChannels=function(e){return new Promise((function(t,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,type:u.ChannelQueryType.GET_BLOCK_LIST,count:e.count,index:e.index});d.messagingClient.send(r,s,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code));t(r)}))}))},this.getHiddenChannels=function(e){return new Promise((function(t,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,type:u.ChannelQueryType.GET_HIDDEN_CHANNELS,count:e.count,index:e.index});d.messagingClient.send(r,s,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code));t(r)}))}))},this.addMembers=function(e,t,n){var r=d.getChannelFullId(e);return new Promise((function(s,i){var o=d.messagingClient.createMessageId(),a=d.formatMembers(t),c=u.PB.create(u.BMP.ChannelQuery,{id:o,channels:{list:[{id:r,members:a}]},type:u.ChannelQueryType.ADD_MEMBER,hideOldMessages:n});d.messagingClient.send(o,c,(function(t,n){if(t)return i(new u.SceytChatError(n.message,n.code));if(n.channel){var r=n.channel,o=r.members,a=r.updateAt,c=r.membersTotalCount,l=d.addMembersToChannelInstance(e,o,a,c).addedMembers;s(l)}else s([])}))}))},this.kickMembers=function(e,t){void 0===t&&(t=[]);var n=d.getChannelFullId(e);return new Promise((function(r,s){var i=d.messagingClient.createMessageId(),o=d.formatMembers(t),a=u.PB.create(u.BMP.ChannelQuery,{id:i,type:u.ChannelQueryType.KICK_MEMBER,members:{channelId:n,list:o}});d.messagingClient.send(i,a,(function(t,n){if(t)return s(new u.SceytChatError(n.message,n.code));if(n.channel){var i=n.channel,o=i.members,a=i.updateAt,c=i.membersTotalCount,l=d.removeMembersFromChannelInstance(e,o,a,c).removedMembers;r(l)}else r([])}))}))},this.blockMembers=function(e,t){void 0===t&&(t=[]);var n=d.getChannelFullId(e);return new Promise((function(r,s){var i=d.messagingClient.createMessageId(),o=d.formatMembers(t),a=u.PB.create(u.BMP.ChannelQuery,{id:i,type:u.ChannelQueryType.BLOCK_MEMBER,to:n,members:{list:o}});d.messagingClient.send(i,a,(function(t,n){if(t)return s(new u.SceytChatError(n.message,n.code));if(n.channel){var i=n.channel,o=i.members,a=i.updateAt,c=i.membersTotalCount,l=d.removeMembersFromChannelInstance(e,o,a,c).removedMembers;r(l)}else r([])}))}))},this.unBlockMembers=function(e,t){void 0===t&&(t=[]);var n=d.getChannelFullId(e);return new Promise((function(r,s){var i=d.messagingClient.createMessageId(),o=d.formatMembers(t),a=u.PB.create(u.BMP.ChannelQuery,{id:i,type:u.ChannelQueryType.UNBLOCK_MEMBER,to:n,members:{list:o}});d.messagingClient.send(i,a,(function(t,n){if(t)return s(new u.SceytChatError(n.message,n.code));var i=n.channel,o=i.members,a=i.updateAt,c=i.membersTotalCount,l=d.removeMembersFromChannelInstance(e,o,a,c).removedMembers;r(l)}))}))},this.join=function(e){var t=d.getChannelFullId(e);return new Promise((function(n,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,to:t,type:u.ChannelQueryType.JOIN});d.messagingClient.send(s,i,(function(t,s){if(t)return r(new u.SceytChatError(s.message,s.code));var i=s.channel,o=i.members,a=i.updateAt,c=i.membersTotalCount,l=d.addMembersToChannelInstance(e,o,a,c),h=l.addedMembers,p=l.instance;d.channelsMap[e].instance.myRole=h[0].role,n(p)}))}))},this.changeOwner=function(e,t){var n=d.getChannelFullId(e),r=d.formatMembers([t]);return new Promise((function(e,t){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,to:n,members:{list:r},type:u.ChannelQueryType.CHANGE_OWNER});d.messagingClient.send(s,i,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code));if(r.channel){var s=d.createMembersList(r.channel.members);e(s)}else e([])}))}))},this.changeMemberRole=function(e,t){var n=d.getChannelFullId(e),r=d.formatMembers(t);return new Promise((function(e,t){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,to:n,members:{list:r},type:u.ChannelQueryType.CHANGE_ROLE});d.messagingClient.send(s,i,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code));if(r.channel){var s=d.createMembersList(r.channel.members);e(s)}else e([])}))}))},this.hide=function(e){var t=d.getChannelFullId(e);return console.log("hide channel"),new Promise((function(e,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.HIDE_CHANNELS});d.messagingClient.send(r,s,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code));e()}))}))},this.unhide=function(e){var t=d.getChannelFullId(e);return new Promise((function(e,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNHIDE_CHANNELS});d.messagingClient.send(r,s,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code));e()}))}))},this.leave=function(e){return new Promise((function(t,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,to:e,type:u.ChannelQueryType.LEAVE});d.messagingClient.send(r,s,(function(r,s){if(r)return n(new u.SceytChatError(s.message,s.code));var i=s.channel,o=i.members,a=i.updateAt,c=i.membersTotalCount;d.removeMembersFromChannelInstance(e,o,a,c),t()}))}))},this.block=function(e){var t=d.getChannelFullId(e);return new Promise((function(e,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.BLOCK});d.messagingClient.send(r,s,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code));e()}))}))},this.unblock=function(e){var t=d.getChannelFullId(e);return new Promise((function(e,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNBLOCK});d.messagingClient.send(r,s,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code));e()}))}))},this.update=function(e,t){var n=d.getChannelFullId(e),s=d.channelsMap[e].instance;return new Promise((function(i,o){var a,c=d.messagingClient.createMessageId();(s instanceof u.PrivateChannel||s instanceof u.PublicChannel)&&delete(a=r(r({},t),{avatar:t.avatarUrl})).avatarUrl,s instanceof u.DirectChannel&&(a=r({},t));var l=u.PB.create(u.BMP.ChannelQuery,{id:c,channels:{list:[{id:n,config:a,type:s.type}]},type:u.ChannelQueryType.UPDATE});d.messagingClient.send(c,l,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code));var r=d.updateChannelProperties(e,n.channel);i(r)}))}))},this.deleteMessage=function(e,t){return new Promise((function(n,r){var s=d.getChannelFullId(e),i=d.messagingClient.createMessageId(),o=u.PB.create(u.BMP.MessageQuery,{id:i,channelId:s,event:u.MessageEventType.Update,messages:{list:[{message:{id:t,chStatus:u.MessageUpdateStatus.Deleted}}]}});d.messagingClient.send(i,o,(function(t,s){if(t)return r(new u.SceytChatError(s.message,s.code));var i=s.messages[0],o=d.createMessageInstance(i);d.isChannelLastMessage(e,o.id)&&d.updateChannelLastMessage(e,o),n(o)}))}))},this.editMessage=function(e,t){var n=d.getChannelFullId(e),s=t.attachments.map((function(e){return{name:e.name,type:e.type,meta:e.metadata,size:e.uploadedFileSize,data:e.url}})),i=d.formatMembers(t.mentionedUsers.map((function(e){return e.id})));return new Promise((function(o,a){var c=d.messagingClient.createMessageId(),l=u.PB.create(u.BMP.MessageQuery,{id:c,channelId:n,event:u.MessageEventType.Update,messages:{list:[{message:r(r({},t),{text:t.body,mentions:i,attachments:s,chStatus:u.MessageUpdateStatus.Edited})}]}});d.messagingClient.send(c,l,(function(t,n){if(t)return a(new u.SceytChatError(n.message,n.code));var r=n.messages[0],s=d.createMessageInstance(r);d.isChannelLastMessage(e,s.id)&&d.updateChannelLastMessage(e,s),o(s)}))}))},this.addReactionToMessage=function(e,t,n,r,s,i){var o=d.getChannelFullId(e);return new Promise((function(a,c){var l=d.messagingClient.createMessageId(),h=u.PB.create(u.BMP.MessageQuery,{id:l,channelId:o,event:u.MessageEventType.Add_reaction,messages:{list:[{message:{id:t,reaction:{isUnique:i,selfObjs:[{key:n,score:r,reason:s}]}}}]}});d.messagingClient.send(l,h,(function(t,n){if(t)return c(new u.SceytChatError(n.message,n.code));var r=n.messages[0],s=d.createMessageInstance(r),i=new u.Reaction(r.message.reaction.reactionObj);d.isChannelLastMessage(e,s.id)&&d.updateChannelLastMessage(e,s),a({message:s,reaction:i})}))}))},this.deleteReactionFromMessage=function(e,t,n){var r=d.getChannelFullId(e);return new Promise((function(s,i){var o=d.messagingClient.createMessageId(),a=u.PB.create(u.BMP.MessageQuery,{id:o,channelId:r,event:u.MessageEventType.Delete_reaction,messages:{list:[{message:{id:t,reaction:{selfObjs:[{key:n,score:0}]}}}]}});d.messagingClient.send(o,a,(function(t,n){if(t)return i(new u.SceytChatError(n.message,n.code));var r=n.messages[0],o=d.createMessageInstance(r),a=new u.Reaction(r.message.reaction.reactionObj);d.isChannelLastMessage(e,o.id)&&d.updateChannelLastMessage(e,o),s({message:o,reaction:a})}))}))},this.isChannelLastMessage=function(e,t){var n;return(null===(n=d.channelsMap[e].instance.lastMessage)||void 0===n?void 0:n.id)===t},this.uploadAttachment=function(e,t){var n=0,r=!1,s=[];return new Promise((function(i,o){t.forEach((function(a){if(!a.upload)return s.push(a),n++,a.length===n?i(s):null;if(a.url.size>1e8){if(r=!0,a.completion(a,new u.SceytChatError("TOO_LARGE_MESSAGE",u.serverErrors.TOO_LARGE_MESSAGE)),n++,t.length===n)throw new u.SceytChatError("TOO_LARGE_MESSAGE",u.serverErrors.TOO_LARGE_MESSAGE);return null}var c=d.createFormData(a.url,e);d.authHandler.httpClient.uploadFile(c,d.authHandler.jwt,a.progress).then((function(e){n++;var c={name:a.name,type:a.type,meta:a.metadata,size:a.url.size,data:e.data.url,upload:!1},l=new u.Attachment({name:a.name,type:a.type,metadata:a.metadata,uploadedFileSize:a.url.size,url:e.data.url,upload:!1});if(s.push(c),a.completion(l,null),n===t.length)return r&&o(new u.SceytChatError("TOO_LARGE_MESSAGE",u.serverErrors.TOO_LARGE_MESSAGE)),i(s)})).catch((function(e){var t=new u.SceytChatError(e.response?e.response.data.message:u.clientErrors.UNKNOWN_ERROR.message,e.response?e.response.data.code:u.clientErrors.UNKNOWN_ERROR.code);a.completion?a.completion(a,t):console.log("error in upload file",e.message)}))}))}))},this.sendMessageHandler=function(e,t){return s(d,void 0,void 0,(function(){var n,r,s,o;return i(this,(function(i){switch(i.label){case 0:return t.attachments&&t.attachments.length?(n=[],r=[],t.attachments.map((function(e){e.upload?r.push(e):n.push({name:e.name,type:e.type,meta:e.metadata,size:e.uploadedFileSize,data:e.url})})),s=n,r.length?[4,this.uploadAttachment(e,r)]:[3,2]):[3,3];case 1:o=i.sent(),s=a(n,o),i.label=2;case 2:return t.attachments=s,[2,this.sendMessage(e,t)];case 3:return[2,this.sendMessage(e,t)]}}))}))},this.sendMessage=function(e,t){var n=d.getChannelFullId(e);d.resetChannelUnreadCount(e);var r=d.formatMembers(t.requestedMentionUserIds),s=d.formatMessageProperties(t);return new Promise((function(i,o){var a=u.PB.create(u.BMP.Message,{message:{tid:t.tid,to:n,text:t.body,attachments:t.attachments,mentions:r,metadata:t.metadata,date:t.createdAt,type:t.type,properties:s},parent:t.parentId?{id:t.parentId}:null,replyInThread:t.repliedInThread});d.messagingClient.send(t.tid,a,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code));var r=n,s=r.message,a=s.id/u.BIT22;s.createdAt=new Date(a+u.EPOCH),s.metadata=d.isJSON(s.metadata)?JSON.parse(s.metadata):s.metadata;var c=d.createMessageInstance({message:s,parent:r.parent,replyInThread:r.replyInThread});c.user=d.user,d.setChannelLastMessage(e,c),d.updateChannelLastReadAdnDelivery(e,s.id,!0),i(c)}))}))},this.markMessageAsDelivered=function(e,t){var n=d.getChannelFullId(e),r=u.createTid(),s=t.map((function(e){return parseInt(e)}));return new Promise((function(t){var i=u.PB.create(u.BMP.MessageMarkerStatus,{ids:s,marker:"received",channelId:n,tid:r});d.messagingClient.send(r,i,(function(n,r){if(!n){var s=r,i=s.ids,o=s.from,a=Math.max(i);o.id!==d.user.id&&d.updateChannelLastMessage(e,{deliveryStatus:"Delivered"}),d.updateChannelLastReadAdnDelivery(e,a,!1),t()}}),u.BMP.MessageMarkerStatus)}))},this.markMessageAsRead=function(e,t){var n=d.getChannelFullId(e),r=t.map((function(e){return parseInt(e)}));d.resetChannelUnreadCount(e);var s=u.createTid();return new Promise((function(t){var i=u.PB.create(u.BMP.MessageMarkerStatus,{ids:r,marker:"displayed",channelId:n,tid:s});d.messagingClient.send(s,i,(function(n,r){if(!n){var s=r,i=s.ids,o=s.from,a=Math.max(i);o.id!==d.user.id&&d.updateChannelLastMessage(e,{deliveryStatus:"Read"}),d.updateChannelLastReadAdnDelivery(e,a,!0),t()}}),u.BMP.MessageMarkerStatus)}))},this.messageMarkersQuery=function(e){var t=d.getChannelFullId(e.channelId),n=u.createTid(),r=[parseInt(e.messageId)];return new Promise((function(s,i){var o=u.PB.create(u.BMP.MessageMarkerQuery,{id:n,msgIds:r,markers:e.markers,channelId:t,start:e.start,limit:e.count});d.messagingClient.send(n,o,(function(e,t){if(e)return i(new u.SceytChatError(t.message,t.code));s(t)}),u.BMP.MessageMarkerResult)}))},this.markChannelAs=function(e){var t=d.getChannelFullId(e);return new Promise((function(n,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,to:t,type:u.ChannelQueryType.MARK_AS_UNREAD});d.messagingClient.send(s,i,(function(t,s){if(t)return r(new u.SceytChatError(s.message,s.code));var i=d.updateChannelProperties(e,s.channels.list[0]);n(i)}),u.BMP.MessageMarkerStatus)}))},this.muteChannel=function(e,t){var n=d.getChannelFullId(e);return new Promise((function(r,s){var i=d.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:i,channels:{list:[{id:n,muteTill:t}]},type:u.ChannelQueryType.MUTE_CHANNELS});d.messagingClient.send(i,o,(function(t,n){if(t)return s(new u.SceytChatError(n.message,n.code));var i=d.updateChannelProperties(e,n.channels.list[0]);r(i)}))}))},this.unmuteChannel=function(e){var t=d.getChannelFullId(e);return new Promise((function(n,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:s,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNMUTE_CHANNELS});d.messagingClient.send(s,i,(function(t,s){if(t)return r(new u.SceytChatError(s.message,s.code));var i=d.updateChannelProperties(e,s.channels.list[0]);n(i)}))}))},this.getTotalUnreads=function(){return new Promise((function(e,t){var n=d.messagingClient.createMessageId(),r=u.PB.create(u.BMP.ChannelQuery,{id:n,to:d.authHandler.userCredentials.mvh,type:u.ChannelQueryType.GET_UNREADS});d.messagingClient.send(n,r,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code));var s=r.unreadCount,i=s.totalUnread,o=s.unreadChannels;e({totalUnread:i,unreadChannels:o})}))}))},this.loadMessages=function(e){var t=e.channelId,n=d.getChannelFullId(t);return new Promise((function(t,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.MessageQuery,{id:s,channelId:n,event:e.searchInThread?u.MessageEventType.Search_in_thread:u.MessageEventType.Search,search:{count:e.count,timestamp:e.timestamp,msgId:e.msgId,direction:u.MessageQueryDirection[e.direction],type:e.messageType}});d.messagingClient.send(s,i,(function(e,n){if(e)return r(new u.SceytChatError(n.message,n.code));t(n)}))}))},this.getReactions=function(e){var t=e.channelId,n=d.getChannelFullId(t);return new Promise((function(t,r){var s=d.messagingClient.createMessageId(),i=u.PB.create(u.BMP.MessageQuery,{id:s,channelId:n,event:u.MessageEventType.Reactions,search:{count:e.count,msgId:e.messageId,direction:e.queryDirection,type:e.msgType}});d.messagingClient.send(s,i,(function(e,n){if(e)return r(new u.SceytChatError(n.message,n.code));t(n)}))}))},this.startTyping=function(e){var t=d.getChannelFullId(e),n=d.messagingClient.createMessageId(),r=u.PB.create(u.BMP.Message,{message:{to:t,tid:u.createTid(),chStatus:u.MessageUpdateStatus.Composing}});d.messagingClient.send(n,r)},this.stopTyping=function(e){var t=d.getChannelFullId(e),n=d.messagingClient.createMessageId(),r=u.PB.create(u.BMP.Message,{message:{to:t,tid:u.createTid(),chStatus:u.MessageUpdateStatus.Paused}});d.messagingClient.send(n,r)},this.resetChannelUnreadCount=function(e){return d.channelsMap[e].instance.unreadMessageCount=0},this.incrementChannelUnreadCount=function(e){return d.channelsMap[e].instance.unreadMessageCount+=1},this.setChannelLastMessage=function(e,t){d.channelsMap[e].instance.lastMessage=t},this.updateChannelLastMessage=function(e,t){var n=d.channelsMap[e].instance.lastMessage;n&&(d.channelsMap[e].instance.lastMessage=r(r({},n),t))},this.updateChannelLastReadAdnDelivery=function(e,t,n){var r=d.channelsMap[e].instance;n?(parseInt(r.lastReadMessageId)<Number(t)&&(r.lastReadMessageId=t.toString()),r.markedAsUnread=!1):parseInt(r.lastDeliveredMessageId)<Number(t)&&(r.lastReadMessageId=t.toString())},this.createFormData=function(e,t){var n=new FormData;return n.append("files",e),n.append("channelId",t),n},this.formatMessageAttachments=function(e){var t=e.attachments.map((function(e){return new u.Attachment({name:e.name,type:e.type,metadata:e.meta,uploadedFileSize:e.size,url:e.data,upload:e.upload})})),n=e;return n.attachments=t,n},this.handleChannelAction=function(e){var t=e.decodedMessage,n=e.receivedEventType;return s(d,void 0,void 0,(function(){var e,r,s,o,a,c,l,d,h,p,f,g,m,y,b,v,w,O,_,E,S;return i(this,(function(i){switch(i.label){case 0:return e=(t||{channel:{config:{}}}).channel,r=e.id,s=e.members,o=e.updateAt,a=e.membersTotalCount,c=!1,this.channelsMap[r]||n===u.ChannelQueryType.DELETE?[3,2]:[4,this.createChannelInstance(t.channel)];case 1:i.sent(),c=!0,i.label=2;case 2:switch(n){case u.ChannelQueryType.CREATE:console.log("SDK channel created ... "),l=this.channelsMap[r].instance,this.triggerChannelHandlerEvent("onCreated",l);break;case u.ChannelQueryType.DELETE:this.removeChannelReference(r),this.triggerChannelHandlerEvent("onDeleted",r);break;case u.ChannelQueryType.JOIN:console.log("SDK joined to channel ... "),d=this.addMembersToChannelInstance(r,s,o,a,c),h=d.addedMembers,E=d.instance,this.triggerChannelHandlerEvent("onMemberJoined",E,h[0]);break;case u.ChannelQueryType.LEAVE:p=this.removeMembersFromChannelInstance(r,s,o,a,c),f=p.removedMembers,E=p.instance,this.triggerChannelHandlerEvent("onMemberLeft",E,f[0]);break;case u.ChannelQueryType.BLOCK:E=this.removeMembersFromChannelInstance(r,s,o,a,c).instance,this.triggerChannelHandlerEvent("onBlocked",E);break;case u.ChannelQueryType.UNBLOCK:E=this.channelsMap[r].instance,this.triggerChannelHandlerEvent("onUnblocked",E);break;case u.ChannelQueryType.ADD_MEMBER:console.log("SDK members added to channel ... "),g=this.addMembersToChannelInstance(r,s,o,a,c),m=g.addedMembers,E=g.instance,this.triggerChannelHandlerEvent("onMembersAdded",{channel:E,addedMembers:m});break;case u.ChannelQueryType.KICK_MEMBER:console.log("SDK member kicked from channel ... "),y=this.removeMembersFromChannelInstance(r,s,o,a,c),_=y.removedMembers,E=y.instance,this.triggerChannelHandlerEvent("onMembersKicked",{channel:E,removedMembers:_});break;case u.ChannelQueryType.UPDATE:E=c?this.channelsMap[r].instance:this.updateChannelProperties(r,t.channel),this.triggerChannelHandlerEvent("onUpdated",E);break;case u.ChannelQueryType.CLEAR_MESSAGES:E=this.channelsMap[r].instance,this.triggerChannelHandlerEvent("onHistoryCleared",E);break;case u.ChannelQueryType.CHANGE_ROLE:E=this.channelsMap[r].instance,b=this.createMembersList(s),this.triggerChannelHandlerEvent("onMembersRoleChanged",E,b);break;case u.ChannelQueryType.CHANGE_OWNER:E=this.channelsMap[r].instance,b=this.createMembersList(s),v=b.find((function(e){return"owner"===e.role.name.toLowerCase()})),w=b.find((function(e){return"owner"!==e.role.name.toLowerCase()})),this.triggerChannelHandlerEvent("onOwnerChanged",E,v,w);break;case u.ChannelQueryType.BLOCK_MEMBER:O=this.removeMembersFromChannelInstance(r,s,o,a,c),_=O.removedMembers,E=O.instance,this.triggerChannelHandlerEvent("onMembersBlocked",E,_);break;case u.ChannelQueryType.UNBLOCK_MEMBER:E=this.channelsMap[r].instance,S=this.createMembersList(s),this.triggerChannelHandlerEvent("onMembersUnblocked",E,S)}return[2]}}))}))},this.handleChannelQuery=function(e){var t=e.decodedMessage,n=e.receivedEventType;return s(d,void 0,void 0,(function(){var e,r,s;return i(this,(function(i){switch(i.label){case 0:return e="",r=t.channels?t.channels.list[0]:t.channel?t.channel:{},n&&(t.channels||t.channel)?(e=r.id,this.channelsMap[e]?[3,2]:[4,this.createChannelInstance(r)]):[3,2];case 1:i.sent(),i.label=2;case 2:switch(n){case u.ChannelQueryType.HIDE_CHANNELS:s=this.channelsMap[e].instance,this.triggerChannelHandlerEvent("onHidden",s);break;case u.ChannelQueryType.UNHIDE_CHANNELS:s=this.channelsMap[e].instance,this.triggerChannelHandlerEvent("onShown",s);break;case u.ChannelQueryType.MARK_AS_UNREAD:(s=this.channelsMap[e].instance).markedAsUnread=r.conv.channelUnread,this.triggerChannelHandlerEvent("onMarkedAsUnread",s);break;case u.ChannelQueryType.MUTE_CHANNELS:(s=this.channelsMap[e].instance).muted=r.muted,s.muteExpireDate=r.muteTill?new Date(Date.now()+r.muteTill):null,this.triggerChannelHandlerEvent("onMuted",s);break;case u.ChannelQueryType.UNMUTE_CHANNELS:(s=this.channelsMap[e].instance).muted=r.muted,s.muteExpireDate=null,this.triggerChannelHandlerEvent("onUnmuted",s)}return[2]}}))}))},this.handleChannelMessage=function(e){return s(d,void 0,void 0,(function(){var t,n,r,s,o,a,c;return i(this,(function(i){switch(i.label){case 0:return t=this.user.id,n=this.clearUserId(e.message.from.id),r=e.message.to,s=e.message.chStatus===u.MessageUpdateStatus.Composing?"onMemberStartedTyping":e.message.chStatus===u.MessageUpdateStatus.Paused?"onMemberStoppedTyping":"onMessage",o=this.channelsMap[r].instance,"onMessage"!==s?[3,5]:(a=this.createMessageInstance(e),this.autoSendMessageStatusDelivered?[4,this.markMessageAsDelivered(r,[a.id])]:[3,2]);case 1:i.sent(),i.label=2;case 2:return t===n||a.transient||this.incrementChannelUnreadCount(r),a.repliedInThread||this.setChannelLastMessage(r,a),this.triggerChannelHandlerEvent(s,o,a),this.channelsMap[r]?[3,4]:[4,this.getAndCreateChannelById(r)];case 3:i.sent(),i.label=4;case 4:return[3,6];case 5:t!==n&&(e.message.from.id=this.clearUserId(e.message.from.id),c=new u.Member({user:e.message.from,role:""}),this.triggerChannelHandlerEvent(s,o,c)),i.label=6;case 6:return[2]}}))}))},this.formatMessageProperties=function(e,t){if(t){var n=e.properties;return{transient:Boolean(1&n),silent:Boolean(2&n)}}var r=0;return r=e.transient?1^r:r,r=e.silent?2^r:r},this.createMessageInstance=function(e){var t=e.message,n=e.parent,r=e.replyInThread;t.attachments&&t.attachments.length&&(t.attachments=d.formatMessageAttachments(t).attachments),n&&n.from&&(n.from.id=d.clearUserId(n.from.id),n.from=new u.User(n.from));var s=t.from;s&&(s.id=d.clearUserId(s.id));var i=d.formatMessageProperties(t,!0),o=i.transient,a=i.silent,c=s&&s.id!==d.user.id,l=t.id/u.BIT22,h=s?s instanceof u.User?s:new u.User(s):null,p=t.mentions&&t.mentions.length?t.mentions.map((function(e){return new u.User(e.user)})):[];return new u.Message({message:{attachments:t.attachments,from:h,metadata:d.isJSON(t.metadata)?JSON.parse(t.metadata):t.metadata,text:t.text,type:t.type,date:new Date(l+u.EPOCH),updatedAt:t.updatedAt?new Date(t.updatedAt.toNumber()):null,id:t.id,tid:t.tid,selfMarkers:t.selfMarkers,chStatus:t.chStatus,status:t.status,reaction:t.reaction,replyCount:t.replyCount?t.replyCount.toNumber():null,silent:a,transient:o,mentions:p,isIncoming:c},parent:n,replyInThread:r})},this.isJSON=function(e){try{return JSON.parse(e)&&!!e}catch(e){return!1}},this.handleMessageStatus=function(e){return s(d,void 0,void 0,(function(){var t,n,s,o,a,c=this;return i(this,(function(i){switch(i.label){case 0:return t=e.channelId,n="received"===e.marker?"Delivered":"displayed"===e.marker?"Read":e.marker,s="onReceivedMessageListMarker",o=new u.MessageListMarker(e),this.channelsMap[t]?[3,2]:[4,this.getAndCreateChannelById(t)];case 1:i.sent(),i.label=2;case 2:return this.triggerChannelHandlerEvent(s,e.channelId,o),"Delivered"!==n&&"Read"!==n||(a=this.channelsMap[t].instance,e.ids.forEach((function(e){a.lastMessage.id===e.toString()&&c.updateChannelLastMessage(t,r(r({},a.lastMessage),{deliveryStatus:n}))}))),[2]}}))}))},this.handleMessageAction=function(e){return s(d,void 0,void 0,(function(){var t,n,r,s,o,a,c,l,d,h;return i(this,(function(i){switch(i.label){case 0:return t=e.messages,n=e.event,r=e.from,s=t[0],o=s.message.to,a=n===u.MessageEventType.Add_reaction?"onReactionAdded":n===u.MessageEventType.Delete_reaction?"onReactionDeleted":s.message.chStatus===u.MessageUpdateStatus.Edited?"onMessageEdited":"onMessageDeleted",this.channelsMap[o]?[3,2]:[4,this.getAndCreateChannelById(o)];case 1:i.sent(),i.label=2;case 2:return c=this.channelsMap[o].instance,l=this.createMessageInstance(s),this.isChannelLastMessage(o,l.id)&&this.updateChannelLastMessage(o,l),"onReactionAdded"===a||"onReactionDeleted"===a?(r.id=this.clearUserId(r.id),h=new u.User(r),d=new u.Reaction(s.message.reaction.reactionObj),this.triggerChannelHandlerEvent(a,c,h,l,d)):(r.id=this.clearUserId(r.id),h=new u.User(r),this.triggerChannelHandlerEvent(a,c,h,l)),[2]}}))}))},this.handleUnreadCount=function(e){return s(d,void 0,void 0,(function(){var t,n,r,s,o,a;return i(this,(function(i){switch(i.label){case 0:return t=e.unreadCount,n=t.totalUnread,r=t.unreadChannels,s=e.from,o="onTotalUnreadCountUpdated",this.channelsMap[s]?[3,2]:[4,this.getAndCreateChannelById(s)];case 1:i.sent(),i.label=2;case 2:return a=this.channelsMap[s].instance,this.triggerChannelHandlerEvent(o,a,r,n),[2]}}))}))},this.setChannelReference=function(e,t){d.channelsMap[e]=t},this.removeChannelReference=function(e){delete d.channelsMap[e]},this.addMembersToChannelInstance=function(e,t,n,r,s){void 0===s&&(s=!1);var i=d.createMembersList(t),o=d.channelsMap[e].instance;return s?{addedMembers:i,instance:o}:Array.isArray(i)&&i.length>0?((o instanceof u.PublicChannel||o instanceof u.PrivateChannel)&&(o.memberCount=r),o.updatedAt=new Date(n/1e3),{addedMembers:i,instance:o}):{addedMembers:[],instance:o}},this.removeMembersFromChannelInstance=function(e,t,n,r,s){void 0===s&&(s=!1);var i=d.createMembersList(t),o=d.channelsMap[e].instance;return s?{removedMembers:i,instance:o}:Array.isArray(i)&&i.length>0?((o instanceof u.PrivateChannel||o instanceof u.PublicChannel)&&(o.memberCount=r),o.updatedAt=new Date(n/1e3),{removedMembers:i,instance:o}):{removedMembers:i,instance:o}},this.formatMembers=function(e){return Array.isArray(e)?"object"==typeof e[0]?e.map((function(e){return{role:e.role&&e.role.name&&e.role.name.toLowerCase(),user:{id:e.id}}})):e.map((function(e){return{user:{id:e}}})):[]},this.createMembersList=function(e){return e.map((function(e){return new u.Member({role:e.role,user:e.user})}))},this.clearUserId=function(e){return u.unescapeString(e)},this.getChannelFullId=function(e){return e},this.updateChannelProperties=function(e,t,n){if(void 0===n&&(n=!1),n)return d.channelsMap[e];var r=d.channelsMap[e].instance;return r.label=t.config.label,r.metadata=t.config.metadata,r.muted=t.muted,r.muteExpireDate=t.muteTill?new Date(Date.now()+t.muteTill):null,t.conv&&(r.markedAsUnread=t.conv.channelUnread,r.unreadMessageCount=t.conv.unread),r.updatedAt=new Date(t.updateAt/1e3),(r instanceof u.PrivateChannel||r instanceof u.PublicChannel)&&(r.avatarUrl=t.config.avatar,r.subject=t.config.subject,r instanceof u.PublicChannel&&(r.uri=t.config.uri)),r},this.getAndCreateChannelById=function(e){return new Promise((function(t,n){var r=d.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{order:u.ChannelOrder.LAST_MESSAGE,list:[{id:e}]},type:u.ChannelQueryType.GET,count:1,index:0});d.messagingClient.send(r,s,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code));var s=r.channels.list[0],i=d.createChannelInstance(s);t(i)}))}))},this.createChannelInstance=function(e){var t=null;if(e.members.length){if(e.type===u.ChannelType.Direct)e.members=e.members.filter((function(e){return e.user.id!==d.user.id}));else{var n=e.members.find((function(e){return e.user.id===d.user.id}));e.myRole=n?n.role:""}e.members.forEach((function(e){return e.user.id=d.clearUserId(e.user.id)}))}return e.conv&&e.conv.msg&&(e.conv.msg=d.createMessageInstance(e.conv.msg)),e.type===u.ChannelType.Public&&(t=new u.PublicChannel(e)),e.type===u.ChannelType.Private&&(t=new u.PrivateChannel(e)),e.type===u.ChannelType.Direct&&(t=new u.DirectChannel(e)),d.setChannelReference(t.id,{id:e.id,instance:t}),t},this.triggerChannelHandlerEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.keys(d.channelListeners).map((function(n){var r;(r=d.channelListeners[n])[e].apply(r,t)}))},this.formatReceivedMessages=function(e,t){var n=[];if(t)for(var r=e.length-1;r>-1;--r)n.push(d.createMessageInstance(e[r]));else for(var s=0,i=e;s<i.length;s++){var o=i[s];n.push(d.createMessageInstance(o))}return n},this.authHandler=t,this.messagingClient=n,this.messagingClient.messageActionReceived.on(this.handleMessageAction),this.messagingClient.messageStatusReceived.on(this.handleMessageStatus),this.messagingClient.channelActionReceived.on(this.handleChannelAction),this.messagingClient.channelQueryReceived.on(this.handleChannelQuery),this.messagingClient.messageUnreadCountsReceived.on(this.handleUnreadCount),this.messagingClient.messageReceived.on(this.handleChannelMessage),this.channelListeners=c,this.user=l,e.instance=this}return e.getInstance=function(){return e.instance},e.prototype.createChannels=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var s=r[n],i=this.createChannelInstance(s);t.push(i)}return t},e}();t.InternalChannelHandler=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthHandler=void 0;var o=n(0),a=function(){function e(e,t,n){var a=this;this.onAuthSuccess=new o.LiteEvent,this.onAuthFailed=new o.LiteEvent,this.onTokenExpired=new o.LiteEvent,this.appId="",this._host="",this._clientId="",this._jwt="",this.authState=o.AuthState.NOT_AUTHENTICATED,this.setUserCredentials=function(e){a.userCredentials=e},this.setAuthState=function(e){a.authState=e},this.authViaHttp=function(e,t,n){return s(a,void 0,void 0,(function(){var s,a,u,c,l,d,h,p,f;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.setAuthState(o.AuthState.HTTP_AUTHENTICATING),[4,this.httpClient.connect(e,n)];case 1:return s=i.sent(),a=s.message,u=s.code,c=s.credentials,200===s.statusCode?(this.setUserCredentials(r(r({},c),{jwt:e,clientId:t})),this.setAuthState(o.AuthState.HTTP_AUTHENTICATED),[2,{httpError:!1}]):(this.setAuthState(o.AuthState.HTTP_AUTH_FAILED),this.onAuthFailed.trigger(new o.SceytChatError(a,u)),[2,{httpError:!0}]);case 2:return l=i.sent(),d=(l.response||l).connectionTimeout,h=d?o.AuthState.CONNECTION_TIMEOUT:o.AuthState.HTTP_AUTH_FAILED,p=l.response?!l.response.data.code||l.response.data.code<200?o.clientErrors.NETWORK_CONNECTION_ERROR.message:l.response.data.message:o.clientErrors.NETWORK_CONNECTION_ERROR.message,f=l.response?!l.response.data.code||l.response.data.code<200?o.clientErrors.NETWORK_CONNECTION_ERROR.code:l.response.data.code:o.clientErrors.NETWORK_CONNECTION_ERROR.code,this.setAuthState(h),this.onAuthFailed.trigger(new o.SceytChatError(p,f)),[2,{httpError:!0,connectionTimeout:!!d}];case 3:return[2]}}))}))},this.createAuthMessage=function(){return o.PB.create(o.BMP.Auth,{username:a.id,jwt:a.userCredentials.jwt,resource:a.userCredentials.clientId,presence:0})},this.createAuthMessage2=function(){return o.PB.create(o.BMP.Auth,{username:a.appId,jwt:a._jwt,resource:a._clientId,presence:0})},this.setSocket=function(e){a.socketClient=e},this.refreshToken=function(e){a.userCredentials.jwt=e,a.authViaSocket(a.socketClient)},this.authViaSocket=function(e){a.setSocket(e),a.setAuthState(o.AuthState.SOCKET_AUTHENTICATING);var t=a.createAuthMessage2();e.sendMessage(t)},this.handleResponse=function(e){if(200===e.code||201===e.code){var t=e.serverTime-Date.now(),n=1e3*e.expireTime-t;a.onAuthSuccess.trigger({user:e.user,settings:e.settings}),a.socketClient.keepAlive(n),a.setAuthState(o.AuthState.AUTHENTICATED)}else console.log("socket connect user failed ....",e,"user id -- ",a.connectingUserId),e.code!==o.serverErrors.UNAUTHORIZED&&e.code!==o.serverErrors.DUPLICATE_CLIENT_ID||a.socketClient.close(),e.code===o.serverErrors.EXPIRED_TOKEN?(a.setAuthState(o.AuthState.NOT_AUTHENTICATED),a.onAuthFailed.trigger(new o.SceytChatError(e.msg,e.code)),a.onTokenExpired.trigger()):(a.setAuthState(o.AuthState.SOCKET_AUTH_FAILED),a.onAuthFailed.trigger(new o.SceytChatError(e.msg,e.code)))};var u=e.split("://"),c=("https"===u[0]?"wss://":"ws://")+u[1].replace("api","ws")+"/bmp";this.httpClient=new o.HttpClient(e,t),this.appId=t,this._host=c,this._clientId=n}return Object.defineProperty(e.prototype,"a",{get:function(){return this.userCredentials.a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vh",{get:function(){return this.userCredentials.vh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mvh",{get:function(){return this.userCredentials.mvh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u",{get:function(){return this.userCredentials.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return""+o.escapeString(this.u)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authSuccess",{get:function(){return this.onAuthSuccess.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpired",{get:function(){return this.onTokenExpired.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authFailed",{get:function(){return this.onAuthFailed.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getAuthState",{get:function(){return this.authState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getConnectingUserId",{get:function(){return this.connectingUserId},enumerable:!1,configurable:!0}),e.prototype.setAuthStateIsDisconnected=function(){this.authState=o.AuthState.NOT_AUTHENTICATED},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostOld",{get:function(){return this.userCredentials.h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefix",{get:function(){return this.a+"-"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffix",{get:function(){return"@"+this.vh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jwt",{get:function(){return this._jwt},set:function(e){try{var t=JSON.parse(atob(e.split(".")[1])).sub;this.connectingUserId=t}catch(e){}this._jwt=e},enumerable:!1,configurable:!0}),e}();t.AuthHandler=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var o=n(0),a=i(n(56)),u=function(){function e(e,t){var n=this;this.connect=function(e,t){return r(n,void 0,void 0,(function(){var n,r,i,u;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n={headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,"sceyt-app-id":this.appId},timeout:t},[4,a.default.post(this.endpoint+"/"+o.api.connect,{},n)];case 1:return r=s.sent(),i=r.status,[2,{message:(u=r.data).message,code:u.code,credentials:u,statusCode:i,response:r}];case 2:throw s.sent();case 3:return[2]}}))}))},this.uploadFile=function(e,t,r){var s={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);r&&r(t)},headers:{Authorization:"Bearer "+t,"sceyt-app-id":n.appId}};return a.default.post(n.endpoint+"/"+o.api.files,e,s)},this.channelReport=function(e,t){return r(n,void 0,void 0,(function(){var n;return s(this,(function(r){return n={headers:{Authorization:"Bearer "+t,"sceyt-app-id":this.appId}},[2,a.default.post(this.endpoint+"/"+o.api.reports+"/channels",e,n)]}))}))},this.messageReport=function(e,t){return r(n,void 0,void 0,(function(){var n;return s(this,(function(r){return n={headers:{Authorization:"Bearer "+t,"sceyt-app-id":this.appId}},[2,a.default.post(this.endpoint+"/"+o.api.reports+"/messages",e,n)]}))}))},this.userReport=function(e,t){return r(n,void 0,void 0,(function(){var n;return s(this,(function(r){return n={headers:{Authorization:"Bearer "+t,"sceyt-app-id":this.appId}},[2,a.default.post(this.endpoint+"/"+o.api.reports+"/users",e,n)]}))}))},this.mute=function(e,t){var r={headers:{Authorization:"Bearer "+t,"sceyt-app-id":n.appId}};return a.default.put(n.endpoint+"/"+o.api.settings,e,r)},this.getSettings=function(e){var t={headers:{Authorization:"Bearer "+e,"sceyt-app-id":n.appId}};return a.default.get(n.endpoint+"/"+o.api.settings,t)},this.endpoint=e+"/user/api/v1",this.appId=t}return e.getToken=function(e,t){return r(void 0,void 0,void 0,(function(){return s(this,(function(n){return[2,a.default.get("https://hynxpd4k0f.execute-api.eu-central-1.amazonaws.com/dev/user/genToken?user="+e+(t?"&"+t:"")+"&app=staging")]}))}))},e}();t.HttpClient=u},function(e,t,n){e.exports=n(57)},function(e,t,n){"use strict";var r=n(1),s=n(10),i=n(58),o=n(21);function a(e){var t=new i(e),n=s(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=a(n(12));u.Axios=i,u.create=function(e){return a(o(u.defaults,e))},u.Cancel=n(22),u.CancelToken=n(83),u.isCancel=n(11),u.all=function(e){return Promise.all(e)},u.spread=n(84),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(1),s=n(4),i=n(59),o=n(60),a=n(21);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=a(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(1);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},function(e,t,n){"use strict";var r=n(1),s=n(61),i=n(11),o=n(12);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return a(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(1),s=n(13),i=n(64),o=n(4),a=n(15),u=n(67),c=n(68),l=n(5);e.exports=function(e){return new Promise((function(t,n){var d=e.data,h=e.headers;r.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(f+":"+g)}var m=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};s(t,n,i),p=null}},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||c(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,s,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(s)&&a.push("path="+s),r.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(1),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(o[t]&&s.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=s(window.location.href),function(t){var n=r.isString(t)?s(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(1),s=n(13),i=n(15),o=n(4),a=n(16),u=n(17),c=n(18).http,l=n(18).https,d=n(19),h=n(81),p=n(82),f=n(5),g=n(14),m=/https:?/;e.exports=function(e){return new Promise((function(t,n){var y=function(e){t(e)},b=function(e){n(e)},v=e.data,w=e.headers;if(w["User-Agent"]||w["user-agent"]||(w["User-Agent"]="axios/"+p.version),v&&!r.isStream(v)){if(Buffer.isBuffer(v));else if(r.isArrayBuffer(v))v=Buffer.from(new Uint8Array(v));else{if(!r.isString(v))return b(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));v=Buffer.from(v,"utf-8")}w["Content-Length"]=v.length}var O=void 0;e.auth&&(O=(e.auth.username||"")+":"+(e.auth.password||""));var _=i(e.baseURL,e.url),E=d.parse(_),S=E.protocol||"http:";if(!O&&E.auth){var C=E.auth.split(":");O=(C[0]||"")+":"+(C[1]||"")}O&&delete w.Authorization;var I=m.test(S),A=I?e.httpsAgent:e.httpAgent,T={path:o(E.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:w,agent:A,agents:{http:e.httpAgent,https:e.httpsAgent},auth:O};e.socketPath?T.socketPath=e.socketPath:(T.hostname=E.hostname,T.port=E.port);var k,P=e.proxy;if(!P&&!1!==P){var M=S.slice(0,-1)+"_proxy",j=process.env[M]||process.env[M.toUpperCase()];if(j){var N=d.parse(j),L=process.env.no_proxy||process.env.NO_PROXY,x=!0;if(L)x=!L.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&E.hostname.substr(E.hostname.length-e.length)===e||E.hostname===e))}));if(x&&(P={host:N.hostname,port:N.port},N.auth)){var R=N.auth.split(":");P.auth={username:R[0],password:R[1]}}}}if(P&&(T.hostname=P.host,T.host=P.host,T.headers.host=E.hostname+(E.port?":"+E.port:""),T.port=P.port,T.path=S+"//"+E.hostname+(E.port?":"+E.port:"")+T.path,P.auth)){var U=Buffer.from(P.auth.username+":"+P.auth.password,"utf8").toString("base64");T.headers["Proxy-Authorization"]="Basic "+U}var B=I&&(!P||m.test(P.protocol));e.transport?k=e.transport:0===e.maxRedirects?k=B?u:a:(e.maxRedirects&&(T.maxRedirects=e.maxRedirects),k=B?l:c),e.maxBodyLength>-1&&(T.maxBodyLength=e.maxBodyLength);var D=k.request(T,(function(t){if(!D.aborted){var n=t,i=t.req||D;if(204!==t.statusCode&&"HEAD"!==i.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=n.pipe(h.createUnzip()),delete t.headers["content-encoding"]}var o={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:i};if("stream"===e.responseType)o.data=n,s(y,b,o);else{var a=[];n.on("data",(function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(n.destroy(),b(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,i)))})),n.on("error",(function(t){D.aborted||b(g(t,e,null,i))})),n.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=r.stripBOM(t))),o.data=t,s(y,b,o)}))}}}));D.on("error",(function(t){D.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||b(g(t,e,null,D))})),e.timeout&&D.setTimeout(e.timeout,(function(){D.abort(),b(f("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",D))})),e.cancelToken&&e.cancelToken.promise.then((function(e){D.aborted||(D.abort(),b(e))})),r.isStream(v)?v.on("error",(function(t){b(g(t,e,null,D))})).pipe(D):D.end(v)}))}},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("assert")},function(e,t,n){var r;try{r=n(73)("follow-redirects")}catch(e){r=function(){}}e.exports=r},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(74):e.exports=n(76)},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(20)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var s=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(s++,"%c"===e&&(i=s))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=6e4,s=60*r,i=24*s;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*s;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?o(a=e,i,"day")||o(a,s,"hour")||o(a,r,"minute")||o(a,n,"second")||a+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=s)return Math.round(e/s)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(77),s=n(78);(t=e.exports=n(20)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return o.write(s.format.apply(s,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,s="  [3"+r+";1m"+n+" [0m";e[0]=s+e[0].split("\n").join("\n"+s),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(i)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{});var i=parseInt(process.env.DEBUG_FD,10)||2;1!==i&&2!==i&&s.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var o=1===i?process.stdout:2===i?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var s=n(79);(t=new s.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var i=n(80);(t=new i.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(i);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("zlib")},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.0","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.10.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,n){"use strict";var r=n(22);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingClient=void 0;var o=i(n(86)),a=n(87),u=n(0),c=function(){function e(e){var t=this;this.onMessageActionReceived=new u.LiteEvent,this.onMessageStatusReceived=new u.LiteEvent,this.onChannelActionReceived=new u.LiteEvent,this.onChannelQueryReceived=new u.LiteEvent,this.onMessageReceived=new u.LiteEvent,this.onMessageUnreadCountsReceived=new u.LiteEvent,this.messagingQueue={},this.createHashids=function(e,n){t.hashids=new o.default(e?""+e+n:""+n,16,u.customAlphabet)},this.send=function(e,n,r,s){var i=Date.now();t.socketClient.connectionState!==u.CLIENT_STATE.CONNECTED?r&&r(!0,{message:u.clientErrors.NETWORK_CONNECTION_ERROR.message,code:u.clientErrors.NETWORK_CONNECTION_ERROR.code}):r&&(t.messagingQueue[e]={whitingBMPType:s,callback:r,sendingTime:i});t.socketClient.sendMessage(n)},this.handleMessage=function(e,n,i){return r(t,void 0,void 0,(function(){var t,r,o,a,c,l,d,h,p,f,g,m,y;return s(this,(function(s){switch(s.label){case 0:return t=Date.now(),e!==u.BMP.Pong?[3,1]:(this.socketClient.handlePong(),[3,4]);case 1:return n.message||n.id||n.additionalData||n.marker?(r=n.id,o=n.tid,e===u.BMP.Message&&(r=n.message.id,o=n.message.tid),a=o||r,c=this.messagingQueue[a]&&this.messagingQueue[a].callback,l=this.messagingQueue[a]&&this.messagingQueue[a].whitingBMPType,(d=e===u.BMP.Error)&&!n.id&&n.additionalData.length?[4,u.PB.decode(n.additionalData)]:[3,3]):[3,4];case 2:h=s.sent(),y=h.decodedMessage,p=y.tid||y.message.tid||y.id||y.message.id,this.messagingQueue[p]&&((0,this.messagingQueue[p].callback)(d,n),delete this.messagingQueue[p]),s.label=3;case 3:if(c){if(e===u.BMP.MessageMarkerStatus&&l!==u.BMP.MessageMarkerStatus)return[2];delete this.messagingQueue[a],c(d,n)}else e===u.BMP.ChannelAction?(f=n.type,this.onChannelActionReceived.trigger({isError:d,decodedMessage:n,receivedEventType:f})):e===u.BMP.ChannelQuery?(f=n.type,this.onChannelQueryReceived.trigger({isError:d,decodedMessage:n,receivedEventType:f})):e===u.BMP.Message?this.onMessageReceived.trigger(n):e===u.BMP.MessageAction?this.onMessageActionReceived.trigger(n):e===u.BMP.MessageMarkerStatus?this.onMessageStatusReceived.trigger(n):e===u.BMP.SystemMessage?this.onMessageUnreadCountsReceived.trigger(n):d&&console.warn("handleMessage() unhandled error, decodedMessage is",n,"case of event ");s.label=4;case 4:for(g in this.messagingQueue)t-this.messagingQueue[g].sendingTime>=i&&(m=this.messagingQueue[g].callback,y={message:u.clientErrors.REQUEST_TIMEOUT.message,code:u.clientErrors.REQUEST_TIMEOUT.code},m(!0,y),delete this.messagingQueue[g]);return[2]}}))}))},this.createMessageId=function(e){return void 0===e&&(e=!1),a.v4()},this.socketClient=e}return Object.defineProperty(e.prototype,"channelActionReceived",{get:function(){return this.onChannelActionReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"channelQueryReceived",{get:function(){return this.onChannelQueryReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageActionReceived",{get:function(){return this.onMessageActionReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageStatusReceived",{get:function(){return this.onMessageStatusReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageReceived",{get:function(){return this.onMessageReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageUnreadCountsReceived",{get:function(){return this.onMessageUnreadCountsReceived.expose()},enumerable:!1,configurable:!0}),e}();t.MessagingClient=c},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),n.d(t,"default",(function(){return s})),n.d(t,"keepUnique",(function(){return u})),n.d(t,"withoutChars",(function(){return c})),n.d(t,"onlyChars",(function(){return l}));var s=function(){function e(e,t,n,s){if(void 0===e&&(e=""),void 0===t&&(t=0),void 0===n&&(n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"),void 0===s&&(s="cfhistuCFHISTU"),this.minLength=t,"number"!=typeof t)throw new TypeError("Hashids: Provided 'minLength' has to be a number (is "+typeof t+")");if("string"!=typeof e)throw new TypeError("Hashids: Provided 'salt' has to be a string (is "+typeof e+")");if("string"!=typeof n)throw new TypeError("Hashids: Provided alphabet has to be a string (is "+typeof n+")");var d=Array.from(e),h=Array.from(n),f=Array.from(s);this.salt=d;var g=u(h);if(g.length<i)throw new Error("Hashids: alphabet must contain at least "+i+" unique characters, provided: "+g);this.alphabet=c(g,f);var m,y,b,O=l(f,g);(this.seps=p(O,d),0===this.seps.length||this.alphabet.length/this.seps.length>o)&&((m=Math.ceil(this.alphabet.length/o))>this.seps.length&&(y=m-this.seps.length,(b=this.seps).push.apply(b,r(this.alphabet.slice(0,y))),this.alphabet=this.alphabet.slice(y)));this.alphabet=p(this.alphabet,d);var _=Math.ceil(this.alphabet.length/a);this.alphabet.length<3?(this.guards=this.seps.slice(0,_),this.seps=this.seps.slice(_)):(this.guards=this.alphabet.slice(0,_),this.alphabet=this.alphabet.slice(_)),this.guardsRegExp=v(this.guards),this.sepsRegExp=v(this.seps),this.allowedCharsRegExp=w([].concat(r(this.alphabet),r(this.guards),r(this.seps)))}var t=e.prototype;return t.encode=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var i="";return(n=Array.isArray(e)?e:[].concat(r(null!=e?[e]:[]),r(n))).length?(n.every(d)||(n=n.map((function(e){return"bigint"==typeof e||"number"==typeof e?e:y(String(e))}))),n.every(h)?this._encode(n).join(""):i):i},t.decode=function(e){return e&&"string"==typeof e&&0!==e.length?this._decode(e):[]},t.encodeHex=function(e){switch(typeof e){case"bigint":e=e.toString(16);break;case"string":if(!/^[0-9a-fA-F]+$/.test(e))return"";break;default:throw new Error("Hashids: The provided value is neither a string, nor a BigInt (got: "+typeof e+")")}var t=b(e,12,(function(e){return parseInt("1"+e,16)}));return this.encode(t)},t.decodeHex=function(e){return this.decode(e).map((function(e){return e.toString(16).slice(1)})).join("")},t._encode=function(e){var t=this,n=this.alphabet,s=e.reduce((function(e,t,n){return e+("bigint"==typeof t?Number(t%BigInt(n+100)):t%(n+100))}),0),i=[n[s%n.length]],o=i.slice(),a=this.seps,u=this.guards;if(e.forEach((function(s,u){var c,l=o.concat(t.salt,n);n=p(n,l);var d=f(s,n);if((c=i).push.apply(c,r(d)),u+1<e.length){var h=d[0].codePointAt(0)+u,g="bigint"==typeof s?Number(s%BigInt(h)):s%h;i.push(a[g%a.length])}})),i.length<this.minLength){var c=(s+i[0].codePointAt(0))%u.length;if(i.unshift(u[c]),i.length<this.minLength){var l=(s+i[2].codePointAt(0))%u.length;i.push(u[l])}}for(var d=Math.floor(n.length/2);i.length<this.minLength;){var h,g;n=p(n,n),(h=i).unshift.apply(h,r(n.slice(d))),(g=i).push.apply(g,r(n.slice(0,d)));var m=i.length-this.minLength;if(m>0){var y=m/2;i=i.slice(y,y+this.minLength)}}return i},t.isValidId=function(e){return this.allowedCharsRegExp.test(e)},t._decode=function(e){if(!this.isValidId(e))throw new Error("The provided ID ("+e+") is invalid, as it contains characters that do not exist in the alphabet ("+this.guards.join("")+this.seps.join("")+this.alphabet.join("")+")");var t=e.split(this.guardsRegExp),n=t[3===t.length||2===t.length?1:0];if(0===n.length)return[];var s=n[Symbol.iterator]().next().value,i=n.slice(s.length).split(this.sepsRegExp),o=this.alphabet,a=[],u=i,c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var h=d,f=p(o,[s].concat(r(this.salt),r(o)).slice(0,o.length));a.push(g(Array.from(h),f)),o=f}return this._encode(a).join("")!==e?[]:a},e}(),i=16,o=3.5,a=12,u=function(e){return Array.from(new Set(e))},c=function(e,t){return e.filter((function(e){return!t.includes(e)}))},l=function(e,t){return e.filter((function(e){return t.includes(e)}))},d=function(e){return"bigint"==typeof e||!Number.isNaN(Number(e))&&Math.floor(Number(e))===e},h=function(e){return"bigint"==typeof e||e>=0&&Number.isSafeInteger(e)};function p(e,t){if(0===t.length)return e;for(var n,r=e.slice(),s=r.length-1,i=0,o=0;s>0;s--,i++){o+=n=t[i%=t.length].codePointAt(0);var a=(n+i+o)%s,u=r[s],c=r[a];r[a]=u,r[s]=c}return r}var f=function(e,t){var n=[];if("bigint"==typeof e){var r=BigInt(t.length);do{n.unshift(t[Number(e%r)]),e/=r}while(e>BigInt(0))}else do{n.unshift(t[e%t.length]),e=Math.floor(e/t.length)}while(e>0);return n},g=function(e,t){return e.reduce((function(n,r){var s=t.indexOf(r);if(-1===s)throw new Error("The provided ID ("+e.join("")+") is invalid, as it contains characters that do not exist in the alphabet ("+t.join("")+")");if("bigint"==typeof n)return n*BigInt(t.length)+BigInt(s);var i=n*t.length+s;if(Number.isSafeInteger(i))return i;if("function"==typeof BigInt)return BigInt(n)*BigInt(t.length)+BigInt(s);throw new Error("Unable to decode the provided string, due to lack of support for BigInt numbers in the current environment")}),0)},m=/^\+?[0-9]+$/,y=function(e){return m.test(e)?parseInt(e,10):NaN},b=function(e,t,n){return Array.from({length:Math.ceil(e.length/t)},(function(r,s){return n(e.slice(s*t,(s+1)*t))}))},v=function(e){return new RegExp(e.map((function(e){return O(e)})).sort((function(e,t){return t.length-e.length})).join("|"))},w=function(e){return new RegExp("^["+e.map((function(e){return O(e)})).sort((function(e,t){return t.length-e.length})).join("")+"]+$")},O=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},function(e,t,n){var r=n(88),s=n(90),i=s;i.v1=r,i.v4=s,e.exports=i},function(e,t,n){var r,s,i=n(23),o=n(24),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==h){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=s=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=f-a+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||f>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,u=g,s=h;var y=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var b=f/4294967296*1e4&268435455;l[c++]=b>>>8&255,l[c++]=255&b,l[c++]=b>>>24&15|16,l[c++]=b>>>16&255,l[c++]=h>>>8|128,l[c++]=255&h;for(var v=0;v<6;++v)l[c+v]=d[v];return t||o(l)}},function(e,t){e.exports=require("crypto")},function(e,t,n){var r=n(23),s=n(24);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[i+a]=o[a];return t||s(o)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;var i=n(0),o=function(e){var t,n,o,a,u,c=this;this.delete=function(e){return r(c,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,(e||i.InternalChannelHandler.getInstance()).delete(t)]}))}))},this.hide=function(e){return r(c,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,(e||i.InternalChannelHandler.getInstance()).hide(t)]}))}))},this.unhide=function(e){return r(c,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,(e||i.InternalChannelHandler.getInstance()).unhide(t)]}))}))},this.clearHistory=function(e){return r(c,void 0,void 0,(function(){var t;return s(this,(function(n){return t=this.id,[2,(e||i.InternalChannelHandler.getInstance()).clearHistory(t)]}))}))},this.sendMessage=function(e,t){return r(c,void 0,void 0,(function(){var n;return s(this,(function(r){return n=this.id,[2,(t||i.InternalChannelHandler.getInstance()).sendMessageHandler(n,e)]}))}))},this.reSendMessage=function(e,t){return r(c,void 0,void 0,(function(){var n;return s(this,(function(r){return n=this.id,[2,(t||i.InternalChannelHandler.getInstance()).sendMessageHandler(n,e)]}))}))},this.createMessageBuilder=function(e){var t=e||i.InternalChannelHandler.getInstance();return new i.MessageBuilder(t.user,c.id)},this.createAttachmentBuilder=function(e,t){return new i.AttachmentBuilder(e,t)},this.deleteMessageById=function(e,t){var n=c.id;return(t||i.InternalChannelHandler.getInstance()).deleteMessage(n,e)},this.deleteMessage=function(e,t){var n=c.id;return(t||i.InternalChannelHandler.getInstance()).deleteMessage(n,e.id)},this.editMessage=function(e,t){var n=c.id;return(t||i.InternalChannelHandler.getInstance()).editMessage(n,e)},this.startTyping=function(){var e=c.id;i.InternalChannelHandler.getInstance().startTyping(e)},this.stopTyping=function(){var e=c.id;i.InternalChannelHandler.getInstance().stopTyping(e)},this.markMessagesAsDelivered=function(e,t){var n=c.id;return(t||i.InternalChannelHandler.getInstance()).markMessageAsDelivered(n,e)},this.markMessagesAsRead=function(e,t){var n=c.id;return(t||i.InternalChannelHandler.getInstance()).markMessageAsRead(n,e)},this.markAsUnRead=function(){var e=c.id;return i.InternalChannelHandler.getInstance().markChannelAs(e)},this.mute=function(e){var t=c.id;return i.InternalChannelHandler.getInstance().muteChannel(t,e)},this.unmute=function(){var e=c.id;return i.InternalChannelHandler.getInstance().unmuteChannel(e)},this.addReaction=function(e,t,n,r,s,o){var a=c.id;return n<=0&&(n=1),(o||i.InternalChannelHandler.getInstance()).addReactionToMessage(a,e,t,n,r,s)},this.deleteReaction=function(e,t,n){var r=c.id;return(n||i.InternalChannelHandler.getInstance()).deleteReactionFromMessage(r,e,t)},this.id=e.id,this.unreadMessageCount=(null===(t=e.conv)||void 0===t?void 0:t.unread)||0,this.createdAt=new Date(e.createAt/1e3),this.updatedAt=new Date(e.updateAt/1e3),this.type=i.ChannelType[e.type],this.lastMessage=null===(n=e.conv)||void 0===n?void 0:n.msg,this.memberCount=e.membersTotalCount||e.members.length,this.lastReadMessageId=null===(o=e.conv)||void 0===o?void 0:o.localDspld,this.lastDeliveredMessageId=null===(a=e.conv)||void 0===a?void 0:a.localRcvd,this.markedAsUnread=null===(u=e.conv)||void 0===u?void 0:u.channelUnread,this.muted=e.muted,this.muteExpireDate=e.muteTill?new Date(Date.now()+e.muteTill):null};t.Channel=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupChannel=void 0;var a=n(0),u=function(e){function t(t){var n=e.call(this,t)||this;return n.addMembers=function(e,t){return i(n,void 0,void 0,(function(){var n;return o(this,(function(r){return n=this.id,[2,(t||a.InternalChannelHandler.getInstance()).addMembers(n,e,!0)]}))}))},n.kickMembers=function(e,t){return i(n,void 0,void 0,(function(){var n;return o(this,(function(r){return n=this.id,[2,(t||a.InternalChannelHandler.getInstance()).kickMembers(n,e)]}))}))},n.blockMembers=function(e,t){return i(n,void 0,void 0,(function(){var n;return o(this,(function(r){return n=this.id,[2,(t||a.InternalChannelHandler.getInstance()).blockMembers(n,e)]}))}))},n.unBlockMembers=function(e){return void 0===e&&(e=[]),i(n,void 0,void 0,(function(){var t;return o(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().unBlockMembers(t,e)]}))}))},n.block=function(e){return i(n,void 0,void 0,(function(){var t;return o(this,(function(n){return t=this.id,[2,(e||a.InternalChannelHandler.getInstance()).block(t)]}))}))},n.changeOwner=function(e){return i(n,void 0,void 0,(function(){var t;return o(this,(function(n){return t=this.id,[2,a.InternalChannelHandler.getInstance().changeOwner(t,e)]}))}))},n.changeMembersRole=function(e,t){return i(n,void 0,void 0,(function(){var n;return o(this,(function(r){return n=this.id,[2,(t||a.InternalChannelHandler.getInstance()).changeMemberRole(n,e)]}))}))},n.unblock=function(e){return i(n,void 0,void 0,(function(){var t;return o(this,(function(n){return t=this.id,[2,(e||a.InternalChannelHandler.getInstance()).unblock(t)]}))}))},n.leave=function(e){return i(n,void 0,void 0,(function(){var t;return o(this,(function(n){return t=this.id,[2,(e||a.InternalChannelHandler.getInstance()).leave(t)]}))}))},n.createMemberBuilder=function(e){return new a.MemberBuilder(e)},n.subject=t.config.subject,n.label=t.config.label,n.metadata=t.config.metadata,n.avatarUrl=t.config.avatar,n.myRole=t.myRole?new a.Role({name:t.myRole}):null,n}return s(t,e),t}(a.Channel);t.GroupChannel=u},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListQueryBuilder=void 0;var a=n(0),u=function(e){function t(t){var n=e.call(this)||this;return n.searchThread=!1,n.reversed=!1,n.limit=function(e){return n.count=e,n},n.reverse=function(e){return n.reversed=e,n},n.searchInThread=function(){return n.searchThread=!0,n},n.build=function(){return i(n,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.MessageListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},n.channelId=t,n}return s(t,e),t}(n(3).QueryBuilder);t.MessageListQueryBuilder=u},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListByTypeQueryBuilder=void 0;var a=n(0),u=function(e){function t(t,n){var r=e.call(this)||this;return r.limit=function(e){return r.count=e,r},r.reverse=function(e){r.reverseData=e},r.build=function(){return i(r,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.MessageListByTypeQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},r.channelId=t,r.msgType=n,r.reverseData=!1,r}return s(t,e),t}(n(3).QueryBuilder);t.MessageListByTypeQueryBuilder=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListByTypeQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,count:this.count,timestamp:this.msgId?void 0:Date.now(),msgId:this.msgId,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType},this.loading=!0,[4,e.loadMessages(t)]):[3,2];case 1:return n=s.sent(),r=n.messages,o=n.search,this.loading=!1,a=e.formatReceivedMessages(r.list,this.reverseData),o&&(this.hasNext=!o.complete),a.length&&(this.msgId=a[0].id),[2,{messages:a,complete:null==o?void 0:o.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextMessageId=function(e){return r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:if(!e)throw new i.SceytChatError("Need to specify message id");return this.loading?[3,4]:this.hasNext?(t=i.InternalChannelHandler.getInstance(),n={channelId:this.channelId,count:this.count,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(n)]):[3,2];case 1:return r=s.sent(),o=r.messages,a=r.search,this.loading=!1,u=t.formatReceivedMessages(o.list,this.reverseData),a&&(this.hasNext=!a.complete),u.length&&(this.msgId=u[0].id),[2,{messages:u,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextTimestamp=function(e){return r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:if(!e)throw new i.SceytChatError("Need to specify timeStamp");return this.loading?[3,4]:this.hasNext?(t=i.InternalChannelHandler.getInstance(),n={channelId:this.channelId,count:this.count,timestamp:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(n)]):[3,2];case 1:return r=s.sent(),o=r.messages,a=r.search,this.loading=!1,u=t.formatReceivedMessages(o.list,this.reverseData),a&&(this.hasNext=!a.complete),u.length&&(this.msgId=u[0].id),[2,{messages:u,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.msgType=e.msgType,this.count=e.count,this.channelId=e.channelId,this.reverseData=e.reverseData}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.msgType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this.reverseData},set:function(e){this.reverseData=e},enumerable:!1,configurable:!0}),e}();t.MessageListByTypeQuery=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,count:this.count,msgId:this.lastMessageId||"0",direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,e.loadMessages(t)]):[3,2];case 1:return n=s.sent(),r=n.messages,o=n.search,this.loading=!1,a=[],r.list.length&&(a=e.formatReceivedMessages(r.list,this._reversed),this.lastMessageId=a[a.length-1].id,this.firstMessageId=a[0].id),o&&(this.hasNext=!o.complete),this.hasPrev=!0,[2,{messages:a,complete:null==o?void 0:o.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextMessageId=function(e){return r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:if(this.loading)return[3,4];if(!this.hasNext)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify message id");return n={channelId:this.channelId,count:this.count,timestamp:void 0,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=s.sent(),o=r.messages,a=r.search,this.loading=!1,u=[],o.list.length&&(u=t.formatReceivedMessages(o.list,this._reversed),this.lastMessageId=u[u.length-1].id,this.firstMessageId=u[0].id),a&&(this.hasNext=!a.complete),this.hasPrev=!0,[2,{messages:u,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextTimestamp=function(e){return void 0===e&&(e=t.timestamp),r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:if(this.loading)return[3,4];if(!this.hasNext)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,msgId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=s.sent(),o=r.messages,a=r.search,this.loading=!1,u=[],o.list.length&&(u=t.formatReceivedMessages(o.list,this._reversed),this.lastMessageId=u[u.length-1].id,this.firstMessageId=u[0].id),a&&(this.hasNext=!a.complete),this.hasPrev=!0,[2,{messages:u,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPrevious=function(e){return r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasPrev?(t=e||i.InternalChannelHandler.getInstance(),n={channelId:this.channelId,count:this.count,msgId:this.lastMessageId||"0",direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)]):[3,2];case 1:return r=s.sent(),o=r.messages,a=r.search,this.loading=!1,u=t.formatReceivedMessages(o.list,this._reversed),o.list.length&&(this.lastMessageId=u[u.length-1].id,this.firstMessageId=u[0].id),a&&(this.hasPrev=!a.complete),this.hasNext=!0,[2,{messages:u,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPreviousMessageId=function(e,n){return void 0===e&&(e=t.messageId),r(t,void 0,void 0,(function(){var t,r,o,a,u,c;return s(this,(function(s){switch(s.label){case 0:if(this.loading)return[3,4];if(!this.hasPrev)return[3,2];if(t=n||i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify message id");return r={channelId:this.channelId,count:this.count,timestamp:void 0,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(r)];case 1:return o=s.sent(),a=o.messages,u=o.search,this.loading=!1,c=t.formatReceivedMessages(a.list,this._reversed),a.list.length&&(this.lastMessageId=c[c.length-1].id,this.firstMessageId=c[0].id),u&&(this.hasPrev=!u.complete),this.hasNext=!0,[2,{messages:c,complete:null==u?void 0:u.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPreviousTimestamp=function(e){return void 0===e&&(e=t.timestamp),r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:if(this.loading)return[3,4];if(!this.hasPrev)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,msgId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=s.sent(),o=r.messages,a=r.search,this.loading=!1,u=t.formatReceivedMessages(o.list,this._reversed),o.list.length&&(this.lastMessageId=u[u.length-1].id,this.firstMessageId=u[0].id),a&&(this.hasPrev=!a.complete),this.hasNext=!0,[2,{messages:u,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNear=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:if(this.loading)return[3,2];if(e=i.InternalChannelHandler.getInstance(),0!==this.timestamp&&!this.messageId&&!this.timestamp)throw new i.SceytChatError("Need to specify timeStamp or message id");return t={channelId:this.channelId,count:this.count,timestamp:this.timestamp,msgId:this.messageId,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],messageType:this.msgType},this.loading=!0,[4,e.loadMessages(t)];case 1:return n=s.sent(),r=n.messages,o=n.search,this.loading=!1,a=e.formatReceivedMessages(r.list,this._reversed),r.list.length&&(this.lastMessageId=a[a.length-1].id,this.firstMessageId=a[0].id),[2,{messages:a,complete:null==o?void 0:o.complete}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.loadNearMessageId=function(e,n){return r(t,void 0,void 0,(function(){var t,r,o,a,u,c;return s(this,(function(s){switch(s.label){case 0:if(this.loading)return[3,2];if(t=n||i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify message id");return r={channelId:this.channelId,count:this.count,timestamp:void 0,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(r)];case 1:return o=s.sent(),a=o.messages,u=o.search,this.loading=!1,c=t.formatReceivedMessages(a.list,this._reversed),a.list.length&&(this.lastMessageId=c[c.length-1].id,this.firstMessageId=c[0].id),[2,{messages:c,complete:null==u?void 0:u.complete}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.loadNearTimestamp=function(e){return void 0===e&&(e=t.timestamp),r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:if(this.loading)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,msgId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=s.sent(),o=r.messages,a=r.search,this.loading=!1,u=t.formatReceivedMessages(o.list,this._reversed),o.list.length&&(this.lastMessageId=u[u.length-1].id,this.firstMessageId=u[0].id),a&&(this.hasNext=!a.complete),[2,{messages:u,complete:null==a?void 0:a.complete}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.channelId=e.channelId,this.msgType="",this._reversed=e.reversed,this.count=e.count,this.hasPrev=!0,this.searchInThread=e.searchThread}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this._reversed},set:function(e){this._reversed=e},enumerable:!1,configurable:!0}),e}();t.MessageListQuery=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelListQueryBuilder=void 0;var i=n(0),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctype=i.ChannelType[i.ChannelType.None],t.fields=[],t.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Last_message],t.fieldsMap={},t.index=0,t.public=function(){return t.ctype=i.ChannelType[i.ChannelType.Public],t},t.private=function(){return t.ctype=i.ChannelType[i.ChannelType.Private],t},t.direct=function(){return t.ctype=i.ChannelType[i.ChannelType.Direct],t},t.offset=function(e){return t.index=e,t},t.limit=function(e){return t.count=e,t},t.sortByLastMessage=function(){return t.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Last_message],t},t.sortByCreationDate=function(){return t.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Created_at],t},t.uriBeginsWith=function(e){var n=i.ChannelSearchQueryKey.URI;return t.fieldsMap[n]={key:i.ChannelSearchQueryKey.URI,value:{word:e,type:i.SearchQueryType.BEGINS_WITH}},t.fields=Object.values(t.fieldsMap),t},t.uriEquals=function(e){var n=i.ChannelSearchQueryKey.URI;return t.fieldsMap[n]={key:i.ChannelSearchQueryKey.URI,value:{word:e,type:i.SearchQueryType.EQUAL}},t.fields=Object.values(t.fieldsMap),t},t.uriContains=function(e){var n=i.ChannelSearchQueryKey.URI;return t.fieldsMap[n]={key:i.ChannelSearchQueryKey.URI,value:{word:e,type:i.SearchQueryType.CONTAINS}},t.fields=Object.values(t.fieldsMap),t},t.subjectBeginsWith=function(e){var n=i.ChannelSearchQueryKey.SUBJECT;return t.fieldsMap[n]={key:n,value:{word:e,type:i.SearchQueryType.BEGINS_WITH}},t.fields=Object.values(t.fieldsMap),t},t.subjectEquals=function(e){var n=i.ChannelSearchQueryKey.SUBJECT;return t.fieldsMap[n]={key:n,value:{word:e,type:i.SearchQueryType.EQUAL}},t.fields=Object.values(t.fieldsMap),t},t.subjectContains=function(e){var n=i.ChannelSearchQueryKey.SUBJECT;return t.fieldsMap[n]={key:n,value:{word:e,type:i.SearchQueryType.CONTAINS}},t.fields=Object.values(t.fieldsMap),t},t.userBeginsWith=function(e){var n=i.ChannelSearchQueryKey.USER;return t.fieldsMap[n]={key:n,value:{word:e,type:i.SearchQueryType.BEGINS_WITH}},t.fields=Object.values(t.fieldsMap),t},t.userEquals=function(e){var n=i.ChannelSearchQueryKey.USER;return t.fieldsMap[n]={key:n,value:{word:e,type:i.SearchQueryType.EQUAL}},t.fields=Object.values(t.fieldsMap),t},t.userContains=function(e){var n=i.ChannelSearchQueryKey.USER;return t.fieldsMap[n]={key:n,value:{word:e,type:i.SearchQueryType.CONTAINS}},t.fields=Object.values(t.fieldsMap),t},t.labelEquals=function(e){var n=i.ChannelSearchQueryKey.LABEL;return t.fieldsMap[n]={key:i.ChannelSearchQueryKey.LABEL,value:{word:e,type:i.SearchQueryType.EQUAL}},t.fields=Object.values(t.fieldsMap),t},t.build=function(){try{return new i.ChannelListQuery(t)}catch(e){throw new i.SceytChatError(e.message,e.code)}},t}return s(t,e),t}(n(3).QueryBuilder);t.ChannelListQueryBuilder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionListener=void 0;var r=function(){this.onTokenWillExpire=function(){},this.onTokenExpired=function(){},this.onConnectionStatusChanged=function(){}};t.ConnectionListener=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.ctype=i.ChannelType[i.ChannelType.None],this.fields=[],this.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Last_message],this.index=0,this.totalChannels=0,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalChannelHandler.getInstance(),this.loading=!0,[4,t.getChannels(this)]):[3,2];case 1:return n=s.sent(),this.loading=!1,r=n.channels.list,o=n.count,a=n.totalUnread,u=n.unreadChannels,this.index+=r.length,this.hasNext=o-this.index>0,this.unreadMessagesCount=a,this.unreadChannelsCount=u,this.totalChannels=o,[2,{channels:t.createChannels(r),totalUnreadChannelsCount:u,totalUnreadMessagesCount:a,hasNext:this.hasNext}];case 2:return[2,{channels:[],totalUnread:"",unreadChannels:"",hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.ctype=e.ctype,this.fields=e.fields,this.sort=e.sort,this.index=e.index,this.count=e.count}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.ctype},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalChannelsCount",{get:function(){return this.totalChannels},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalUnreadChannelsCount",{get:function(){return this.unreadChannelsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalUnreadMessagesCount",{get:function(){return this.unreadMessagesCount},enumerable:!1,configurable:!0}),e}();t.ChannelListQuery=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PB=void 0;var i=n(0),o=function(){function e(){}return e.create=function(e,t){var n=i.BMP[e],r=i.bin_proto[n],s=r.create(t),o=r.encode(s).finish();return i.concatTypedArrays(new Uint8Array([e]),o)},e.decode=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a;return s(this,(function(s){return t=new Uint8Array(e),1===t.length?[2,{bmpType:t[0],decodedMessage:null}]:(n=t[0],r=t.slice(1),o=n===i.BMP.MessageMarkerStatus?i.BMP[i.BMP.MessageMarkerStatus]:i.BMP[n],a=i.bin_proto[o]?i.bin_proto[o].decode(r):{},[2,{bmpType:n,decodedMessage:a}])}))}))},e}();t.PB=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatClient=void 0;var i=n(0),o=function(){function e(e,t,n,o){var a=this;this.channelListeners={},this.connectionListeners={},this.options={},this._enableAutoSendMessageStatusDelivered=!1,this._setting={muted:!1,muteExpireDate:null,uploadSizeLimit:1e8},this.setAuthToken=function(e){a._authToken=e},this.setOption=function(e,t){a.options[e]=t},this.setPresence=function(e,t){return a.internalUserHandler.updateUserPresence(e,t)},this.getOption=function(e){return a.options[e]},this.getTotalUnreads=function(){return a.internalChannelHandler.getTotalUnreads()},this.socketClientOnOpen=function(e){a.authHandler.authViaSocket(a.socketClient)},this.socketClientOnMessage=function(e){return r(a,void 0,void 0,(function(){var t,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=e.data,[4,i.PB.decode(t)];case 1:switch(n=s.sent(),r=n.bmpType,o=n.decodedMessage,r){case i.BMP.AuthResult:this.authHandler.handleResponse(o);break;default:this.messagingClient.handleMessage(r,o,this.requestTimeout)}return[3,3];case 2:return a=s.sent(),console.warn(a,"error in socketClientOnMessage"),[3,3];case 3:return[2]}}))}))},this.socketClientOnClose=function(e){var t=a.authHandler.getAuthState;console.warn("Socket onClose, userId - ",a.authHandler.u),(4004===e.code&&t===i.AuthState.AUTHENTICATED||t!==i.AuthState.NOT_AUTHENTICATED)&&(a.authHandler.setAuthStateIsDisconnected(),a.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onConnectionStatusChanged,"disconnected")),t!==i.AuthState.SOCKET_AUTHENTICATING&&t!==i.AuthState.HTTP_AUTHENTICATED&&4004!==e.code&&"offline"!==a.connectStatus&&a._reconnect(),a.socketClient.removeHandlers()},this.socketClientOnError=function(e){var t=a.authHandler.getAuthState;t!==i.AuthState.SOCKET_AUTHENTICATING&&t!==i.AuthState.HTTP_AUTHENTICATED||(console.log("socet client on error.... ",e),a.authHandler.onAuthFailed.trigger(new i.SceytChatError(i.clientErrors.SERVICE_UNAVAILABLE.message,i.clientErrors.SERVICE_UNAVAILABLE.code)))},this.handleChangeRequestTimout=function(e){e&&(a.requestTimeout=i.REQUEST_TIMEOUT+Math.floor(e/2))},this.handleTokenWillExpire=function(e){a.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onTokenWillExpire,e)},this.clientDisconnected=function(){a.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onConnectionStatusChanged,"disconnected")},this.handleTokenExpired=function(){a.closeSocket(),a.authHandler.setAuthStateIsDisconnected(),a.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onTokenExpired)},this.clearReconnectInterval=function(){clearInterval(a.reconnectInterval),a.authHandler.authSuccess.off(a.handleAuthSuccess),a.authHandler.authFailed.off(a.handleAuthFailed)},this.handleAuthSuccess=function(){a.clearReconnectInterval(),a.consecutiveFailures=0,a.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onConnectionStatusChanged,"connected")},this.handleAuthFailed=function(){a.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onConnectionStatusChanged,"failed")},this.auth=function(e,t){return r(a,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return this.setAuthToken(e),n=this.getOption("connectionTimeout"),[4,this.authHandler.authViaHttp(e,t,n)];case 1:return r.sent().httpError||this.socketConnect(),[2]}}))}))},this.auth2=function(e,t){return r(a,void 0,void 0,(function(){return s(this,(function(t){return this.setAuthToken(e),this.authHandler.jwt=e,this.socketConnect(),[2]}))}))},this.socketConnect=function(){a.socketClient.host=a.authHandler.host,a.socketClient.connect({open:a.socketClientOnOpen,close:a.socketClientOnClose,message:a.socketClientOnMessage,error:a.socketClientOnError}),a.messagingClient.createHashids(a._clientId,a._appId)},this.updateToken=function(e){return r(a,void 0,void 0,(function(){var t=this;return s(this,(function(n){return[2,new Promise((function(n,r){try{var s=function(e){t.authHandler.authFailed.off(s),t.authHandler.authSuccess.off(o),r(e)},o=function(){t.authHandler.authFailed.off(s),t.authHandler.authSuccess.off(o),n("success")};t.authHandler.refreshToken(e),t.authHandler.authFailed.on(s),t.authHandler.authSuccess.on(o)}catch(e){r(new i.SceytChatError(e.message,e.code))}}))]}))}))},this.closeSocket=function(){a.socketClient.close()},this.triggerConnectionHandlerEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.keys(a.connectionListeners).map((function(n){var r;(r=a.connectionListeners[n])[e].apply(r,t)}))},this.uploadFile=function(e){return new Promise((function(t,n){if(e.data.size>a._setting.uploadSizeLimit)throw new i.SceytChatError("TOO_LARGE_MESSAGE",i.serverErrors.TOO_LARGE_MESSAGE);var r=new FormData;r.append("files",e.data),a.authHandler.httpClient.uploadFile(r,a.authHandler.jwt,e.progress).then((function(e){t(e.data.url)})).catch((function(e){n(new i.SceytChatError(e.response))}))}))},this.channelReport=function(e,t,n,r){var s={channel_id:t,report:e,description:n,messages:r};return new Promise((function(e,t){a.authHandler.httpClient.channelReport(s,a.authHandler.jwt).then((function(t){e(t.data)})).catch((function(e){t(new i.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.messageReport=function(e,t,n,r){var s={channel_id:t,messages:n,report:e,description:r};return new Promise((function(e,t){a.authHandler.httpClient.messageReport(s,a.authHandler.jwt).then((function(t){e(t.data)})).catch((function(e){t(new i.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.userReport=function(e,t,n,r){var s={user_id:t,messages:n,report:e,description:r};return new Promise((function(e,t){a.authHandler.httpClient.userReport(s,a.authHandler.jwt).then((function(t){e(t.data)})).catch((function(e){t(new i.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.mute=function(e){return r(a,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return t={mute_till:e,mute:!0},[4,this.authHandler.httpClient.mute(t,this._authToken)];case 1:return n=r.sent().data,this._setting.muted=!0,this._setting.muteExpireDate=n.mute_till?new Date(Date.now()+n.mute_till):null,[2,this.settings]}}))}))},this.unmute=function(){return r(a,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e={mute_till:0,mute:!1},[4,this.authHandler.httpClient.mute(e,this._authToken)];case 1:return t.sent(),this._setting.muted=!1,this._setting.muteExpireDate=null,[2,this.settings]}}))}))},this.getRoles=function(){return r(a,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.internalChannelHandler.getRoles()];case 1:return[2,e.sent().roles.map((function(e){return new i.Role(e)}))]}}))}))},this.getUsers=function(e){return a.internalUserHandler.getUsers(e)},this.getChannel=function(e){return a.internalChannelHandler.getAndCreateChannelById(e)},this.setProfile=function(e){return a.internalUserHandler.updateUser(e)},this.blockUsers=function(e){return a.internalUserHandler.blockUsers(e)},this.unblockUsers=function(e){return a.internalUserHandler.unblockUsers(e)},this._retryInterval=function(){var e=Math.min(500+2e3*a.consecutiveFailures,25e3),t=Math.min(Math.max(250,2e3*(a.consecutiveFailures-1)),25e3);return Math.floor(Math.random()*(e-t)+t)},this.onlineStatusChanged=function(e){if("offline"===e.type){if(a.authHandler.setAuthStateIsDisconnected(),a.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onConnectionStatusChanged,"disconnected"),a.closeSocket(),Object.values(a.messagingClient.messagingQueue).length)for(var t in a.messagingClient.messagingQueue){(0,a.messagingClient.messagingQueue[t].callback)(!0,{message:i.clientErrors.NETWORK_CONNECTION_ERROR.message,code:i.clientErrors.NETWORK_CONNECTION_ERROR.code}),delete a.messagingClient.messagingQueue[t]}}else"online"===e.type&&a._reconnect(10);a.connectStatus=e.type},this._listenForConnectionChanges=function(){"undefined"!=typeof window&&null!=window&&null!=window.addEventListener&&(window.addEventListener("offline",a.onlineStatusChanged),window.addEventListener("online",a.onlineStatusChanged))},this.consecutiveFailures=0,this.connectStatus="",this._connectionTimeout=n,this._appId=t,this._clientId=o,this.user=new i.User,this.socketClient=new i.SocketClient,this.authHandler=new i.AuthHandler(e,t,o),this.messagingClient=new i.MessagingClient(this.socketClient),this.internalChannelHandler=new i.InternalChannelHandler(this.authHandler,this.messagingClient,this.channelListeners,this.user),this.internalUserHandler=new i.InternalUserHandler(this.authHandler,this.messagingClient,this.user),this.socketClient.tokenWillExpire.on(this.handleTokenWillExpire),this.socketClient.onClientDisconnected.on(this.clientDisconnected),this.socketClient.changeRequestTimeout.on(this.handleChangeRequestTimout),this.authHandler.tokenExpired.on(this.handleTokenExpired),this._listenForConnectionChanges(),this.requestTimeout=i.REQUEST_TIMEOUT}return Object.defineProperty(e.prototype,"connectionTimeout",{get:function(){return this._connectionTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionTimeOut",{set:function(e){this._connectionTimeout=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return this._appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientId",{get:function(){return this._clientId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this._setting},set:function(e){this._setting.muted=e.muted,this._setting.muteExpireDate=e.muteExpireDate,this._setting.uploadSizeLimit=e.uploadSizeLimit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authState",{get:function(){return i.AuthState[this.authHandler.getAuthState]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableAutoSendMessageStatusDelivered",{get:function(){return this._enableAutoSendMessageStatusDelivered},set:function(e){this._enableAutoSendMessageStatusDelivered=e,this.internalChannelHandler.autoSendMessageStatusDelivered=e},enumerable:!1,configurable:!0}),e.prototype._reconnect=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.consecutiveFailures>=5?(console.log("consecutive Failures more than 5 rounds"),this.authHandler.setAuthStateIsDisconnected(),this.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onConnectionStatusChanged,"disconnected"),this.closeSocket(),[2]):(e||(e=this._retryInterval()),[4,i.sleep(e)]);case 1:return t.sent(),this.clearReconnectInterval(),this.authHandler.authSuccess.on(this.handleAuthSuccess),this.authHandler.authFailed.on(this.handleAuthFailed),this.triggerConnectionHandlerEvent(i.CONNECTION_EVENT_TYPES.onConnectionStatusChanged,"connecting"),this.socketClient.reconnect(),this.consecutiveFailures+=1,[2]}}))}))},Object.defineProperty(e.prototype,"PublicChannel",{get:function(){return i.PublicChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PrivateChannel",{get:function(){return i.PrivateChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DirectChannel",{get:function(){return i.DirectChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChannelListQueryBuilder",{get:function(){return i.ChannelListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MemberListQueryBuilder",{get:function(){return i.MemberListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedMemberListQueryBuilder",{get:function(){return i.BlockedMemberListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MessageListQueryBuilder",{get:function(){return i.MessageListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MessageListByTypeQueryBuilder",{get:function(){return i.MessageListByTypeQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MessageMarkerListQueryBuilder",{get:function(){return i.MessageMarkerListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ReactionListQueryBuilder",{get:function(){return i.ReactionListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UserListQueryBuilder",{get:function(){return i.UserListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedUserListQueryBuilder",{get:function(){return i.BlockedUserListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedChannelListQuery",{get:function(){return i.BlockedChannelListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HiddenChannelListQueryBuilder",{get:function(){return i.HiddenChannelListQueryBuilder},enumerable:!1,configurable:!0}),e}();t.ChatClient=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SceytChat=void 0;var i=n(0),o=function(){function e(e,t,n,o){var a=this;if(void 0===o&&(o=2e4),this.setUser=function(e){var t,n,r,s;a.chatClient.user.id=e.id,a.chatClient.user.firstName=(null===(t=e.profile)||void 0===t?void 0:t.firstName)||"",a.chatClient.user.lastName=(null===(n=e.profile)||void 0===n?void 0:n.lastName)||"",a.chatClient.user.avatarUrl=(null===(r=e.profile)||void 0===r?void 0:r.avatar)||"",e.presence&&(a.chatClient.user.presence={status:e.presence.status,state:i.PresenceStatus[e.presence.state],lastActiveAt:e.presence.lastActiveAt?new Date(e.presence.lastActiveAt.toNumber()):null}),a.chatClient.user.metadata=(null===(s=e.profile)||void 0===s?void 0:s.metadata)||""},this.addChannelListener=function(e,t){a.chatClient.channelListeners[e]=t},this.removeChannelListener=function(e){delete a.chatClient.channelListeners[e]},this.addConnectionListener=function(e,t){a.chatClient.connectionListeners[e]=t},this.removeConnectionListener=function(e){delete a.chatClient.connectionListeners[e]},this.connect=function(e){return r(a,void 0,void 0,(function(){var t=this;return s(this,(function(n){if(!i.RESOURCE_REGEX.test(this.clientId))throw new i.SceytChatError(i.clientErrors.INVALID_CLIENT_ID.message,i.clientErrors.INVALID_CLIENT_ID.code);return[2,new Promise((function(n,r){try{var s=t.chatClient.authHandler.getAuthState;if(s===i.AuthState.AUTHENTICATED)return r(new i.SceytChatError(i.clientErrors[i.CLIENT_STATE.CONNECTED].message,i.clientErrors[i.CLIENT_STATE.CONNECTED].code));if(s===i.AuthState.SOCKET_AUTHENTICATING||s===i.AuthState.HTTP_AUTHENTICATING)return r(new i.SceytChatError(i.clientErrors[i.CLIENT_STATE.CONNECTING].message,i.clientErrors[i.CLIENT_STATE.CONNECTING].code));var o=function(e){console.error("Auth failed: ",e.message,e.code),t.chatClient.authHandler.authFailed.off(o),t.chatClient.authHandler.authSuccess.off(a),r(e)},a=function(e){t.chatClient.authHandler.authFailed.off(o),t.chatClient.authHandler.authSuccess.off(a),t.setUser(e.user),e.settings&&e.settings.muted&&(t.chatClient.settings={muted:e.settings.muted,muteExpireDate:new Date(Date.now()+e.settings.muteTill),uploadSizeLimit:e.settings.uploadSizeLimit?e.settings.uploadSizeLimit:1e8}),n()};t.chatClient.authHandler.authFailed.on(o),t.chatClient.authHandler.authSuccess.on(a),t.chatClient.auth2(e,t.clientId)}catch(e){console.error("Error in connect: ",e.message,e.code),r(new i.SceytChatError(e.message,e.code))}}))]}))}))},this.disconnect=function(){a.chatClient.closeSocket(),a.chatClient.authHandler.setAuthStateIsDisconnected(),a.chatClient.user=new i.User},!e||!t||!n)throw new i.SceytChatError(i.clientErrors.INVALID_INITIALIZATION.message,i.clientErrors.INVALID_INITIALIZATION.code);this.chatClient=new i.ChatClient(e,t,o,n),this.clientId=n}return Object.defineProperty(e.prototype,"ConnectionListener",{get:function(){return i.ConnectionListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChannelListener",{get:function(){return i.ChannelListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.chatClient.user},enumerable:!1,configurable:!0}),e}();t.SceytChat=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicChannel=void 0;var u=n(0),c=function(e){function t(t){var n=e.call(this,t)||this;return n.update=function(e,t){return o(n,void 0,void 0,(function(){var n;return a(this,(function(r){return n=this.id,[2,(t||u.InternalChannelHandler.getInstance()).update(n,e)]}))}))},n.join=function(e){return o(n,void 0,void 0,(function(){var t;return a(this,(function(n){return t=this.id,[2,(e||u.InternalChannelHandler.getInstance()).join(t)]}))}))},n.uri=t.config.uri,n}return s(t,e),t.create=function(e,t){return o(this,void 0,void 0,(function(){return a(this,(function(n){return[2,(t||u.InternalChannelHandler.getInstance()).createChannel(i(i({},e),{type:u.ChannelType.Public}))]}))}))},t}(u.GroupChannel);t.PublicChannel=c},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateChannel=void 0;var u=n(0),c=function(e){function t(t){var n=e.call(this,t)||this;return n.update=function(e,t){return o(n,void 0,void 0,(function(){var n;return a(this,(function(r){return n=this.id,[2,(t||u.InternalChannelHandler.getInstance()).update(n,e)]}))}))},n.addMembers=function(e,t){return void 0===t&&(t=!0),o(n,void 0,void 0,(function(){var n;return a(this,(function(r){return n=this.id,[2,u.InternalChannelHandler.getInstance().addMembers(n,e,t)]}))}))},n}return s(t,e),t.create=function(e,t){return o(this,void 0,void 0,(function(){return a(this,(function(n){return[2,(t||u.InternalChannelHandler.getInstance()).createChannel(i(i({},e),{type:u.ChannelType.Private}))]}))}))},t}(u.GroupChannel);t.PrivateChannel=c},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirectChannel=void 0;var u=n(0),c=function(e){function t(t){var n=e.call(this,t)||this;return n.update=function(e,t){return o(n,void 0,void 0,(function(){var n;return a(this,(function(r){return n=this.id,[2,(t||u.InternalChannelHandler.getInstance()).update(n,e)]}))}))},n.peer=t.members.length?i({},new u.Member(t.members[0])):{},n.label=t.config.label,n.metadata=t.config.metadata,n}return s(t,e),t.create=function(e,t){return o(this,void 0,void 0,(function(){var n,r,s,i;return a(this,(function(o){return n=t||u.InternalChannelHandler.getInstance(),r=e.metadata,s=e.label,i=e.userId,[2,n.createChannel({type:u.ChannelType.Direct,metadata:r,label:s,members:[i]})]}))}))},t}(u.Channel);t.DirectChannel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBuilder=void 0;var r=n(0),s=function(e,t){var n=this;this.requestedMentionUserIds=[],this.transient=!1,this.silent=!1,this.setBody=function(e){return n.text=e,n},this.setMetadata=function(e){return n.metadata=e,n},this.setTransient=function(e){return n.transient=e,n},this.setSilent=function(e){return n.silent=e,n},this.setType=function(e){return n.type=e,n},this.setParentMessageId=function(e){return n.parentMessageId=e,n},this.setReplyInThread=function(){return n.replyInThread=!0,n},this.setMentionUserIds=function(e){return n.requestedMentionUserIds=e,n},this.setAttachments=function(e){return e&&e.length&&(n.attachments=e),n},this.create=function(){return new r.Message({message:{from:n.from,to:n.to,text:n.text,type:n.type,metadata:n.metadata,attachments:n.attachments,tid:n.tid,requestedMentionUserIds:n.requestedMentionUserIds,parentMessageId:n.parentMessageId,silent:n.silent,transient:n.transient},replyInThread:n.replyInThread})},this.from=e,this.to=t,this.text="",this.type="",this.metadata="",this.tid=r.createTid(),this.attachments=[],this.parentMessageId="",this.replyInThread=!1};t.MessageBuilder=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var s=n(0),i=function(e){var t,n,i,o,a=this;this.selfMarkers=[],this.selfReactions=[],this.lastReactions=[],this.reactionScores=null,this.repliedInThread=!1,this.transient=!1,this.silent=!1,this.mentionUserIds=function(){return a.requestedMentionUserIds};var u=s.InternalChannelHandler.getInstance();this.user=e.message.from,this.body=e.message.text,this.metadata=e.message.metadata,this.incoming=e.message.isIncoming||!1,this.createdAt=e.message.date||new Date(Date.now()),this.updatedAt=e.message.updatedAt,e.message.selfMarkers&&e.message.selfMarkers.length&&(this.selfMarkers=e.message.selfMarkers.map((function(e){return"received"===e?"Delivered":"displayed"===e?"Read":e}))),e.message.tid&&(this.tid=e.message.tid),this.id=e.message.id?e.message.id.toString():"",this.type=e.message.type,this.deliveryStatus=e.message.status?s.MessageDeliveryStatus[e.message.status]:"None",this.state=e.message.chStatus?s.MessageUpdateStatus[e.message.chStatus]:"None",this.transient=e.message.transient,this.silent=e.message.silent,e.message.reaction&&(null===(t=e.message.reaction)||void 0===t?void 0:t.countList.length)&&(this.reactionScores={},this.selfReactions=null===(n=e.message.reaction)||void 0===n?void 0:n.selfObjs.map((function(t){var n;return new s.Reaction(r(r({},t),{messageId:null===(n=e.message.reaction)||void 0===n?void 0:n.messageId}))})),this.lastReactions=null===(i=e.message.reaction)||void 0===i?void 0:i.lastObjs.map((function(t){var n;return new s.Reaction(r(r({},t),{messageId:null===(n=e.message.reaction)||void 0===n?void 0:n.messageId}))})),null===(o=e.message.reaction)||void 0===o||o.countList.forEach((function(e){a.reactionScores[e.key]=e.count}))),this.attachments=e.message.attachments,this.requestedMentionUserIds=e.message.requestedMentionUserIds||null,this.mentionedUsers=e.message.mentions||[],e.message.parentMessageId&&(this.parentId=e.message.parentMessageId,this.repliedInThread=e.replyInThread),e.parent&&(this.parent=u.createMessageInstance({message:e.parent}),this.repliedInThread=e.replyInThread),e.message.replyCount&&(this.replyCount=e.message.replyCount)};t.Message=i},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedChannelListQueryBuilder=void 0;var a=n(0),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=function(e){return t.count=e,t},t.build=function(){return i(t,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.BlockedChannelListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t}return s(t,e),t}(a.QueryBuilder);t.BlockedChannelListQueryBuilder=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedChannelListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.index=0,this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,o;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,5]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),this.loading=!0,[4,e.getBlockedChannels(this)]):[3,3];case 1:return t=s.sent(),this.loading=!1,n=t.channels.list,r=t.count,[4,e.createChannels(n)];case 2:return o=s.sent(),this.index+=n.length,this.hasNext=r-this.index>0,[2,{blockedChannels:o,hasNext:this.hasNext}];case 3:return[2,{blockedChannels:[],hasNest:this.hasNext}];case 4:return[3,6];case 5:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 6:return[2]}}))}))},this.count=e.count}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},enumerable:!1,configurable:!0}),e}();t.BlockedChannelListQuery=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenChannelListQueryBuilder=void 0;var a=n(0),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=function(e){return t.count=e,t},t.build=function(){return i(t,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.HiddenChannelListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t}return s(t,e),t}(a.QueryBuilder);t.HiddenChannelListQueryBuilder=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenChannelListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.index=0,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalChannelHandler.getInstance(),this.loading=!0,[4,t.getHiddenChannels(this)]):[3,2];case 1:return n=s.sent(),this.loading=!1,r=n.channels.list,o=n.count,a=t.createChannels(r),this.index+=r.length,this.hasNext=o-this.index>0,[2,{hiddenChannels:a,hasNext:this.hasNext}];case 2:return[2,{hiddenChannels:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.count=e.count}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},enumerable:!1,configurable:!0}),e}();t.HiddenChannelListQuery=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserListQueryBuilder=void 0;var a=n(0),u=function(e){function t(){var t=e.call(this)||this;return t.limit=function(e){return t.count=e,t},t.query=function(e){return t.searchQuery=e,t},t.offset=function(e){return t.index=e,t},t.orderByFirstname=function(){return t.order=a.UserSearchOrder[a.UserSearchOrder.FIRST_NAME],t},t.orderByLastname=function(){return t.order=a.UserSearchOrder[a.UserSearchOrder.LAST_NAME],t},t.orderByUsername=function(){return t.order=a.UserSearchOrder[a.UserSearchOrder.USERNAME],t},t.filterByAll=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_ALL],t},t.filterByFirstname=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_FIRST_NAME],t},t.filterByLastname=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_LAST_NAME],t},t.filterByUsername=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_USERNAME],t},t.build=function(){return i(t,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.UsersQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_ALL],t.order=a.UserSearchOrder[a.UserSearchOrder.FIRST_NAME],t.searchQuery="",t.index=0,t.hasNext=!0,t}return s(t,e),t}(a.QueryBuilder);t.UserListQueryBuilder=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalUserHandler.getInstance(),this.loading=!0,n={count:this.count,query:this.query,order:this.order,filter:this.filter,index:this.index},[4,t.usersQuery(n)]):[3,2];case 1:return r=s.sent(),this.loading=!1,this.index+=r.length,this.hasNext=this.count>=r.length,[2,{users:r,hasNext:this.hasNext}];case 2:return[2,{users:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.filter=e.filter,this.order=e.order,this.query=e.searchQuery,this.index=e.index,this.count=e.count,this.hasNext=e.hasNext}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),e}();t.UsersQuery=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MemberListQueryBuilder=void 0;var a=n(0),u=function(e){function t(t){var n=e.call(this)||this;return n.limit=function(e){return n.count=e,n},n.privileged=function(){return n.type=a.MembersType[a.MembersType.PRIVILEGED],n},n.all=function(){return n.type=a.MembersType[a.MembersType.ALL],n},n.byAscendingOrder=function(){return n.order=a.MembersOrder[a.MembersOrder.ASC],n},n.byDescendingOrder=function(){return n.order=a.MembersOrder[a.MembersOrder.DESC],n},n.byAffiliationOrder=function(){return n.order=a.MembersOrder[a.MembersOrder.AFFILATION],n},n.orderKeyByUsername=function(){return n.key=a.MembersOrderKey[a.MembersOrderKey.USERNAME],n},n.orderKeyByFirstname=function(){return n.key=a.MembersOrderKey[a.MembersOrderKey.FIRSTNAME],n},n.orderKeyByLastname=function(){return n.key=a.MembersOrderKey[a.MembersOrderKey.LASTNAME],n},n.build=function(){return i(n,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.MemberListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},n.channelId=t,n.type=a.MembersType[a.MembersType.ALL],n.order=a.MembersOrder[a.MembersOrder.DESC],n.key=a.MembersOrderKey[a.MembersOrderKey.FIRSTNAME],n.i=0,n}return s(t,e),t}(a.QueryBuilder);t.MemberListQueryBuilder=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MemberListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r,o;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalChannelHandler.getInstance(),this.loading=!0,[4,t.getMembers(this)]):[3,2];case 1:return n=s.sent(),this.loading=!1,r=n.members.list,o=n.count,this.index+=r.length,this.hasNext=o-this.index>0,[2,{members:t.createMembersList(r),hasNext:this.hasNext}];case 2:return[2,{members:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.channelId=e.channelId,this.order=e.order,this.type=e.type,this.key=e.key,this.index=e.i,this.count=e.count}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orderKey",{get:function(){return this.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orderType",{get:function(){return this.order},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryType",{get:function(){return this.type},enumerable:!1,configurable:!0}),e}();t.MemberListQuery=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedMemberListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.index=0,this.loadNextPage=function(){return r(t,void 0,void 0,(function(){var e,t,n,r;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,4]:this.hasNext?[4,(e=i.InternalChannelHandler.getInstance()).getBlockedMembers(this)]:[3,2];case 1:return t=s.sent(),n=t.members.list,r=t.count,this.index+=n.length,this.hasNext=r-this.index>0,[2,{members:e.createMembersList(n),hasNext:this.hasNext}];case 2:return[2,{members:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.channelId=e.channelId,this.count=e.count,this.hasNext=e.hasNext}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),e}();t.BlockedMemberListQuery=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedMemberListQueryBuilder=void 0;var i=n(0),o=function(e){function t(t){var n=e.call(this)||this;return n.limit=function(e){return n.count=e,n},n.build=function(){try{return new i.BlockedMemberListQuery(n)}catch(e){throw new i.SceytChatError(e.message,e.code)}},n.channelId=t,n.hasNext=!0,n}return s(t,e),t}(i.QueryBuilder);t.BlockedMemberListQueryBuilder=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SceytChatError=void 0;var i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.code=n,r.name="SceytChatError",r}return s(t,e),t}(Error);t.SceytChatError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentBuilder=void 0;var r=n(27),s=function(e,t){var n=this;this.setName=function(e){return n.name=e,n},this.setMetadata=function(e){return n.metadata=e,n},this.setUpload=function(e){return n.upload=e,n},this.create=function(){return new r.Attachment(n)},this.url=e,this.type=t,this.upload=!1};t.AttachmentBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemberBuilder=void 0;var r=n(26),s=function(e){var t=this;this.setRole=function(e){return t.role=e||"participant",t},this.create=function(){return new r.Member({role:t.role,user:{id:t.id}})},this.id=e,this.role="participant"};t.MemberBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Role=void 0;var r=function(e){this.name=e.name||""};t.Role=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reaction=void 0;var r=n(0),s=function(e){this.key=e.key,this.score=e.score,this.reason=e.reason,this.updatedAt=new Date(e.updatedAt?e.updatedAt/r.BIT22+r.EPOCH:e.createdAt/r.BIT22+r.EPOCH),this.messageId=e.messageId,this.user=new r.User(e.user)};t.Reaction=s},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedUserListQueryBuilder=void 0;var a=n(0),u=function(e){function t(){var t=e.call(this)||this;return t.limit=function(e){return t.count=e,t},t.offset=function(e){return t.i=e,t},t.build=function(){return i(t,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.BlockedUserListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t.i=0,t.hasNext=!0,t}return s(t,e),t}(a.QueryBuilder);t.BlockedUserListQueryBuilder=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedUserListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(){return r(t,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:return this.loading?[3,4]:this.hasNext?(e=i.InternalUserHandler.getInstance(),this.loading=!0,t={count:this.count,index:this.index},[4,e.blockedUsersQuery(t)]):[3,2];case 1:return n=r.sent(),this.loading=!1,this.index+=n.length,this.hasNext=this.count>=n.length,[2,{users:n,hasNext:this.hasNext}];case 2:return[2,{users:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.index=e.i,this.count=e.count,this.hasNext=e.hasNext}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),e}();t.BlockedUserListQuery=o},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionListQueryBuilder=void 0;var a=n(0),u=function(e){function t(t,n){var r=e.call(this)||this;return r.hasNext=!0,r.build=function(){return i(r,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.ReactionQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},r.queryDirection=a.MessageQueryDirection[a.MessageQueryDirection.Previous],r.msgId=n,r.type=a.MessageEventType[a.MessageEventType.Search],r.channelId=t,r.msgType="",r}return s(t,e),t}(n(3).QueryBuilder);t.ReactionListQueryBuilder=u},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionQuery=void 0;var a=n(0),u=function(e){function t(t){var n=e.call(this)||this;return n.index=0,n.limit=function(e){return n.count=e,n},n.loadNextPage=function(e){return i(n,void 0,void 0,(function(){var t,n,r;return o(this,(function(s){switch(s.label){case 0:return this.hasNext?[4,(e||a.InternalChannelHandler.getInstance()).getReactions(this)]:[3,2];case 1:return t=s.sent(),n=t.messages,r=t.search,this.index+=n.list.length,r&&(this.hasNext=!r.complete),[3,2];case 2:return[2]}}))}))},n.channelId=t.channelId,n.type=t.type,n.queryDirection=t.queryDirection,n.msgType="",n.messageId=t.msgId,n.reverseData=!1,n}return s(t,e),t}(n(25).Query);t.ReactionQuery=u},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageMarkerListQueryBuilder=void 0;var a=n(0),u=function(e){function t(t,n,r){var s=e.call(this)||this;return s.limit=function(e){return s.count=e,s},s.reverse=function(e){s.reverseData=e},s.build=function(){return i(s,void 0,void 0,(function(){return o(this,(function(e){try{return[2,new a.MessageMarkerListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},s.channelId=t,s.messageId=n,s.markers=r.map((function(e){return"Read"===e?"displayed":"Delivered"===e?"received":e})),s.reverseData=!1,s}return s(t,e),t}(a.QueryBuilder);t.MessageMarkerListQueryBuilder=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageMarkerListQuery=void 0;var i=n(0),o=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:return this.loading?[3,3]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,messageId:this.messageId,markers:this.markers,start:this.start,count:this.count},this.loading=!0,[4,e.messageMarkersQuery(t)]):[3,2];case 1:return n=s.sent(),this.loading=!1,r=n.messages[0],o=r.markers[r.markers.length-1].time,a=o/i.BIT22+i.EPOCH,this.start=a,u=new Map,n.users.forEach((function(e){e.id=i.unescapeString(e.id),u.set(e.id,new i.User(e))})),[2,{markers:r.markers.map((function(e){return new i.MessageMarker({msgId:r.msgId,user:u.get(e.userId),name:e.name,createAt:a})})),hasNext:this.hasNext}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 3:return[2]}}))}))},this.channelId=e.channelId,this.messageId=e.messageId,this.markers=e.markers,this.count=e.count,this.reverseData=e.reverseData}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this.reverseData},set:function(e){this.reverseData=e},enumerable:!1,configurable:!0}),e}();t.MessageMarkerListQuery=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageMarker=void 0;var r=function(e){this.messageId=e.msgId.toString(),this.user=e.user,this.name="displayed"===e.name?"Read":"received"===e.name?"Delivered":e.name,this.createAt=new Date(e.createAt)};t.MessageMarker=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListMarker=void 0;var r=n(0),s=function(e){var t=e.time/r.BIT22+r.EPOCH;this.messageIds=e.ids.map((function(e){return e.toString()})),this.user=new r.User(e.from),this.name="displayed"===e.marker?"Read":"received"===e.marker?"Delivered":e.marker,this.createAt=new Date(t)};t.MessageListMarker=s}])}));